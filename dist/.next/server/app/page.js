(()=>{var a={};a.id=974,a.ids=[974],a.modules={69:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(96251),b)},181:(a,b)=>{"use strict";function c(a){return a.toString(16).padStart(2,"0")}Object.defineProperty(b,"__esModule",{value:!0}),b.isInSubnet=function(a){return!(this.subnetMask<a.subnetMask)&&this.mask(a.subnetMask)===a.mask()},b.isCorrect=function(a){return function(){return this.addressMinusSuffix===this.correctForm()&&(this.subnetMask===a&&!this.parsedSubnet||this.parsedSubnet===String(this.subnetMask))}},b.numberToPaddedHex=c,b.stringToPaddedHex=function(a){return c(parseInt(a,10))},b.testBit=function(a,b){let{length:c}=a;if(b>c)return!1;let d=c-b;return"1"===a.substring(d,d+1)}},261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},781:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ReasonCodes=void 0;let d=c(91591);b.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},b.default=(a,c)=>{let{messageId:e}=c,f=c.cmd,g=null,h=a.outgoing[e]?a.outgoing[e].cb:null,i=null;if(!h)return void a.log("_handleAck :: Server sent an ack in error. Ignoring.");switch(a.log("_handleAck :: packet type",f),f){case"pubcomp":case"puback":{let f=c.reasonCode;f&&f>0&&16!==f?(i=new d.ErrorWithReasonCode(`Publish error: ${b.ReasonCodes[f]}`,f),a._removeOutgoingAndStoreMessage(e,()=>{h(i,c)})):a._removeOutgoingAndStoreMessage(e,h);break}case"pubrec":{g={cmd:"pubrel",qos:2,messageId:e};let f=c.reasonCode;f&&f>0&&16!==f?(i=new d.ErrorWithReasonCode(`Publish error: ${b.ReasonCodes[f]}`,f),a._removeOutgoingAndStoreMessage(e,()=>{h(i,c)})):a._sendPacket(g);break}case"suback":{delete a.outgoing[e],a.messageIdProvider.deallocate(e);let d=c.granted;for(let c=0;c<d.length;c++){let f=d[c];if((128&f)!=0){(i=Error(`Subscribe error: ${b.ReasonCodes[f]}`)).code=f;let c=a.messageIdToTopic[e];c&&c.forEach(b=>{delete a._resubscribeTopics[b]})}}delete a.messageIdToTopic[e],a._invokeStoreProcessingQueue(),h(i,c);break}case"unsuback":delete a.outgoing[e],a.messageIdProvider.deallocate(e),a._invokeStoreProcessingQueue(),h(null,c);break;default:a.emit("error",Error("unrecognized packet type"))}a.disconnecting&&0===Object.keys(a.outgoing).length&&a.emit("outgoingEmpty")}},2320:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b};Object.defineProperty(b,"__esModule",{value:!0}),b.v6=b.AddressError=b.Address6=b.Address4=void 0;var g=c(93379);Object.defineProperty(b,"Address4",{enumerable:!0,get:function(){return g.Address4}});var h=c(47009);Object.defineProperty(b,"Address6",{enumerable:!0,get:function(){return h.Address6}});var i=c(48869);Object.defineProperty(b,"AddressError",{enumerable:!0,get:function(){return i.AddressError}}),b.v6={helpers:f(c(55202))}},2327:(a,b,c)=>{"use strict";let{ArrayIsArray:d,ObjectSetPrototypeOf:e}=c(72602),{EventEmitter:f}=c(94735);function g(a){f.call(this,a)}function h(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?d(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}e(g.prototype,f.prototype),e(g,f),g.prototype.pipe=function(a,b){let c=this;function d(b){a.writable&&!1===a.write(b)&&c.pause&&c.pause()}function e(){c.readable&&c.resume&&c.resume()}c.on("data",d),a.on("drain",e),a._isStdio||b&&!1===b.end||(c.on("end",i),c.on("close",j));let g=!1;function i(){g||(g=!0,a.end())}function j(){g||(g=!0,"function"==typeof a.destroy&&a.destroy())}function k(a){l(),0===f.listenerCount(this,"error")&&this.emit("error",a)}function l(){c.removeListener("data",d),a.removeListener("drain",e),c.removeListener("end",i),c.removeListener("close",j),c.removeListener("error",k),a.removeListener("error",k),c.removeListener("end",l),c.removeListener("close",l),a.removeListener("close",l)}return h(c,"error",k),h(a,"error",k),c.on("end",l),c.on("close",l),a.on("close",l),a.emit("pipe",c),a},a.exports={Stream:g,prependListener:h}},2600:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.TypedEventEmitter=void 0;let e=d(c(94735)),f=c(91591);class g{}b.TypedEventEmitter=g,(0,f.applyMixin)(g,e.default)},3108:a=>{"use strict";a.exports={version:"5.14.1"}},3204:(a,b,c)=>{"use strict";let{ObjectSetPrototypeOf:d}=c(72602);a.exports=f;let e=c(4986);function f(a){if(!(this instanceof f))return new f(a);e.call(this,a)}d(f.prototype,e.prototype),d(f,e),f.prototype._transform=function(a,b,c){c(null,a)}},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4199:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(41072);class e{numberAllocator;lastId;constructor(){this.numberAllocator=new d.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(a){return this.numberAllocator.use(a)}deallocate(a){this.numberAllocator.free(a)}clear(){this.numberAllocator.clear()}}b.default=e},4986:(a,b,c)=>{"use strict";let{ObjectSetPrototypeOf:d,Symbol:e}=c(72602);a.exports=j;let{ERR_METHOD_NOT_IMPLEMENTED:f}=c(30775).codes,g=c(75750),{getHighWaterMark:h}=c(50111);d(j.prototype,g.prototype),d(j,g);let i=e("kCallback");function j(a){if(!(this instanceof j))return new j(a);let b=a?h(this,a,"readableHighWaterMark",!0):null;0===b&&(a={...a,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:a.writableHighWaterMark||0}),g.call(this,a),this._readableState.sync=!1,this[i]=null,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",l)}function k(a){"function"!=typeof this._flush||this.destroyed?(this.push(null),a&&a()):this._flush((b,c)=>{if(b)return void(a?a(b):this.destroy(b));null!=c&&this.push(c),this.push(null),a&&a()})}function l(){this._final!==k&&k.call(this)}j.prototype._final=k,j.prototype._transform=function(a,b,c){throw new f("_transform()")},j.prototype._write=function(a,b,c){let d=this._readableState,e=this._writableState,f=d.length;this._transform(a,b,(a,b)=>{if(a)return void c(a);null!=b&&this.push(b),e.ended||f===d.length||d.length<d.highWaterMark?c():this[i]=c})},j.prototype._read=function(){if(this[i]){let a=this[i];this[i]=null,a()}}},6023:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.shuffleArray=b.SocksClientError=void 0;class c extends Error{constructor(a,b){super(a),this.options=b}}b.SocksClientError=c,b.shuffleArray=function(a){for(let b=a.length-1;b>0;b--){let c=Math.floor(Math.random()*(b+1));[a[b],a[c]]=[a[c],a[b]]}}},7363:(a,b,c)=>{"use strict";c(77740);let{Duplex:d}=c(27910);function e(a){a.emit("close")}function f(){!this.destroyed&&this._writableState.finished&&this.destroy()}function g(a){this.removeListener("error",g),this.destroy(),0===this.listenerCount("error")&&this.emit("error",a)}a.exports=function(a,b){let c=!0,h=new d({...b,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return a.on("message",function(b,c){let d=!c&&h._readableState.objectMode?b.toString():b;h.push(d)||a.pause()}),a.once("error",function(a){h.destroyed||(c=!1,h.destroy(a))}),a.once("close",function(){h.destroyed||h.push(null)}),h._destroy=function(b,d){if(a.readyState===a.CLOSED){d(b),process.nextTick(e,h);return}let f=!1;a.once("error",function(a){f=!0,d(a)}),a.once("close",function(){f||d(b),process.nextTick(e,h)}),c&&a.terminate()},h._final=function(b){if(a.readyState===a.CONNECTING)return void a.once("open",function(){h._final(b)});null!==a._socket&&(a._socket._writableState.finished?(b(),h._readableState.endEmitted&&h.destroy()):(a._socket.once("finish",function(){b()}),a.close()))},h._read=function(){a.isPaused&&a.resume()},h._write=function(b,c,d){if(a.readyState===a.CONNECTING)return void a.once("open",function(){h._write(b,c,d)});a.send(b,d)},h.on("end",f),h.on("error",g),h}},8965:(a,b,c)=>{"use strict";c.d(b,{CD:()=>u});var d=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),e=function(){function a(a,b){this.ee=1,this.u=void 0,this.p=void 0,this.K=void 0,this.N=void 0,this.rr=void 0,this.u=a,this.p=b}return a.prototype.L=function(){var a=this;if(1===a.ee&&a.rr.rr===a)a=a.N;else if(a.K)for(a=a.K;a.N;)a=a.N;else{for(var b=a.rr;b.K===a;)b=(a=b).rr;a=b}return a},a.prototype.m=function(){var a=this;if(a.N){for(a=a.N;a.K;)a=a.K;return a}for(var b=a.rr;b.N===a;)b=(a=b).rr;return a.N!==b?b:a},a.prototype.ne=function(){var a=this.rr,b=this.N,c=b.K;return a.rr===this?a.rr=b:a.K===this?a.K=b:a.N=b,b.rr=a,b.K=this,this.rr=b,this.N=c,c&&(c.rr=this),b},a.prototype.te=function(){var a=this.rr,b=this.K,c=b.N;return a.rr===this?a.rr=b:a.K===this?a.K=b:a.N=b,b.rr=a,b.N=this,this.rr=b,this.K=c,c&&(c.rr=this),b},a}(),f=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.tr=1,b}return d(b,a),b.prototype.ne=function(){var b=a.prototype.ne.call(this);return this.ie(),b.ie(),b},b.prototype.te=function(){var b=a.prototype.te.call(this);return this.ie(),b.ie(),b},b.prototype.ie=function(){this.tr=1,this.K&&(this.tr+=this.K.tr),this.N&&(this.tr+=this.N.tr)},b}(e),g=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=function(){function a(a){void 0===a&&(a=0),this.iteratorType=a}return a.prototype.equals=function(a){return this.o===a.o},a}(),i=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return g(b,a),b}(function(){function a(){this.M=0}return Object.defineProperty(a.prototype,"length",{get:function(){return this.M},enumerable:!1,configurable:!0}),a.prototype.size=function(){return this.M},a.prototype.empty=function(){return 0===this.M},a}());function j(){throw RangeError("Iterator access denied!")}var k=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),l=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},m=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},n=function(a){function b(b,c){void 0===b&&(b=function(a,b){return a<b?-1:+(a>b)}),void 0===c&&(c=!1);var d=a.call(this)||this;return d.W=void 0,d.$=b,c?(d.re=f,d.v=function(a,b,c){var d=this.se(a,b,c);if(d){for(var e=d.rr;e!==this.h;)e.tr+=1,e=e.rr;var f=this.fe(d);if(f){var g=f.parentNode,h=f.grandParent,i=f.curNode;g.ie(),h.ie(),i.ie()}}return this.M},d.G=function(a){for(var b=this.he(a);b!==this.h;)b.tr-=1,b=b.rr}):(d.re=e,d.v=function(a,b,c){var d=this.se(a,b,c);return d&&this.fe(d),this.M},d.G=d.he),d.h=new d.re,d}return k(b,a),b.prototype.U=function(a,b){for(var c=this.h;a;){var d=this.$(a.u,b);if(d<0)a=a.N;else{if(!(d>0))return a;c=a,a=a.K}}return c},b.prototype.X=function(a,b){for(var c=this.h;a;)0>=this.$(a.u,b)?a=a.N:(c=a,a=a.K);return c},b.prototype.Y=function(a,b){for(var c=this.h;a;){var d=this.$(a.u,b);if(d<0)c=a,a=a.N;else{if(!(d>0))return a;a=a.K}}return c},b.prototype.Z=function(a,b){for(var c=this.h;a;)0>this.$(a.u,b)?(c=a,a=a.N):a=a.K;return c},b.prototype.ue=function(a){for(;;){var b=a.rr;if(b===this.h)return;if(1===a.ee){a.ee=0;return}if(a===b.K){var c=b.N;if(1===c.ee)c.ee=0,b.ee=1,b===this.W?this.W=b.ne():b.ne();else if(c.N&&1===c.N.ee){c.ee=b.ee,b.ee=0,c.N.ee=0,b===this.W?this.W=b.ne():b.ne();return}else c.K&&1===c.K.ee?(c.ee=1,c.K.ee=0,c.te()):(c.ee=1,a=b)}else{var c=b.K;if(1===c.ee)c.ee=0,b.ee=1,b===this.W?this.W=b.te():b.te();else if(c.K&&1===c.K.ee){c.ee=b.ee,b.ee=0,c.K.ee=0,b===this.W?this.W=b.te():b.te();return}else c.N&&1===c.N.ee?(c.ee=1,c.N.ee=0,c.ne()):(c.ee=1,a=b)}}},b.prototype.he=function(a){if(1===this.M)return this.clear(),this.h;for(var b,c,d=a;d.K||d.N;){if(d.N)for(d=d.N;d.K;)d=d.K;else d=d.K;b=l([d.u,a.u],2),a.u=b[0],d.u=b[1],c=l([d.p,a.p],2),a.p=c[0],d.p=c[1],a=d}this.h.K===d?this.h.K=d.rr:this.h.N===d&&(this.h.N=d.rr),this.ue(d);var e=d.rr;return d===e.K?e.K=void 0:e.N=void 0,this.M-=1,this.W.ee=0,e},b.prototype.ae=function(a,b){return void 0!==a&&(!!(this.ae(a.K,b)||b(a))||this.ae(a.N,b))},b.prototype.fe=function(a){for(;;){var b=a.rr;if(0===b.ee)return;var c=b.rr;if(b===c.K){var d=c.N;if(d&&1===d.ee){if(d.ee=b.ee=0,c===this.W)return;c.ee=1,a=c;continue}if(a===b.N){if(a.ee=0,a.K&&(a.K.rr=b),a.N&&(a.N.rr=c),b.N=a.K,c.K=a.N,a.K=b,a.N=c,c===this.W)this.W=a,this.h.rr=a;else{var e=c.rr;e.K===c?e.K=a:e.N=a}return a.rr=c.rr,b.rr=a,c.rr=a,c.ee=1,{parentNode:b,grandParent:c,curNode:a}}b.ee=0,c===this.W?this.W=c.te():c.te(),c.ee=1}else{var d=c.K;if(d&&1===d.ee){if(d.ee=b.ee=0,c===this.W)return;c.ee=1,a=c;continue}if(a===b.K){if(a.ee=0,a.K&&(a.K.rr=c),a.N&&(a.N.rr=b),c.N=a.K,b.K=a.N,a.K=c,a.N=b,c===this.W)this.W=a,this.h.rr=a;else{var e=c.rr;e.K===c?e.K=a:e.N=a}return a.rr=c.rr,b.rr=a,c.rr=a,c.ee=1,{parentNode:b,grandParent:c,curNode:a}}b.ee=0,c===this.W?this.W=c.ne():c.ne(),c.ee=1}return}},b.prototype.se=function(a,b,c){if(void 0===this.W){this.M+=1,this.W=new this.re(a,b),this.W.ee=0,this.W.rr=this.h,this.h.rr=this.W,this.h.K=this.W,this.h.N=this.W;return}var d,e=this.h.K,f=this.$(e.u,a);if(0===f){e.p=b;return}if(f>0)e.K=new this.re(a,b),e.K.rr=e,d=e.K,this.h.K=d;else{var g=this.h.N,h=this.$(g.u,a);if(0===h){g.p=b;return}if(h<0)g.N=new this.re(a,b),g.N.rr=g,d=g.N,this.h.N=d;else{if(void 0!==c){var i=c.o;if(i!==this.h){var j=this.$(i.u,a);if(0===j){i.p=b;return}if(j>0){var k=i.L(),l=this.$(k.u,a);if(0===l){k.p=b;return}l<0&&(d=new this.re(a,b),void 0===k.N?(k.N=d,d.rr=k):(i.K=d,d.rr=i))}}}if(void 0===d)for(d=this.W;;){var m=this.$(d.u,a);if(m>0){if(void 0===d.K){d.K=new this.re(a,b),d.K.rr=d,d=d.K;break}d=d.K}else if(m<0){if(void 0===d.N){d.N=new this.re(a,b),d.N.rr=d,d=d.N;break}d=d.N}else{d.p=b;return}}}}return this.M+=1,d},b.prototype.g=function(a,b){for(;a;){var c=this.$(a.u,b);if(c<0)a=a.N;else{if(!(c>0))return a;a=a.K}}return a||this.h},b.prototype.clear=function(){this.M=0,this.W=void 0,this.h.rr=void 0,this.h.K=this.h.N=void 0},b.prototype.updateKeyByIterator=function(a,b){var c=a.o;if(c===this.h&&j(),1===this.M)return c.u=b,!0;if(c===this.h.K)return this.$(c.m().u,b)>0&&(c.u=b,!0);if(c===this.h.N)return 0>this.$(c.L().u,b)&&(c.u=b,!0);var d=c.L().u;if(this.$(d,b)>=0)return!1;var e=c.m().u;return!(0>=this.$(e,b))&&(c.u=b,!0)},b.prototype.eraseElementByPos=function(a){if(a<0||a>this.M-1)throw RangeError();var b=0,c=this;return this.ae(this.W,function(d){return a===b?(c.G(d),!0):(b+=1,!1)}),this.M},b.prototype.eraseElementByKey=function(a){if(0===this.M)return!1;var b=this.g(this.W,a);return b!==this.h&&(this.G(b),!0)},b.prototype.eraseElementByIterator=function(a){var b=a.o;b===this.h&&j();var c=void 0===b.N;return 0===a.iteratorType?c&&a.next():c&&void 0!==b.K||a.next(),this.G(b),a},b.prototype.forEach=function(a){var b,c,d=0;try{for(var e=m(this),f=e.next();!f.done;f=e.next()){var g=f.value;a(g,d++,this)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}},b.prototype.getElementByPos=function(a){if(a<0||a>this.M-1)throw RangeError();var b,c,d,e=0;try{for(var f=m(this),g=f.next();!g.done;g=f.next()){var h=g.value;if(e===a){d=h;break}e+=1}}catch(a){b={error:a}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}return d},b.prototype.getHeight=function(){if(0===this.M)return 0;var a=function(b){return b?Math.max(a(b.K),a(b.N))+1:0};return a(this.W)},b}(i),o=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),p=function(a){function b(b,c,d){var e=a.call(this,d)||this;return e.o=b,e.h=c,0===e.iteratorType?(e.pre=function(){return this.o===this.h.K&&j(),this.o=this.o.L(),this},e.next=function(){return this.o===this.h&&j(),this.o=this.o.m(),this}):(e.pre=function(){return this.o===this.h.N&&j(),this.o=this.o.m(),this},e.next=function(){return this.o===this.h&&j(),this.o=this.o.L(),this}),e}return o(b,a),Object.defineProperty(b.prototype,"index",{get:function(){var a=this.o,b=this.h.rr;if(a===this.h)return b?b.tr-1:0;var c=0;for(a.K&&(c+=a.K.tr);a!==b;){var d=a.rr;a===d.N&&(c+=1,d.K&&(c+=d.K.tr)),a=d}return c},enumerable:!1,configurable:!0}),b}(h),q=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),r=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},s=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},t=function(a){function b(b,c,d,e){var f=a.call(this,b,c,e)||this;return f.container=d,f}return q(b,a),Object.defineProperty(b.prototype,"pointer",{get:function(){return this.o===this.h&&j(),this.o.u},enumerable:!1,configurable:!0}),b.prototype.copy=function(){return new b(this.o,this.h,this.container,this.iteratorType)},b}(p);let u=function(a){function b(b,c,d){void 0===b&&(b=[]);var e=a.call(this,c,d)||this;return b.forEach(function(a){e.insert(a)}),e}return q(b,a),b.prototype.P=function(a){return r(this,function(b){switch(b.label){case 0:if(void 0===a)return[2];return[5,s(this.P(a.K))];case 1:return b.sent(),[4,a.u];case 2:return b.sent(),[5,s(this.P(a.N))];case 3:return b.sent(),[2]}})},b.prototype.begin=function(){return new t(this.h.K||this.h,this.h,this)},b.prototype.end=function(){return new t(this.h,this.h,this)},b.prototype.rBegin=function(){return new t(this.h.N||this.h,this.h,this,1)},b.prototype.rEnd=function(){return new t(this.h,this.h,this,1)},b.prototype.front=function(){return this.h.K?this.h.K.u:void 0},b.prototype.back=function(){return this.h.N?this.h.N.u:void 0},b.prototype.insert=function(a,b){return this.v(a,void 0,b)},b.prototype.find=function(a){return new t(this.g(this.W,a),this.h,this)},b.prototype.lowerBound=function(a){return new t(this.U(this.W,a),this.h,this)},b.prototype.upperBound=function(a){return new t(this.X(this.W,a),this.h,this)},b.prototype.reverseLowerBound=function(a){return new t(this.Y(this.W,a),this.h,this)},b.prototype.reverseUpperBound=function(a){return new t(this.Z(this.W,a),this.h,this)},b.prototype.union=function(a){var b=this;return a.forEach(function(a){b.insert(a)}),this.M},b.prototype[Symbol.iterator]=function(){return this.P(this.W)},b}(n)},9395:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(34012));class f{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(a,b){this.client=a,this.timer="object"==typeof b&&"set"in b&&"clear"in b?b:(0,e.default)(b),this.setKeepalive(a.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(a){if(isNaN(a*=1e3)||a<=0||a>0x7fffffff)throw Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${a}`);this._keepalive=a,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${a}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let a=Math.ceil(1.5*this._keepalive);this._keepaliveTimeoutTimestamp=Date.now()+a,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{!this.destroyed&&(this.counter+=1,2===this.counter?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}}b.default=f},9841:(a,b,c)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?a.exports=c(19777):a.exports=c(73097)},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12083:(a,b,c)=>{"use strict";let d=globalThis.AbortController||c(15464).AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:f,ERR_MISSING_ARGS:g,ERR_OUT_OF_RANGE:h},AbortError:i}=c(30775),{validateAbortSignal:j,validateInteger:k,validateObject:l}=c(35957),m=c(72602).Symbol("kWeak"),n=c(72602).Symbol("kResistStopPropagation"),{finished:o}=c(78050),p=c(58378),{addAbortSignalNoValidate:q}=c(48887),{isWritable:r,isNodeStream:s}=c(98007),{deprecate:t}=c(37408),{ArrayPrototypePush:u,Boolean:v,MathFloor:w,Number:x,NumberIsNaN:y,Promise:z,PromiseReject:A,PromiseResolve:B,PromisePrototypeThen:C,Symbol:D}=c(72602),E=D("kEmpty"),F=D("kEof");function G(a,b){if("function"!=typeof a)throw new f("fn",["Function","AsyncFunction"],a);null!=b&&l(b,"options"),(null==b?void 0:b.signal)!=null&&j(b.signal,"options.signal");let d=1;(null==b?void 0:b.concurrency)!=null&&(d=w(b.concurrency));let e=d-1;return(null==b?void 0:b.highWaterMark)!=null&&(e=w(b.highWaterMark)),k(d,"options.concurrency",1),k(e,"options.highWaterMark",0),e+=d,(async function*(){let f,g,h=c(37408).AbortSignalAny([null==b?void 0:b.signal].filter(v)),j=this,k=[],l={signal:h},m=!1,n=0;function o(){m=!0,p()}function p(){n-=1,q()}function q(){g&&!m&&n<d&&k.length<e&&(g(),g=null)}!async function(){try{for await(let b of j){if(m)return;if(h.aborted)throw new i;try{if((b=a(b,l))===E)continue;b=B(b)}catch(a){b=A(a)}n+=1,C(b,p,o),k.push(b),f&&(f(),f=null),!m&&(k.length>=e||n>=d)&&await new z(a=>{g=a})}k.push(F)}catch(b){let a=A(b);C(a,p,o),k.push(a)}finally{m=!0,f&&(f(),f=null)}}();try{for(;;){for(;k.length>0;){let a=await k[0];if(a===F)return;if(h.aborted)throw new i;a!==E&&(yield a),k.shift(),q()}await new z(a=>{f=a})}}finally{m=!0,g&&(g(),g=null)}}).call(this)}async function H(a,b){for await(let c of L.call(this,a,b))return!0;return!1}async function I(a,b){if("function"!=typeof a)throw new f("fn",["Function","AsyncFunction"],a);return!await H.call(this,async(...b)=>!await a(...b),b)}async function J(a,b){for await(let c of L.call(this,a,b))return c}async function K(a,b){if("function"!=typeof a)throw new f("fn",["Function","AsyncFunction"],a);async function c(b,c){return await a(b,c),E}for await(let a of G.call(this,c,b));}function L(a,b){if("function"!=typeof a)throw new f("fn",["Function","AsyncFunction"],a);async function c(b,c){return await a(b,c)?b:E}return G.call(this,c,b)}class M extends g{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function N(a,b,c){var e,g;if("function"!=typeof a)throw new f("reducer",["Function","AsyncFunction"],a);null!=c&&l(c,"options"),(null==c?void 0:c.signal)!=null&&j(c.signal,"options.signal");let h=arguments.length>1;if(null!=c&&null!=(e=c.signal)&&e.aborted){let a=new i(void 0,{cause:c.signal.reason});throw this.once("error",()=>{}),await o(this.destroy(a)),a}let k=new d,p=k.signal;null!=c&&c.signal&&c.signal.addEventListener("abort",()=>k.abort(),{once:!0,[m]:this,[n]:!0});let q=!1;try{for await(let d of this){if(q=!0,null!=c&&null!=(g=c.signal)&&g.aborted)throw new i;h?b=await a(b,d,{signal:p}):(b=d,h=!0)}if(!q&&!h)throw new M}finally{k.abort()}return b}async function O(a){null!=a&&l(a,"options"),(null==a?void 0:a.signal)!=null&&j(a.signal,"options.signal");let b=[];for await(let d of this){var c;if(null!=a&&null!=(c=a.signal)&&c.aborted)throw new i(void 0,{cause:a.signal.reason});u(b,d)}return b}function P(a){if(y(a=x(a)))return 0;if(a<0)throw new h("number",">= 0",a);return a}a.exports.streamReturningOperators={asIndexedPairs:t(function(a){return null!=a&&l(a,"options"),(null==a?void 0:a.signal)!=null&&j(a.signal,"options.signal"),(async function*(){let b=0;for await(let d of this){var c;if(null!=a&&null!=(c=a.signal)&&c.aborted)throw new i({cause:a.signal.reason});yield[b++,d]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(a,b){return null!=b&&l(b,"options"),(null==b?void 0:b.signal)!=null&&j(b.signal,"options.signal"),a=P(a),(async function*(){var c,d;if(null!=b&&null!=(c=b.signal)&&c.aborted)throw new i;for await(let c of this){if(null!=b&&null!=(d=b.signal)&&d.aborted)throw new i;a--<=0&&(yield c)}}).call(this)},filter:L,flatMap:function(a,b){let c=G.call(this,a,b);return(async function*(){for await(let a of c)yield*a}).call(this)},map:G,take:function(a,b){return null!=b&&l(b,"options"),(null==b?void 0:b.signal)!=null&&j(b.signal,"options.signal"),a=P(a),(async function*(){var c,d;if(null!=b&&null!=(c=b.signal)&&c.aborted)throw new i;for await(let c of this){if(null!=b&&null!=(d=b.signal)&&d.aborted)throw new i;if(a-- >0&&(yield c),a<=0)return}}).call(this)},compose:function(a,b){if(null!=b&&l(b,"options"),(null==b?void 0:b.signal)!=null&&j(b.signal,"options.signal"),s(a)&&!r(a))throw new e("stream",a,"must be writable");let c=p(this,a);return null!=b&&b.signal&&q(b.signal,c),c}},a.exports.promiseReturningOperators={every:I,forEach:K,reduce:N,toArray:O,some:H,find:J}},12412:a=>{"use strict";a.exports=require("assert")},12674:(a,b)=>{"use strict";var c,d,e,f,g,h;Object.defineProperty(b,"__esModule",{value:!0}),b.SOCKS5_NO_ACCEPTABLE_AUTH=b.SOCKS5_CUSTOM_AUTH_END=b.SOCKS5_CUSTOM_AUTH_START=b.SOCKS_INCOMING_PACKET_SIZES=b.SocksClientState=b.Socks5Response=b.Socks5HostType=b.Socks5Auth=b.Socks4Response=b.SocksCommand=b.ERRORS=b.DEFAULT_TIMEOUT=void 0,b.DEFAULT_TIMEOUT=3e4,b.ERRORS={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"},b.SOCKS_INCOMING_PACKET_SIZES={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:a=>a+7,Socks4Response:8},function(a){a[a.connect=1]="connect",a[a.bind=2]="bind",a[a.associate=3]="associate"}(c||(b.SocksCommand=c={})),function(a){a[a.Granted=90]="Granted",a[a.Failed=91]="Failed",a[a.Rejected=92]="Rejected",a[a.RejectedIdent=93]="RejectedIdent"}(d||(b.Socks4Response=d={})),function(a){a[a.NoAuth=0]="NoAuth",a[a.GSSApi=1]="GSSApi",a[a.UserPass=2]="UserPass"}(e||(b.Socks5Auth=e={})),b.SOCKS5_CUSTOM_AUTH_START=128,b.SOCKS5_CUSTOM_AUTH_END=254,b.SOCKS5_NO_ACCEPTABLE_AUTH=255,function(a){a[a.Granted=0]="Granted",a[a.Failure=1]="Failure",a[a.NotAllowed=2]="NotAllowed",a[a.NetworkUnreachable=3]="NetworkUnreachable",a[a.HostUnreachable=4]="HostUnreachable",a[a.ConnectionRefused=5]="ConnectionRefused",a[a.TTLExpired=6]="TTLExpired",a[a.CommandNotSupported=7]="CommandNotSupported",a[a.AddressNotSupported=8]="AddressNotSupported"}(f||(b.Socks5Response=f={})),function(a){a[a.IPv4=1]="IPv4",a[a.Hostname=3]="Hostname",a[a.IPv6=4]="IPv6"}(g||(b.Socks5HostType=g={})),function(a){a[a.Created=0]="Created",a[a.Connecting=1]="Connecting",a[a.Connected=2]="Connected",a[a.SentInitialHandshake=3]="SentInitialHandshake",a[a.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",a[a.SentAuthentication=5]="SentAuthentication",a[a.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",a[a.SentFinalHandshake=7]="SentFinalHandshake",a[a.ReceivedFinalResponse=8]="ReceivedFinalResponse",a[a.BoundWaitingForConnection=9]="BoundWaitingForConnection",a[a.Established=10]="Established",a[a.Disconnected=11]="Disconnected",a[a.Error=99]="Error"}(h||(b.SocksClientState=h={}))},12804:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(91591),e=c(781);b.default=(a,b)=>{let{options:c}=a,f=c.protocolVersion,g=5===f?b.reasonCode:b.returnCode;if(5!==f){let b=new d.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${f}`,g);a.emit("error",b);return}a.handleAuth(b,(b,c)=>{if(b)return void a.emit("error",b);if(24===g)a.reconnecting=!1,a._sendPacket(c);else{let b=new d.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[g]}`,g);a.emit("error",b)}})}},13762:(a,b,c)=>{Promise.resolve().then(c.bind(c,17742))},14619:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ReceiveBuffer=void 0;class c{constructor(a=4096){this.buffer=Buffer.allocUnsafe(a),this.offset=0,this.originalSize=a}get length(){return this.offset}append(a){if(!Buffer.isBuffer(a))throw Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+a.length>=this.buffer.length){let b=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+a.length)),b.copy(this.buffer)}return a.copy(this.buffer,this.offset),this.offset+=a.length}peek(a){if(a>this.offset)throw Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,a)}get(a){if(a>this.offset)throw Error("Attempted to read beyond the bounds of the managed internal data.");let b=Buffer.allocUnsafe(a);return this.buffer.slice(0,a).copy(b),this.buffer.copyWithin(0,a,a+this.offset-a),this.offset-=a,b}}b.ReceiveBuffer=c},14985:a=>{"use strict";a.exports=require("dns")},15016:(a,b,c)=>{"use strict";let d=c(99978),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:f},AbortError:g}=c(30775),{Symbol:h}=c(72602),{kIsDestroyed:i,isDestroyed:j,isFinished:k,isServerRequest:l}=c(98007),m=h("kDestroy"),n=h("kConstruct");function o(a,b,c){a&&(a.stack,b&&!b.errored&&(b.errored=a),c&&!c.errored&&(c.errored=a))}function p(a,b,c){let e=!1;function f(b){if(e)return;e=!0;let f=a._readableState,g=a._writableState;o(b,g,f),g&&(g.closed=!0),f&&(f.closed=!0),"function"==typeof c&&c(b),b?d.nextTick(q,a,b):d.nextTick(r,a)}try{a._destroy(b||null,f)}catch(a){f(a)}}function q(a,b){s(a,b),r(a)}function r(a){let b=a._readableState,c=a._writableState;c&&(c.closeEmitted=!0),b&&(b.closeEmitted=!0),(null!=c&&c.emitClose||null!=b&&b.emitClose)&&a.emit("close")}function s(a,b){let c=a._readableState,d=a._writableState;null!=d&&d.errorEmitted||null!=c&&c.errorEmitted||(d&&(d.errorEmitted=!0),c&&(c.errorEmitted=!0),a.emit("error",b))}function t(a,b,c){let e=a._readableState,f=a._writableState;if(null!=f&&f.destroyed||null!=e&&e.destroyed)return this;null!=e&&e.autoDestroy||null!=f&&f.autoDestroy?a.destroy(b):b&&(b.stack,f&&!f.errored&&(f.errored=b),e&&!e.errored&&(e.errored=b),c?d.nextTick(s,a,b):s(a,b))}function u(a){let b=!1;function c(c){if(b)return void t(a,null!=c?c:new f);b=!0;let e=a._readableState,g=a._writableState,h=g||e;e&&(e.constructed=!0),g&&(g.constructed=!0),h.destroyed?a.emit(m,c):c?t(a,c,!0):d.nextTick(v,a)}try{a._construct(a=>{d.nextTick(c,a)})}catch(a){d.nextTick(c,a)}}function v(a){a.emit(n)}function w(a){return(null==a?void 0:a.setHeader)&&"function"==typeof a.abort}function x(a){a.emit("close")}function y(a,b){a.emit("error",b),d.nextTick(x,a)}a.exports={construct:function(a,b){if("function"!=typeof a._construct)return;let c=a._readableState,e=a._writableState;c&&(c.constructed=!1),e&&(e.constructed=!1),a.once(n,b),a.listenerCount(n)>1||d.nextTick(u,a)},destroyer:function(a,b){!(!a||j(a))&&(b||k(a)||(b=new g),l(a)?(a.socket=null,a.destroy(b)):w(a)?a.abort():w(a.req)?a.req.abort():"function"==typeof a.destroy?a.destroy(b):"function"==typeof a.close?a.close():b?d.nextTick(y,a,b):d.nextTick(x,a),a.destroyed||(a[i]=!0))},destroy:function(a,b){let c=this._readableState,d=this._writableState,f=d||c;return null!=d&&d.destroyed||null!=c&&c.destroyed?"function"==typeof b&&b():(o(a,d,c),d&&(d.destroyed=!0),c&&(c.destroyed=!0),f.constructed?p(this,a,b):this.once(m,function(c){p(this,e(c,a),b)})),this},undestroy:function(){let a=this._readableState,b=this._writableState;a&&(a.constructed=!0,a.closed=!1,a.closeEmitted=!1,a.destroyed=!1,a.errored=null,a.errorEmitted=!1,a.reading=!1,a.ended=!1===a.readable,a.endEmitted=!1===a.readable),b&&(b.constructed=!0,b.destroyed=!1,b.closed=!1,b.closeEmitted=!1,b.errored=null,b.errorEmitted=!1,b.finalCalled=!1,b.prefinished=!1,b.ended=!1===b.writable,b.ending=!1===b.writable,b.finished=!1===b.writable)},errorOrDestroy:t}},15217:a=>{function b(a,b,c,d){return Math.round(a/c)+" "+d+(b>=1.5*c?"s":"")}a.exports=function(a,c){c=c||{};var d,e,f,g,h=typeof a;if("string"===h&&a.length>0){var i=a;if(!((i=String(i)).length>100)){var j=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(j){var k=parseFloat(j[1]);switch((j[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*k;case"weeks":case"week":case"w":return 6048e5*k;case"days":case"day":case"d":return 864e5*k;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*k;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*k;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*k;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return k;default:break}}}return}if("number"===h&&isFinite(a)){return c.long?(e=Math.abs(d=a))>=864e5?b(d,e,864e5,"day"):e>=36e5?b(d,e,36e5,"hour"):e>=6e4?b(d,e,6e4,"minute"):e>=1e3?b(d,e,1e3,"second"):d+" ms":(g=Math.abs(f=a))>=864e5?Math.round(f/864e5)+"d":g>=36e5?Math.round(f/36e5)+"h":g>=6e4?Math.round(f/6e4)+"m":g>=1e3?Math.round(f/1e3)+"s":f+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},15464:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(78388);class AbortSignal extends d.EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let a=e.get(this);if("boolean"!=typeof a)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return a}}d.defineEventAttribute(AbortSignal.prototype,"abort");let e=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class f{constructor(){g.set(this,function(){let a=Object.create(AbortSignal.prototype);return d.EventTarget.call(a),e.set(a,!1),a}())}get signal(){return h(this)}abort(){var a;a=h(this),!1===e.get(a)&&(e.set(a,!0),a.dispatchEvent({type:"abort"}))}}let g=new WeakMap;function h(a){let b=g.get(a);if(null==b)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===a?"null":typeof a}`);return b}Object.defineProperties(f.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(f.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),b.AbortController=f,b.AbortSignal=AbortSignal,b.default=f,a.exports=f,a.exports.AbortController=a.exports.default=f,a.exports.AbortSignal=AbortSignal},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j,metadata:()=>i});var d=c(75338),e=c(24546),f=c.n(e),g=c(38020),h=c.n(g);c(82704);let i={title:"Hello World Reference Application",description:"Next.js 15 reference application with MQTT integration and DaisyUI",viewport:{width:1920,height:1080,initialScale:1,minimumScale:1,maximumScale:1,userScalable:!1}};function j({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:a})})}},17501:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},17605:(a,b,c)=>{"use strict";let{kForOnEventAttribute:d,kListener:e}=c(63674),f=Symbol("kCode"),g=Symbol("kData"),h=Symbol("kError"),i=Symbol("kMessage"),j=Symbol("kReason"),k=Symbol("kTarget"),l=Symbol("kType"),m=Symbol("kWasClean");class n{constructor(a){this[k]=null,this[l]=a}get target(){return this[k]}get type(){return this[l]}}Object.defineProperty(n.prototype,"target",{enumerable:!0}),Object.defineProperty(n.prototype,"type",{enumerable:!0});class o extends n{constructor(a,b={}){super(a),this[f]=void 0===b.code?0:b.code,this[j]=void 0===b.reason?"":b.reason,this[m]=void 0!==b.wasClean&&b.wasClean}get code(){return this[f]}get reason(){return this[j]}get wasClean(){return this[m]}}Object.defineProperty(o.prototype,"code",{enumerable:!0}),Object.defineProperty(o.prototype,"reason",{enumerable:!0}),Object.defineProperty(o.prototype,"wasClean",{enumerable:!0});class p extends n{constructor(a,b={}){super(a),this[h]=void 0===b.error?null:b.error,this[i]=void 0===b.message?"":b.message}get error(){return this[h]}get message(){return this[i]}}Object.defineProperty(p.prototype,"error",{enumerable:!0}),Object.defineProperty(p.prototype,"message",{enumerable:!0});class q extends n{constructor(a,b={}){super(a),this[g]=void 0===b.data?null:b.data}get data(){return this[g]}}function r(a,b,c){"object"==typeof a&&a.handleEvent?a.handleEvent.call(a,c):a.call(b,c)}Object.defineProperty(q.prototype,"data",{enumerable:!0}),a.exports={CloseEvent:o,ErrorEvent:p,Event:n,EventTarget:{addEventListener(a,b,c={}){let f;for(let f of this.listeners(a))if(!c[d]&&f[e]===b&&!f[d])return;if("message"===a)f=function(a,c){let d=new q("message",{data:c?a:a.toString()});d[k]=this,r(b,this,d)};else if("close"===a)f=function(a,c){let d=new o("close",{code:a,reason:c.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});d[k]=this,r(b,this,d)};else if("error"===a)f=function(a){let c=new p("error",{error:a,message:a.message});c[k]=this,r(b,this,c)};else{if("open"!==a)return;f=function(){let a=new n("open");a[k]=this,r(b,this,a)}}f[d]=!!c[d],f[e]=b,c.once?this.once(a,f):this.on(a,f)},removeEventListener(a,b){for(let c of this.listeners(a))if(c[e]===b&&!c[d]){this.removeListener(a,c);break}}},MessageEvent:q}},17742:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"P:\\\\BrightSign\\\\BrightSign Dev\\\\bs-nextjs-react-starter\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"P:\\BrightSign\\BrightSign Dev\\bs-nextjs-react-starter\\app\\page.tsx","default")},18540:a=>{"use strict";function b(a){return a instanceof Buffer?Buffer.from(a):new a.constructor(a.buffer.slice(),a.byteOffset,a.length)}a.exports=function(a){if((a=a||{}).circles)return function(a){let c=[],d=[],e=new Map;if(e.set(Date,a=>new Date(a)),e.set(Map,(a,b)=>new Map(g(Array.from(a),b))),e.set(Set,(a,b)=>new Set(g(Array.from(a),b))),a.constructorHandlers)for(let b of a.constructorHandlers)e.set(b[0],b[1]);let f=null;return a.proto?function a(h){if("object"!=typeof h||null===h)return h;if(Array.isArray(h))return g(h,a);if(h.constructor!==Object&&(f=e.get(h.constructor)))return f(h,a);let i={};for(let g in c.push(h),d.push(i),h){let j=h[g];if("object"!=typeof j||null===j)i[g]=j;else if(j.constructor!==Object&&(f=e.get(j.constructor)))i[g]=f(j,a);else if(ArrayBuffer.isView(j))i[g]=b(j);else{let b=c.indexOf(j);-1!==b?i[g]=d[b]:i[g]=a(j)}}return c.pop(),d.pop(),i}:function a(h){if("object"!=typeof h||null===h)return h;if(Array.isArray(h))return g(h,a);if(h.constructor!==Object&&(f=e.get(h.constructor)))return f(h,a);let i={};for(let g in c.push(h),d.push(i),h){if(!1===Object.hasOwnProperty.call(h,g))continue;let j=h[g];if("object"!=typeof j||null===j)i[g]=j;else if(j.constructor!==Object&&(f=e.get(j.constructor)))i[g]=f(j,a);else if(ArrayBuffer.isView(j))i[g]=b(j);else{let b=c.indexOf(j);-1!==b?i[g]=d[b]:i[g]=a(j)}}return c.pop(),d.pop(),i};function g(a,g){let h=Object.keys(a),i=Array(h.length);for(let j=0;j<h.length;j++){let k=h[j],l=a[k];if("object"!=typeof l||null===l)i[k]=l;else if(l.constructor!==Object&&(f=e.get(l.constructor)))i[k]=f(l,g);else if(ArrayBuffer.isView(l))i[k]=b(l);else{let a=c.indexOf(l);-1!==a?i[k]=d[a]:i[k]=g(l)}}return i}}(a);let c=new Map;if(c.set(Date,a=>new Date(a)),c.set(Map,(a,b)=>new Map(e(Array.from(a),b))),c.set(Set,(a,b)=>new Set(e(Array.from(a),b))),a.constructorHandlers)for(let b of a.constructorHandlers)c.set(b[0],b[1]);let d=null;return a.proto?function a(f){if("object"!=typeof f||null===f)return f;if(Array.isArray(f))return e(f,a);if(f.constructor!==Object&&(d=c.get(f.constructor)))return d(f,a);let g={};for(let e in f){let h=f[e];"object"!=typeof h||null===h?g[e]=h:h.constructor!==Object&&(d=c.get(h.constructor))?g[e]=d(h,a):ArrayBuffer.isView(h)?g[e]=b(h):g[e]=a(h)}return g}:function a(f){if("object"!=typeof f||null===f)return f;if(Array.isArray(f))return e(f,a);if(f.constructor!==Object&&(d=c.get(f.constructor)))return d(f,a);let g={};for(let e in f){if(!1===Object.hasOwnProperty.call(f,e))continue;let h=f[e];"object"!=typeof h||null===h?g[e]=h:h.constructor!==Object&&(d=c.get(h.constructor))?g[e]=d(h,a):ArrayBuffer.isView(h)?g[e]=b(h):g[e]=a(h)}return g};function e(a,e){let f=Object.keys(a),g=Array(f.length);for(let h=0;h<f.length;h++){let i=f[h],j=a[i];"object"!=typeof j||null===j?g[i]=j:j.constructor!==Object&&(d=c.get(j.constructor))?g[i]=d(j,e):ArrayBuffer.isView(j)?g[i]=b(j):g[i]=e(j)}return g}}},18607:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BufferedDuplex=void 0,b.writev=f;let d=c(65522),e=c(79428);function f(a,b){let c=Array(a.length);for(let b=0;b<a.length;b++)"string"==typeof a[b].chunk?c[b]=e.Buffer.from(a[b].chunk,"utf8"):c[b]=a[b].chunk;this._write(e.Buffer.concat(c),"binary",b)}class g extends d.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(a,b,c){super({objectMode:!0}),this.proxy=b,this.socket=c,this.writeQueue=[],a.objectMode||(this._writev=f.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",a=>{!this.destroyed&&this.readable&&this.push(a)})}_read(a){this.proxy.read(a)}_write(a,b,c){this.isSocketOpen?this.writeToProxy(a,b,c):this.writeQueue.push({chunk:a,encoding:b,cb:c})}_final(a){this.writeQueue=[],this.proxy.end(a)}_destroy(a,b){this.writeQueue=[],this.proxy.destroy(),b(a)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(a,b,c){!1===this.proxy.write(a,b)?this.proxy.once("drain",c):c()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:a,encoding:b,cb:c}=this.writeQueue.shift();this.writeToProxy(a,b,c)}}}b.BufferedDuplex=g},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19777:(a,b,c)=>{b.formatArgs=function(b){if(b[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+b[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;b.splice(1,0,c,"color: inherit");let d=0,e=0;b[0].replace(/%[a-zA-Z%]/g,a=>{"%%"!==a&&(d++,"%c"===a&&(e=d))}),b.splice(e,0,c)},b.save=function(a){try{a?b.storage.setItem("debug",a):b.storage.removeItem("debug")}catch(a){}},b.load=function(){let a;try{a=b.storage.getItem("debug")||b.storage.getItem("DEBUG")}catch(a){}return!a&&"undefined"!=typeof process&&"env"in process&&(a=process.env.DEBUG),a},b.useColors=function(){let a;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(a=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},b.storage=function(){try{return localStorage}catch(a){}}(),b.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),b.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],b.log=console.debug||console.log||(()=>{}),a.exports=c(22208)(b);let{formatters:d}=a.exports;d.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}},20879:(a,b,c)=>{"use strict";let d,e=c(74075),f=c(78086),g=c(61075),{kStatusCode:h}=c(63674),i=Buffer[Symbol.species],j=Buffer.from([0,0,255,255]),k=Symbol("permessage-deflate"),l=Symbol("total-length"),m=Symbol("callback"),n=Symbol("buffers"),o=Symbol("error");class p{constructor(a,b,c){this._maxPayload=0|c,this._options=a||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!b,this._deflate=null,this._inflate=null,this.params=null,d||(d=new g(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let a={};return this._options.serverNoContextTakeover&&(a.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(a.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(a.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?a.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(a.client_max_window_bits=!0),a}accept(a){return a=this.normalizeParams(a),this.params=this._isServer?this.acceptAsServer(a):this.acceptAsClient(a),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let a=this._deflate[m];this._deflate.close(),this._deflate=null,a&&a(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(a){let b=this._options,c=a.find(a=>(!1!==b.serverNoContextTakeover||!a.server_no_context_takeover)&&(!a.server_max_window_bits||!1!==b.serverMaxWindowBits&&("number"!=typeof b.serverMaxWindowBits||!(b.serverMaxWindowBits>a.server_max_window_bits)))&&("number"!=typeof b.clientMaxWindowBits||!!a.client_max_window_bits));if(!c)throw Error("None of the extension offers can be accepted");return b.serverNoContextTakeover&&(c.server_no_context_takeover=!0),b.clientNoContextTakeover&&(c.client_no_context_takeover=!0),"number"==typeof b.serverMaxWindowBits&&(c.server_max_window_bits=b.serverMaxWindowBits),"number"==typeof b.clientMaxWindowBits?c.client_max_window_bits=b.clientMaxWindowBits:(!0===c.client_max_window_bits||!1===b.clientMaxWindowBits)&&delete c.client_max_window_bits,c}acceptAsClient(a){let b=a[0];if(!1===this._options.clientNoContextTakeover&&b.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(b.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&b.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(b.client_max_window_bits=this._options.clientMaxWindowBits);return b}normalizeParams(a){return a.forEach(a=>{Object.keys(a).forEach(b=>{let c=a[b];if(c.length>1)throw Error(`Parameter "${b}" must have only a single value`);if(c=c[0],"client_max_window_bits"===b){if(!0!==c){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else if("server_max_window_bits"===b){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if("client_no_context_takeover"===b||"server_no_context_takeover"===b){if(!0!==c)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else throw Error(`Unknown parameter "${b}"`);a[b]=c})}),a}decompress(a,b,c){d.add(d=>{this._decompress(a,b,(a,b)=>{d(),c(a,b)})})}compress(a,b,c){d.add(d=>{this._compress(a,b,(a,b)=>{d(),c(a,b)})})}_decompress(a,b,c){let d=this._isServer?"client":"server";if(!this._inflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._inflate=e.createInflateRaw({...this._options.zlibInflateOptions,windowBits:b}),this._inflate[k]=this,this._inflate[l]=0,this._inflate[n]=[],this._inflate.on("error",s),this._inflate.on("data",r)}this._inflate[m]=c,this._inflate.write(a),b&&this._inflate.write(j),this._inflate.flush(()=>{let a=this._inflate[o];if(a){this._inflate.close(),this._inflate=null,c(a);return}let e=f.concat(this._inflate[n],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[n]=[],b&&this.params[`${d}_no_context_takeover`]&&this._inflate.reset()),c(null,e)})}_compress(a,b,c){let d=this._isServer?"server":"client";if(!this._deflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._deflate=e.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:b}),this._deflate[l]=0,this._deflate[n]=[],this._deflate.on("data",q)}this._deflate[m]=c,this._deflate.write(a),this._deflate.flush(e.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let a=f.concat(this._deflate[n],this._deflate[l]);b&&(a=new i(a.buffer,a.byteOffset,a.length-4)),this._deflate[m]=null,this._deflate[l]=0,this._deflate[n]=[],b&&this.params[`${d}_no_context_takeover`]&&this._deflate.reset(),c(null,a)})}}function q(a){this[n].push(a),this[l]+=a.length}function r(a){if(this[l]+=a.length,this[k]._maxPayload<1||this[l]<=this[k]._maxPayload)return void this[n].push(a);this[o]=RangeError("Max payload size exceeded"),this[o].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[o][h]=1009,this.removeListener("data",r),this.reset()}function s(a){if(this[k]._inflate=null,this[o])return void this[m](this[o]);a[h]=1007,this[m](a)}a.exports=p},21166:(a,b,c)=>{"use strict";let d=c(99978),e=c(79428),{isReadable:f,isWritable:g,isIterable:h,isNodeStream:i,isReadableNodeStream:j,isWritableNodeStream:k,isDuplexNodeStream:l,isReadableStream:m,isWritableStream:n}=c(98007),o=c(78050),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:r}}=c(30775),{destroyer:s}=c(15016),t=c(75750),u=c(53112),v=c(37e3),{createDeferredPromise:w}=c(37408),x=c(22060),y=globalThis.Blob||e.Blob,z=void 0!==y?function(a){return a instanceof y}:function(a){return!1},A=globalThis.AbortController||c(15464).AbortController,{FunctionPrototypeCall:B}=c(72602);class C extends t{constructor(a){super(a),(null==a?void 0:a.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==a?void 0:a.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function D(a){let b,c,d,e,h,i=a.readable&&"function"!=typeof a.readable.read?u.wrap(a.readable):a.readable,j=a.writable,k=!!f(i),l=!!g(j);function m(a){let b=e;e=null,b?b(a):a&&h.destroy(a)}return h=new C({readableObjectMode:!!(null!=i&&i.readableObjectMode),writableObjectMode:!!(null!=j&&j.writableObjectMode),readable:k,writable:l}),l&&(o(j,a=>{l=!1,a&&s(i,a),m(a)}),h._write=function(a,c,d){j.write(a,c)?d():b=d},h._final=function(a){j.end(),c=a},j.on("drain",function(){if(b){let a=b;b=null,a()}}),j.on("finish",function(){if(c){let a=c;c=null,a()}})),k&&(o(i,a=>{k=!1,a&&s(i,a),m(a)}),i.on("readable",function(){if(d){let a=d;d=null,a()}}),i.on("end",function(){h.push(null)}),h._read=function(){for(;;){let a=i.read();if(null===a){d=h._read;return}if(!h.push(a))return}}),h._destroy=function(a,f){a||null===e||(a=new p),d=null,b=null,c=null,null===e?f(a):(e=f,s(j,a),s(i,a))},h}a.exports=function a(b,c){if(l(b))return b;if(j(b))return D({readable:b});if(k(b))return D({writable:b});if(i(b))return D({writable:!1,readable:!1});if(m(b))return D({readable:u.fromWeb(b)});if(n(b))return D({writable:v.fromWeb(b)});if("function"==typeof b){let{value:a,write:e,final:f,destroy:g}=function(a){let{promise:b,resolve:c}=w(),e=new A,f=e.signal;return{value:a(async function*(){for(;;){let a=b;b=null;let{chunk:e,done:g,cb:h}=await a;if(d.nextTick(h),g)return;if(f.aborted)throw new p(void 0,{cause:f.reason});({promise:b,resolve:c}=w()),yield e}}(),{signal:f}),write(a,b,d){let e=c;c=null,e({chunk:a,done:!1,cb:d})},final(a){let b=c;c=null,b({done:!0,cb:a})},destroy(a,b){e.abort(),b(a)}}}(b);if(h(a))return x(C,a,{objectMode:!0,write:e,final:f,destroy:g});let i=null==a?void 0:a.then;if("function"==typeof i){let b,c=B(i,a,a=>{if(null!=a)throw new r("nully","body",a)},a=>{s(b,a)});return b=new C({objectMode:!0,readable:!1,write:e,final(a){f(async()=>{try{await c,d.nextTick(a,null)}catch(b){d.nextTick(a,b)}})},destroy:g})}throw new r("Iterable, AsyncIterable or AsyncFunction",c,a)}if(z(b))return a(b.arrayBuffer());if(h(b))return x(C,b,{objectMode:!0,writable:!1});if(m(null==b?void 0:b.readable)&&n(null==b?void 0:b.writable))return C.fromWeb(b);if("object"==typeof(null==b?void 0:b.writable)||"object"==typeof(null==b?void 0:b.readable))return D({readable:null!=b&&b.readable?j(null==b?void 0:b.readable)?null==b?void 0:b.readable:a(b.readable):void 0,writable:null!=b&&b.writable?k(null==b?void 0:b.writable)?null==b?void 0:b.writable:a(b.writable):void 0});let e=null==b?void 0:b.then;if("function"==typeof e){let a;return B(e,b,b=>{null!=b&&a.push(b),a.push(null)},b=>{s(a,b)}),a=new C({objectMode:!0,writable:!1,read(){}})}throw new q(c,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],b)}},21820:a=>{"use strict";a.exports=require("os")},21880:(a,b,c)=>{"use strict";c.r(b),c.d(b,{clearInterval:()=>m,clearTimeout:()=>n,setInterval:()=>o,setTimeout:()=>p});let d=void 0===Number.MAX_SAFE_INTEGER?0x1fffffffffffff:Number.MAX_SAFE_INTEGER,e=new WeakMap,f=((a,b)=>c=>{let e=b.get(c),f=void 0===e?c.size:e<0x40000000?e+1:0;if(!c.has(f))return a(c,f);if(c.size<0x20000000){for(;c.has(f);)f=Math.floor(0x40000000*Math.random());return a(c,f)}if(c.size>d)throw Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;c.has(f);)f=Math.floor(Math.random()*d);return a(c,f)})((a,b)=>(e.set(a,b),b),e),g=new WeakMap,h=new WeakMap,i=new Map([[0,null]]),j=new Map([[0,null]]),k=(a=>{let b={...a,connect:({call:a})=>async()=>{let{port1:b,port2:c}=new MessageChannel,d=await a("connect",{port:b},[b]);return g.set(c,d),c},disconnect:({call:a})=>async b=>{let c=g.get(b);if(void 0===c)throw Error("The given port is not connected.");await a("disconnect",{portId:c})},isSupported:({call:a})=>()=>a("isSupported")};return a=>{let c=(a=>{if(h.has(a))return h.get(a);let b=new Map;return h.set(a,b),b})(a);a.addEventListener("message",({data:a})=>{let{id:b}=a;if(null!==b&&c.has(b)){let{reject:d,resolve:e}=c.get(b);c.delete(b),void 0===a.error?e(a.result):d(Error(a.error.message))}}),"function"==typeof a.start&&a.start();let d=(b,d=null,e=[])=>new Promise((g,h)=>{let i=f(c);c.set(i,{reject:h,resolve:g}),null===d?a.postMessage({id:i,method:b},e):a.postMessage({id:i,method:b,params:d},e)}),e=(b,c,d=[])=>{a.postMessage({id:null,method:b,params:c},d)},g={};for(let[a,c]of Object.entries(b))g={...g,[a]:c({call:d,notify:e})};return{...g}}})({clearInterval:({call:a})=>b=>{"symbol"==typeof i.get(b)&&(i.set(b,null),a("clear",{timerId:b,timerType:"interval"}).then(()=>{i.delete(b)}))},clearTimeout:({call:a})=>b=>{"symbol"==typeof j.get(b)&&(j.set(b,null),a("clear",{timerId:b,timerType:"timeout"}).then(()=>{j.delete(b)}))},setInterval:({call:a})=>(b,c=0,...d)=>{let e=Symbol(),g=f(i);i.set(g,e);let h=()=>a("set",{delay:c,now:performance.timeOrigin+performance.now(),timerId:g,timerType:"interval"}).then(()=>{let a=i.get(g);if(void 0===a)throw Error("The timer is in an undefined state.");a===e&&(b(...d),i.get(g)===e&&h())});return h(),g},setTimeout:({call:a})=>(b,c=0,...d)=>{let e=Symbol(),g=f(j);return j.set(g,e),a("set",{delay:c,now:performance.timeOrigin+performance.now(),timerId:g,timerType:"timeout"}).then(()=>{let a=j.get(g);if(void 0===a)throw Error("The timer is in an undefined state.");a===e&&(j.delete(g),b(...d))}),g}}),l=((a,b)=>{let c=null;return()=>{if(null!==c)return c;let d=new Blob([b],{type:"application/javascript; charset=utf-8"}),e=URL.createObjectURL(d);return c=a(e),setTimeout(()=>URL.revokeObjectURL(e)),c}})(a=>k(new Worker(a)),'(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,u=r(i),c=a(u,i),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o(\'The handler of the method called "\'.concat(t,\'" returned an unexpected result.\'),e),a=(t,r)=>async({data:{id:a,method:i,params:u}})=>{const c=r[i];try{if(void 0===c)throw(e=>o(\'The requested method called "\'.concat(e,\'" is not supported.\'),n))(i);const r=void 0===u?c():c(u);if(void 0===r)throw(t=>o(\'The handler of the method called "\'.concat(t,\'" returned no required result.\'),e))(i);const l=r instanceof Promise?await r:r;if(null===a){if(void 0!==l.result)throw s(i)}else{if(void 0===l.result)throw s(i);const{result:e,transferables:r=[]}=l;t.postMessage({id:a,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:a})}};var i=r(455);const u=new Map,c=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),o=(0,i.generateUniqueNumber)(u);return u.set(o,()=>{n(),t.close(),u.delete(o)}),{result:o}},disconnect:({portId:e})=>{const r=u.get(e);if(void 0===r)throw(e=>o(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise(e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])})){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),l=(e,t,r=()=>!0)=>{const n=c(l,t,r),o=a(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},d=(e,t)=>r=>{const n=t.get(r);if(void 0===n)return Promise.resolve(!1);const[o,s]=n;return e(o),t.delete(r),s(!1),Promise.resolve(!0)},f=(e,t,r,n)=>(o,s,a)=>{const i=o+s-t.timeOrigin,u=i-t.now();return new Promise(t=>{e.set(a,[r(n,u,i,e,t,a),t])})},m=new Map,h=d(globalThis.clearTimeout,m),p=new Map,v=d(globalThis.clearTimeout,p),w=((e,t)=>{const r=(n,o,s,a)=>{const i=n-e.now();i>0?o.set(a,[t(r,i,n,o,s,a),s]):(o.delete(a),s(!0))};return r})(performance,globalThis.setTimeout),g=f(m,performance,globalThis.setTimeout,w),T=f(p,performance,globalThis.setTimeout,w);l(self,{clear:async({timerId:e,timerType:t})=>({result:await("interval"===t?h(e):v(e))}),set:async({delay:e,now:t,timerId:r,timerType:n})=>({result:await("interval"===n?g:T)(e,t,r)})})})()})();'),m=a=>l().clearInterval(a),n=a=>l().clearTimeout(a),o=(...a)=>l().setInterval(...a),p=(...a)=>l().setTimeout(...a)},22060:(a,b,c)=>{"use strict";let d=c(99978),{PromisePrototypeThen:e,SymbolAsyncIterator:f,SymbolIterator:g}=c(72602),{Buffer:h}=c(79428),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_NULL_VALUES:j}=c(30775).codes;a.exports=function(a,b,c){let k,l;if("string"==typeof b||b instanceof h)return new a({objectMode:!0,...c,read(){this.push(b),this.push(null)}});if(b&&b[f])l=!0,k=b[f]();else if(b&&b[g])l=!1,k=b[g]();else throw new i("iterable",["Iterable"],b);let m=new a({objectMode:!0,highWaterMark:1,...c}),n=!1;async function o(a){let b=null!=a,c="function"==typeof k.throw;if(b&&c){let{value:b,done:c}=await k.throw(a);if(await b,c)return}if("function"==typeof k.return){let{value:a}=await k.return();await a}}async function p(){for(;;){try{let{value:a,done:b}=l?await k.next():k.next();if(b)m.push(null);else{let b=a&&"function"==typeof a.then?await a:a;if(null===b)throw n=!1,new j;if(m.push(b))continue;n=!1}}catch(a){m.destroy(a)}break}}return m._read=function(){n||(n=!0,p())},m._destroy=function(a,b){e(o(a),()=>d.nextTick(b,a),c=>d.nextTick(b,c||a))},m}},22208:(a,b,c)=>{a.exports=function(a){function b(a){let c,e,f,g=null;function h(...a){if(!h.enabled)return;let d=Number(new Date);h.diff=d-(c||d),h.prev=c,h.curr=d,c=d,a[0]=b.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");let e=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(c,d)=>{if("%%"===c)return"%";e++;let f=b.formatters[d];if("function"==typeof f){let b=a[e];c=f.call(h,b),a.splice(e,1),e--}return c}),b.formatArgs.call(h,a),(h.log||b.log).apply(h,a)}return h.namespace=a,h.useColors=b.useColors(),h.color=b.selectColor(a),h.extend=d,h.destroy=b.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==g?g:(e!==b.namespaces&&(e=b.namespaces,f=b.enabled(a)),f),set:a=>{g=a}}),"function"==typeof b.init&&b.init(h),h}function d(a,c){let d=b(this.namespace+(void 0===c?":":c)+a);return d.log=this.log,d}function e(a,b){let c=0,d=0,e=-1,f=0;for(;c<a.length;)if(d<b.length&&(b[d]===a[c]||"*"===b[d]))"*"===b[d]?(e=d,f=c):c++,d++;else{if(-1===e)return!1;d=e+1,c=++f}for(;d<b.length&&"*"===b[d];)d++;return d===b.length}return b.debug=b,b.default=b,b.coerce=function(a){return a instanceof Error?a.stack||a.message:a},b.disable=function(){let a=[...b.names,...b.skips.map(a=>"-"+a)].join(",");return b.enable(""),a},b.enable=function(a){for(let c of(b.save(a),b.namespaces=a,b.names=[],b.skips=[],("string"==typeof a?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===c[0]?b.skips.push(c.slice(1)):b.names.push(c)},b.enabled=function(a){for(let c of b.skips)if(e(a,c))return!1;for(let c of b.names)if(e(a,c))return!0;return!1},b.humanize=c(15217),b.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(a).forEach(c=>{b[c]=a[c]}),b.names=[],b.skips=[],b.formatters={},b.selectColor=function(a){let c=0;for(let b=0;b<a.length;b++)c=(c<<5)-c+a.charCodeAt(b)|0;return b.colors[Math.abs(c)%b.colors.length]},b.enable(b.load()),b}},23051:a=>{"use strict";a.exports={format:(a,...b)=>a.replace(/%([sdifj])/g,function(...[a,c]){let d=b.shift();if("f"===c)return d.toFixed(6);if("j"===c)return JSON.stringify(d);if("s"!==c||"object"!=typeof d)return d.toString();{let a=d.constructor!==Object?d.constructor.name:"";return`${a} {}`.trim()}}),inspect(a){switch(typeof a){case"string":if(a.includes("'")){if(!a.includes('"'))return`"${a}"`;else if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}return`'${a}'`;case"number":if(isNaN(a))return"NaN";if(Object.is(a,-0))return String(a);return a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}}}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},26802:(a,b,c)=>{"use strict";let{Writable:d}=c(27910),e=c(20879),{BINARY_TYPES:f,EMPTY_BUFFER:g,kStatusCode:h,kWebSocket:i}=c(63674),{concat:j,toArrayBuffer:k,unmask:l}=c(78086),{isValidStatusCode:m,isValidUTF8:n}=c(86200),o=Buffer[Symbol.species];class p extends d{constructor(a={}){super(),this._allowSynchronousEvents=void 0===a.allowSynchronousEvents||a.allowSynchronousEvents,this._binaryType=a.binaryType||f[0],this._extensions=a.extensions||{},this._isServer=!!a.isServer,this._maxPayload=0|a.maxPayload,this._skipUTF8Validation=!!a.skipUTF8Validation,this[i]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(a,b,c){if(8===this._opcode&&0==this._state)return c();this._bufferedBytes+=a.length,this._buffers.push(a),this.startLoop(c)}consume(a){if(this._bufferedBytes-=a,a===this._buffers[0].length)return this._buffers.shift();if(a<this._buffers[0].length){let b=this._buffers[0];return this._buffers[0]=new o(b.buffer,b.byteOffset+a,b.length-a),new o(b.buffer,b.byteOffset,a)}let b=Buffer.allocUnsafe(a);do{let c=this._buffers[0],d=b.length-a;a>=c.length?b.set(this._buffers.shift(),d):(b.set(new Uint8Array(c.buffer,c.byteOffset,a),d),this._buffers[0]=new o(c.buffer,c.byteOffset+a,c.length-a)),a-=c.length}while(a>0);return b}startLoop(a){this._loop=!0;do switch(this._state){case 0:this.getInfo(a);break;case 1:this.getPayloadLength16(a);break;case 2:this.getPayloadLength64(a);break;case 3:this.getMask();break;case 4:this.getData(a);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||a()}getInfo(a){if(this._bufferedBytes<2){this._loop=!1;return}let b=this.consume(2);if((48&b[0])!=0)return void a(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));let c=(64&b[0])==64;if(c&&!this._extensions[e.extensionName])return void a(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._fin=(128&b[0])==128,this._opcode=15&b[0],this._payloadLength=127&b[1],0===this._opcode){if(c)return void a(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void a(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void a(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=c}else{if(!(this._opcode>7)||!(this._opcode<11))return void a(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void a(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(c)return void a(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void a(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&b[1])==128,this._isServer){if(!this._masked)return void a(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void a(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(a)}getPayloadLength16(a){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(a)}getPayloadLength64(a){if(this._bufferedBytes<8){this._loop=!1;return}let b=this.consume(8),c=b.readUInt32BE(0);if(c>2097151)return void a(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));this._payloadLength=0x100000000*c+b.readUInt32BE(4),this.haveLength(a)}haveLength(a){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return void a(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(a){let b=g;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}b=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&l(b,this._mask)}if(this._opcode>7)return void this.controlMessage(b,a);if(this._compressed){this._state=5,this.decompress(b,a);return}b.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(b)),this.dataMessage(a)}decompress(a,b){this._extensions[e.extensionName].decompress(a,this._fin,(a,c)=>{if(a)return b(a);if(c.length){if(this._messageLength+=c.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return void b(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(c)}this.dataMessage(b),0===this._state&&this.startLoop(b)})}dataMessage(a){if(!this._fin){this._state=0;return}let b=this._messageLength,c=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let d;d="nodebuffer"===this._binaryType?j(c,b):"arraybuffer"===this._binaryType?k(j(c,b)):"blob"===this._binaryType?new Blob(c):c,this._allowSynchronousEvents?(this.emit("message",d,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",d,!0),this._state=0,this.startLoop(a)}))}else{let d=j(c,b);if(!this._skipUTF8Validation&&!n(d))return void a(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));5===this._state||this._allowSynchronousEvents?(this.emit("message",d,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",d,!1),this._state=0,this.startLoop(a)}))}}controlMessage(a,b){if(8===this._opcode){if(0===a.length)this._loop=!1,this.emit("conclude",1005,g),this.end();else{let c=a.readUInt16BE(0);if(!m(c))return void b(this.createError(RangeError,`invalid status code ${c}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));let d=new o(a.buffer,a.byteOffset+2,a.length-2);if(!this._skipUTF8Validation&&!n(d))return void b(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._loop=!1,this.emit("conclude",c,d),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",a),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",a),this._state=0,this.startLoop(b)}))}createError(a,b,c,d,e){this._loop=!1,this._errored=!0;let f=new a(c?`Invalid WebSocket frame: ${b}`:b);return Error.captureStackTrace(f,this.createError),f.code=e,f[h]=d,f}}a.exports=p},27008:a=>{class b{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}a.exports=b},27314:(a,b,c)=>{b.parser=c(35539).parser,b.generate=c(54371),b.writeToStream=c(47364)},27351:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});class c{nextId;constructor(){this.nextId=Math.max(1,Math.floor(65535*Math.random()))}allocate(){let a=this.nextId++;return 65536===this.nextId&&(this.nextId=1),a}getLastAllocated(){return 1===this.nextId?65535:this.nextId-1}register(a){return!0}deallocate(a){}clear(){}}b.default=c},27844:function(a,b,c){"use strict";var d,e=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),f=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),g=this&&this.__importStar||(d=function(a){return(d=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[b.length]=c);return b})(a)},function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c=d(a),g=0;g<c.length;g++)"default"!==c[g]&&e(b,a,c[g]);return f(b,a),b}),h=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||e(b,a,c)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.ReasonCodes=b.KeepaliveManager=b.UniqueMessageIdProvider=b.DefaultMessageIdProvider=b.Store=b.MqttClient=b.connectAsync=b.connect=b.Client=void 0;let j=i(c(78473));b.MqttClient=j.default,b.DefaultMessageIdProvider=i(c(27351)).default,b.UniqueMessageIdProvider=i(c(4199)).default,b.Store=i(c(38249)).default;let k=g(c(87057));b.connect=k.default,Object.defineProperty(b,"connectAsync",{enumerable:!0,get:function(){return k.connectAsync}}),b.KeepaliveManager=i(c(9395)).default,b.Client=j.default,h(c(78473),b),h(c(91591),b);var l=c(781);Object.defineProperty(b,"ReasonCodes",{enumerable:!0,get:function(){return l.ReasonCodes}})},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29203:(a,b,c)=>{"use strict";let{ArrayPrototypePop:d,Promise:e}=c(72602),{isIterable:f,isNodeStream:g,isWebStream:h}=c(98007),{pipelineImpl:i}=c(43042),{finished:j}=c(78050);c(46046),a.exports={finished:j,pipeline:function(...a){return new e((b,c)=>{let e,j,k=a[a.length-1];if(k&&"object"==typeof k&&!g(k)&&!f(k)&&!h(k)){let b=d(a);e=b.signal,j=b.end}i(a,(a,d)=>{a?c(a):b(d)},{signal:e,end:j})})}}},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30775:(a,b,c)=>{"use strict";let{format:d,inspect:e}=c(23051),{AggregateError:f}=c(72602),g=globalThis.AggregateError||f,h=Symbol("kIsNodeError"),i=["string","function","number","object","Function","Object","boolean","bigint","symbol"],j=/^([A-Z][a-z0-9]*)+$/,k={};function l(a,b){if(!a)throw new k.ERR_INTERNAL_ASSERTION(b)}function m(a){let b="",c=a.length,d=+("-"===a[0]);for(;c>=d+4;c-=3)b=`_${a.slice(c-3,c)}${b}`;return`${a.slice(0,c)}${b}`}function n(a,b,c){c||(c=Error);class e extends c{constructor(...c){super(function(a,b,c){if("function"==typeof b)return l(b.length<=c.length,`Code: ${a}; The provided arguments length (${c.length}) does not match the required ones (${b.length}).`),b(...c);let e=(b.match(/%[dfijoOs]/g)||[]).length;return(l(e===c.length,`Code: ${a}; The provided arguments length (${c.length}) does not match the required ones (${e}).`),0===c.length)?b:d(b,...c)}(a,b,c))}toString(){return`${this.name} [${a}]: ${this.message}`}}Object.defineProperties(e.prototype,{name:{value:c.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${a}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),e.prototype.code=a,e.prototype[h]=!0,k[a]=e}function o(a){let b="__node_internal_"+a.name;return Object.defineProperty(a,"name",{value:b}),a}class p extends Error{constructor(a="The operation was aborted",b){if(void 0!==b&&"object"!=typeof b)throw new k.ERR_INVALID_ARG_TYPE("options","Object",b);super(a,b),this.code="ABORT_ERR",this.name="AbortError"}}n("ERR_ASSERTION","%s",Error),n("ERR_INVALID_ARG_TYPE",(a,b,c)=>{l("string"==typeof a,"'name' must be a string"),Array.isArray(b)||(b=[b]);let d="The ";a.endsWith(" argument")?d+=`${a} `:d+=`"${a}" ${a.includes(".")?"property":"argument"} `,d+="must be ";let f=[],g=[],h=[];for(let a of b)l("string"==typeof a,"All expected entries have to be of type string"),i.includes(a)?f.push(a.toLowerCase()):j.test(a)?g.push(a):(l("object"!==a,'The value "object" should be written as "Object"'),h.push(a));if(g.length>0){let a=f.indexOf("object");-1!==a&&(f.splice(f,a,1),g.push("Object"))}if(f.length>0){switch(f.length){case 1:d+=`of type ${f[0]}`;break;case 2:d+=`one of type ${f[0]} or ${f[1]}`;break;default:{let a=f.pop();d+=`one of type ${f.join(", ")}, or ${a}`}}(g.length>0||h.length>0)&&(d+=" or ")}if(g.length>0){switch(g.length){case 1:d+=`an instance of ${g[0]}`;break;case 2:d+=`an instance of ${g[0]} or ${g[1]}`;break;default:{let a=g.pop();d+=`an instance of ${g.join(", ")}, or ${a}`}}h.length>0&&(d+=" or ")}switch(h.length){case 0:break;case 1:h[0].toLowerCase()!==h[0]&&(d+="an "),d+=`${h[0]}`;break;case 2:d+=`one of ${h[0]} or ${h[1]}`;break;default:{let a=h.pop();d+=`one of ${h.join(", ")}, or ${a}`}}if(null==c)d+=`. Received ${c}`;else if("function"==typeof c&&c.name)d+=`. Received function ${c.name}`;else if("object"==typeof c){var k;if(null!=(k=c.constructor)&&k.name)d+=`. Received an instance of ${c.constructor.name}`;else{let a=e(c,{depth:-1});d+=`. Received ${a}`}}else{let a=e(c,{colors:!1});a.length>25&&(a=`${a.slice(0,25)}...`),d+=`. Received type ${typeof c} (${a})`}return d},TypeError),n("ERR_INVALID_ARG_VALUE",(a,b,c="is invalid")=>{let d=e(b);d.length>128&&(d=d.slice(0,128)+"...");let f=a.includes(".")?"property":"argument";return`The ${f} '${a}' ${c}. Received ${d}`},TypeError),n("ERR_INVALID_RETURN_VALUE",(a,b,c)=>{var d;let e=null!=c&&null!=(d=c.constructor)&&d.name?`instance of ${c.constructor.name}`:`type ${typeof c}`;return`Expected ${a} to be returned from the "${b}" function but got ${e}.`},TypeError),n("ERR_MISSING_ARGS",(...a)=>{let b;l(a.length>0,"At least one arg needs to be specified");let c=a.length;switch(a=(Array.isArray(a)?a:[a]).map(a=>`"${a}"`).join(" or "),c){case 1:b+=`The ${a[0]} argument`;break;case 2:b+=`The ${a[0]} and ${a[1]} arguments`;break;default:{let c=a.pop();b+=`The ${a.join(", ")}, and ${c} arguments`}}return`${b} must be specified`},TypeError),n("ERR_OUT_OF_RANGE",(a,b,c)=>{let d;if(l(b,'Missing "range" argument'),Number.isInteger(c)&&Math.abs(c)>0x100000000)d=m(String(c));else if("bigint"==typeof c){d=String(c);let a=BigInt(2)**BigInt(32);(c>a||c<-a)&&(d=m(d)),d+="n"}else d=e(c);return`The value of "${a}" is out of range. It must be ${b}. Received ${d}`},RangeError),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),n("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),n("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),n("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),n("ERR_STREAM_WRITE_AFTER_END","write after end",Error),n("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),a.exports={AbortError:p,aggregateTwoErrors:o(function(a,b){if(a&&b&&a!==b){if(Array.isArray(b.errors))return b.errors.push(a),b;let c=new g([b,a],b.message);return c.code=b.code,c}return a||b}),hideStackFrames:o,codes:k}},31914:(a,b,c)=>{Promise.resolve().then(c.bind(c,74783))},32677:(a,b,c)=>{"use strict";var d=c(62253).Buffer,e=d.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(a){var b;switch(this.encoding=function(a){var b=function(a){var b;if(!a)return"utf8";for(;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}(a);if("string"!=typeof b&&(d.isEncoding===e||!e(a)))throw Error("Unknown encoding: "+a);return b||a}(a),this.encoding){case"utf16le":this.text=i,this.end=j,b=4;break;case"utf8":this.fillLast=h,b=4;break;case"base64":this.text=k,this.end=l,b=3;break;default:this.write=m,this.end=n;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(b)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function h(a){var b=this.lastTotal-this.lastNeed,c=function(a,b,c){if((192&b[0])!=128)return a.lastNeed=0,"�";if(a.lastNeed>1&&b.length>1){if((192&b[1])!=128)return a.lastNeed=1,"�";if(a.lastNeed>2&&b.length>2&&(192&b[2])!=128)return a.lastNeed=2,"�"}}(this,a,0);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(a.copy(this.lastChar,b,0,a.length),this.lastNeed-=a.length)}function i(a,b){if((a.length-b)%2==0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function j(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function k(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(a){return a.toString(this.encoding)}function n(a){return a&&a.length?this.write(a):""}b.StringDecoder=f,f.prototype.write=function(a){var b,c;if(0===a.length)return"";if(this.lastNeed){if(void 0===(b=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=function(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"�":b},f.prototype.text=function(a,b){var c=function(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c||-2===e?0:(e=g(b[d]))>=0?(e>0&&(a.lastNeed=e-2),e):--d<c||-2===e?0:(e=g(b[d]))>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0}(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)},f.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},33873:a=>{"use strict";a.exports=require("path")},34012:function(a,b,c){"use strict";var d,e=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),f=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),g=this&&this.__importStar||(d=function(a){return(d=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[b.length]=c);return b})(a)},function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c=d(a),g=0;g<c.length;g++)"default"!==c[g]&&e(b,a,c[g]);return f(b,a),b});Object.defineProperty(b,"__esModule",{value:!0});let h=c(21880),i=g(c(43955)),j={set:h.setInterval,clear:h.clearInterval},k={set:(a,b)=>setInterval(a,b),clear:a=>clearInterval(a)};b.default=a=>{switch(a){case"native":return k;case"worker":return j;default:return!i.default||i.isWebWorker||i.isReactNativeBrowser?k:j}}},34257:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(55373),e=c(41072);class f{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(a){a>0&&(this.aliasToTopic=new d.LRUCache({max:a}),this.topicToAlias={},this.numberAllocator=new e.NumberAllocator(1,a),this.max=a,this.length=0)}put(a,b){if(0===b||b>this.max)return!1;let c=this.aliasToTopic.get(b);return c&&delete this.topicToAlias[c],this.aliasToTopic.set(b,a),this.topicToAlias[a]=b,this.numberAllocator.use(b),this.length=this.aliasToTopic.size,!0}getTopicByAlias(a){return this.aliasToTopic.get(a)}getAliasByTopic(a){let b=this.topicToAlias[a];return void 0!==b&&this.aliasToTopic.get(b),b}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){let a=this.numberAllocator.firstVacant();return a||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}}b.default=f},34624:(a,b)=>{"use strict";function c(a){let b=a.split("/");for(let a=0;a<b.length;a++)if("+"!==b[a]){if("#"===b[a])return a===b.length-1;if(-1!==b[a].indexOf("+")||-1!==b[a].indexOf("#"))return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0}),b.validateTopic=c,b.validateTopics=function(a){if(0===a.length)return"empty_topic_list";for(let b=0;b<a.length;b++)if(!c(a[b]))return a[b];return null}},34631:a=>{"use strict";a.exports=require("tls")},35366:(a,b,c)=>{"use strict";let d=c(94735),e=c(81630),{Duplex:f}=c(27910),{createHash:g}=c(55511),h=c(58986),i=c(20879),j=c(43677),k=c(77740),{GUID:l,kWebSocket:m}=c(63674),n=/^[+/0-9A-Za-z]{22}==$/;class o extends d{constructor(a,b){if(super(),null==(a={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:k,...a}).port&&!a.server&&!a.noServer||null!=a.port&&(a.server||a.noServer)||a.server&&a.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=a.port?(this._server=e.createServer((a,b)=>{let c=e.STATUS_CODES[426];b.writeHead(426,{"Content-Length":c.length,"Content-Type":"text/plain"}),b.end(c)}),this._server.listen(a.port,a.host,a.backlog,b)):a.server&&(this._server=a.server),this._server){let a=this.emit.bind(this,"connection");this._removeListeners=function(a,b){for(let c of Object.keys(b))a.on(c,b[c]);return function(){for(let c of Object.keys(b))a.removeListener(c,b[c])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(b,c,d)=>{this.handleUpgrade(b,c,d,a)}})}!0===a.perMessageDeflate&&(a.perMessageDeflate={}),a.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=a,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(a){if(2===this._state){a&&this.once("close",()=>{a(Error("The server is not running"))}),process.nextTick(p,this);return}if(a&&this.once("close",a),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(p,this);else{let a=this._server;this._removeListeners(),this._removeListeners=this._server=null,a.close(()=>{p(this)})}}shouldHandle(a){if(this.options.path){let b=a.url.indexOf("?");if((-1!==b?a.url.slice(0,b):a.url)!==this.options.path)return!1}return!0}handleUpgrade(a,b,c,d){b.on("error",q);let e=a.headers["sec-websocket-key"],f=a.headers.upgrade,g=+a.headers["sec-websocket-version"];if("GET"!==a.method)return void s(this,a,b,405,"Invalid HTTP method");if(void 0===f||"websocket"!==f.toLowerCase())return void s(this,a,b,400,"Invalid Upgrade header");if(void 0===e||!n.test(e))return void s(this,a,b,400,"Missing or invalid Sec-WebSocket-Key header");if(13!==g&&8!==g)return void s(this,a,b,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});if(!this.shouldHandle(a))return void r(b,400);let k=a.headers["sec-websocket-protocol"],l=new Set;if(void 0!==k)try{l=j.parse(k)}catch(c){s(this,a,b,400,"Invalid Sec-WebSocket-Protocol header");return}let m=a.headers["sec-websocket-extensions"],o={};if(this.options.perMessageDeflate&&void 0!==m){let c=new i(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let a=h.parse(m);a[i.extensionName]&&(c.accept(a[i.extensionName]),o[i.extensionName]=c)}catch(c){s(this,a,b,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let f={origin:a.headers[`${8===g?"sec-websocket-origin":"origin"}`],secure:!!(a.socket.authorized||a.socket.encrypted),req:a};if(2===this.options.verifyClient.length)return void this.options.verifyClient(f,(f,g,h,i)=>{if(!f)return r(b,g||401,h,i);this.completeUpgrade(o,e,l,a,b,c,d)});if(!this.options.verifyClient(f))return r(b,401)}this.completeUpgrade(o,e,l,a,b,c,d)}completeUpgrade(a,b,c,d,e,f,j){if(!e.readable||!e.writable)return e.destroy();if(e[m])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return r(e,503);let k=g("sha1").update(b+l).digest("base64"),n=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${k}`],o=new this.options.WebSocket(null,void 0,this.options);if(c.size){let a=this.options.handleProtocols?this.options.handleProtocols(c,d):c.values().next().value;a&&(n.push(`Sec-WebSocket-Protocol: ${a}`),o._protocol=a)}if(a[i.extensionName]){let b=a[i.extensionName].params,c=h.format({[i.extensionName]:[b]});n.push(`Sec-WebSocket-Extensions: ${c}`),o._extensions=a}this.emit("headers",n,d),e.write(n.concat("\r\n").join("\r\n")),e.removeListener("error",q),o.setSocket(e,f,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(o),o.on("close",()=>{this.clients.delete(o),this._shouldEmitClose&&!this.clients.size&&process.nextTick(p,this)})),j(o,d)}}function p(a){a._state=2,a.emit("close")}function q(){this.destroy()}function r(a,b,c,d){c=c||e.STATUS_CODES[b],d={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(c),...d},a.once("finish",a.destroy),a.end(`HTTP/1.1 ${b} ${e.STATUS_CODES[b]}\r
`+Object.keys(d).map(a=>`${a}: ${d[a]}`).join("\r\n")+"\r\n\r\n"+c)}function s(a,b,c,d,e,f){if(a.listenerCount("wsClientError")){let d=Error(e);Error.captureStackTrace(d,s),a.emit("wsClientError",d,c,b)}else r(c,d,e,f)}a.exports=o},35539:(a,b,c)=>{let d=c(79405),{EventEmitter:e}=c(94735),f=c(27008),g=c(59843),h=c(9841)("mqtt-packet:parser");class i extends e{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof i?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new i().parser(a)}_resetState(){h("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new f,this.error=null,this._list=d(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),h("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,h("parse: state complete. _stateCounter is now: %d",this._stateCounter),h("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return h("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0),b=a>>g.CMD_SHIFT;this.packet.cmd=g.types[b];let c=g.requiredHeaderFlags[b];return null!=c&&(15&a)!==c?this._emitError(Error(g.requiredHeaderFlagsErrors[b])):(this.packet.retain=(a&g.RETAIN_MASK)!=0,this.packet.qos=a>>g.QOS_SHIFT&g.QOS_MASK,this.packet.qos>2)?this._emitError(Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(a&g.DUP_MASK)!=0,h("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0)}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),h("_parseLength %d",a.value),!!a}_parsePayload(){h("_parsePayload: payload %O",this._list);let a=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(Error("Not supported"))}a=!0}return h("_parsePayload complete result: %s",a),a}_parseConnect(){let a,b,c,d;h("_parseConnect");let e={},f=this.packet,i=this._parseString();if(null===i)return this._emitError(Error("Cannot parse protocolId"));if("MQTT"!==i&&"MQIsdp"!==i)return this._emitError(Error("Invalid protocolId"));if(f.protocolId=i,this._pos>=this._list.length)return this._emitError(Error("Packet too short"));if(f.protocolVersion=this._list.readUInt8(this._pos),f.protocolVersion>=128&&(f.bridgeMode=!0,f.protocolVersion=f.protocolVersion-128),3!==f.protocolVersion&&4!==f.protocolVersion&&5!==f.protocolVersion)return this._emitError(Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(Error("Packet too short"));if(1&this._list.readUInt8(this._pos))return this._emitError(Error("Connect flag bit 0 must be 0, but got 1"));e.username=this._list.readUInt8(this._pos)&g.USERNAME_MASK,e.password=this._list.readUInt8(this._pos)&g.PASSWORD_MASK,e.will=this._list.readUInt8(this._pos)&g.WILL_FLAG_MASK;let j=!!(this._list.readUInt8(this._pos)&g.WILL_RETAIN_MASK),k=(this._list.readUInt8(this._pos)&g.WILL_QOS_MASK)>>g.WILL_QOS_SHIFT;if(e.will)f.will={},f.will.retain=j,f.will.qos=k;else{if(j)return this._emitError(Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(k)return this._emitError(Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(f.clean=(this._list.readUInt8(this._pos)&g.CLEAN_SESSION_MASK)!=0,this._pos++,f.keepalive=this._parseNum(),-1===f.keepalive)return this._emitError(Error("Packet too short"));if(5===f.protocolVersion){let a=this._parseProperties();Object.getOwnPropertyNames(a).length&&(f.properties=a)}let l=this._parseString();if(null===l)return this._emitError(Error("Packet too short"));if(f.clientId=l,h("_parseConnect: packet.clientId: %s",f.clientId),e.will){if(5===f.protocolVersion){let a=this._parseProperties();Object.getOwnPropertyNames(a).length&&(f.will.properties=a)}if(null===(a=this._parseString()))return this._emitError(Error("Cannot parse will topic"));if(f.will.topic=a,h("_parseConnect: packet.will.topic: %s",f.will.topic),null===(b=this._parseBuffer()))return this._emitError(Error("Cannot parse will payload"));f.will.payload=b,h("_parseConnect: packet.will.paylaod: %s",f.will.payload)}if(e.username){if(null===(d=this._parseString()))return this._emitError(Error("Cannot parse username"));f.username=d,h("_parseConnect: packet.username: %s",f.username)}if(e.password){if(null===(c=this._parseBuffer()))return this._emitError(Error("Cannot parse password"));f.password=c}return this.settings=f,h("_parseConnect: complete"),f}_parseConnack(){h("_parseConnack");let a=this.packet;if(this._list.length<1)return null;let b=this._list.readUInt8(this._pos++);if(b>1)return this._emitError(Error("Invalid connack flags, bits 7-1 must be set to 0"));if(a.sessionPresent=!!(b&g.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?a.reasonCode=this._list.readUInt8(this._pos++):a.reasonCode=0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(-1===a.returnCode||-1===a.reasonCode)return this._emitError(Error("Cannot parse return code"));if(5===this.settings.protocolVersion){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(a.properties=b)}h("_parseConnack: complete")}_parsePublish(){h("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),null===a.topic)return this._emitError(Error("Cannot parse topic"));if(!(a.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(a.properties=b)}a.payload=this._list.slice(this._pos,a.length),h("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){let a,b,c,d,e,f,i;h("_parseSubscribe");let j=this.packet;if(j.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let a=this._parseProperties();Object.getOwnPropertyNames(a).length&&(j.properties=a)}if(j.length<=0)return this._emitError(Error("Malformed subscribe, no payload specified"));for(;this._pos<j.length;){if(null===(a=this._parseString()))return this._emitError(Error("Cannot parse topic"));if(this._pos>=j.length)return this._emitError(Error("Malformed Subscribe Payload"));if(b=this._parseByte(),5===this.settings.protocolVersion){if(192&b)return this._emitError(Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(252&b)return this._emitError(Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if((c=b&g.SUBSCRIBE_OPTIONS_QOS_MASK)>2)return this._emitError(Error("Invalid subscribe QoS, must be <= 2"));if(f=(b>>g.SUBSCRIBE_OPTIONS_NL_SHIFT&g.SUBSCRIBE_OPTIONS_NL_MASK)!=0,e=(b>>g.SUBSCRIBE_OPTIONS_RAP_SHIFT&g.SUBSCRIBE_OPTIONS_RAP_MASK)!=0,(d=b>>g.SUBSCRIBE_OPTIONS_RH_SHIFT&g.SUBSCRIBE_OPTIONS_RH_MASK)>2)return this._emitError(Error("Invalid retain handling, must be <= 2"));i={topic:a,qos:c},5===this.settings.protocolVersion?(i.nl=f,i.rap=e,i.rh=d):this.settings.bridgeMode&&(i.rh=0,i.rap=!0,i.nl=!0),h("_parseSubscribe: push subscription `%s` to subscription",i),j.subscriptions.push(i)}}}_parseSuback(){h("_parseSuback");let a=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(a.properties=b)}if(a.length<=0)return this._emitError(Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let a=this._list.readUInt8(this._pos++);if(5===this.settings.protocolVersion){if(!g.MQTT5_SUBACK_CODES[a])return this._emitError(Error("Invalid suback code"))}else if(a>2&&128!==a)return this._emitError(Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(a)}}}_parseUnsubscribe(){h("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(a.properties=b)}if(a.length<=0)return this._emitError(Error("Malformed unsubscribe, no payload specified"));for(;this._pos<a.length;){let b=this._parseString();if(null===b)return this._emitError(Error("Cannot parse topic"));h("_parseUnsubscribe: push topic `%s` to unsubscriptions",b),a.unsubscriptions.push(b)}}}_parseUnsuback(){h("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(Error("Cannot parse messageId"));if((3===this.settings.protocolVersion||4===this.settings.protocolVersion)&&2!==a.length)return this._emitError(Error("Malformed unsuback, payload length must be 2"));if(a.length<=0)return this._emitError(Error("Malformed unsuback, no payload specified"));if(5===this.settings.protocolVersion){let b=this._parseProperties();for(Object.getOwnPropertyNames(b).length&&(a.properties=b),a.granted=[];this._pos<this.packet.length;){let a=this._list.readUInt8(this._pos++);if(!g.MQTT5_UNSUBACK_CODES[a])return this._emitError(Error("Invalid unsuback code"));this.packet.granted.push(a)}}}_parseConfirmation(){h("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion){if(a.length>2){switch(a.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!g.MQTT5_PUBACK_PUBREC_CODES[a.reasonCode])return this._emitError(Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!g.MQTT5_PUBREL_PUBCOMP_CODES[a.reasonCode])return this._emitError(Error("Invalid "+this.packet.cmd+" reason code"))}h("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)}else a.reasonCode=0;if(a.length>3){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(a.properties=b)}}return!0}_parseDisconnect(){let a=this.packet;if(h("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?(a.reasonCode=this._parseByte(),g.MQTT5_DISCONNECT_CODES[a.reasonCode]||this._emitError(Error("Invalid disconnect reason code"))):a.reasonCode=0;let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(a.properties=b)}return h("_parseDisconnect result: true"),!0}_parseAuth(){h("_parseAuth");let a=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(Error("Not supported auth packet for this version MQTT"));if(a.reasonCode=this._parseByte(),!g.MQTT5_AUTH_CODES[a.reasonCode])return this._emitError(Error("Invalid auth reason code"));let b=this._parseProperties();return Object.getOwnPropertyNames(b).length&&(a.properties=b),h("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return(a.messageId=this._parseNum(),null===a.messageId)?(this._emitError(Error("Cannot parse messageId")),!1):(h("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let b=this._parseNum(),c=b+this._pos;if(-1===b||c>this._list.length||c>this.packet.length)return null;let d=this._list.toString("utf8",this._pos,c);return this._pos+=b,h("_parseString: result: %s",d),d}_parseStringPair(){return h("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),b=a+this._pos;if(-1===a||b>this._list.length||b>this.packet.length)return null;let c=this._list.slice(this._pos,b);return this._pos+=a,h("_parseBuffer: result: %o",c),c}_parseNum(){if(this._list.length-this._pos<2)return -1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,h("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return -1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,h("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){let b;h("_parseVarByteNum");let c=0,d=1,e=0,f=!1,i=this._pos?this._pos:0;for(;c<4&&i+c<this._list.length;){if(e+=d*((b=this._list.readUInt8(i+c++))&g.VARBYTEINT_MASK),d*=128,(b&g.VARBYTEINT_FIN_MASK)==0){f=!0;break}if(this._list.length<=c)break}return!f&&4===c&&this._list.length>=c&&this._emitError(Error("Invalid variable byte integer")),i&&(this._pos+=c),h("_parseVarByteNum: result: %o",f=!!f&&(a?{bytes:c,value:e}:e)),f}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),h("_parseByte: result: %o",a),a}_parseByType(a){switch(h("_parseByType: type: %s",a),a){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){h("_parseProperties");let a=this._parseVarByteNum(),b=this._pos+a,c={};for(;this._pos<b;){let a=this._parseByte();if(!a)return this._emitError(Error("Cannot parse property code type")),!1;let b=g.propertiesCodes[a];if(!b)return this._emitError(Error("Unknown property")),!1;if("userProperties"===b){c[b]||(c[b]=Object.create(null));let a=this._parseByType(g.propertiesTypes[b]);if(c[b][a.name])if(Array.isArray(c[b][a.name]))c[b][a.name].push(a.value);else{let d=c[b][a.name];c[b][a.name]=[d],c[b][a.name].push(a.value)}else c[b][a.name]=a.value;continue}c[b]?(Array.isArray(c[b])||(c[b]=[c[b]]),c[b].push(this._parseByType(g.propertiesTypes[b]))):c[b]=this._parseByType(g.propertiesTypes[b])}return c}_newPacket(){return h("_newPacket"),this.packet&&(this._list.consume(this.packet.length),h("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),h("_newPacket: new packet"),this.packet=new f,this._pos=0,!0}_emitError(a){h("_emitError",a),this.error=a,this.emit("error",a)}}a.exports=i},35957:(a,b,c)=>{"use strict";let{ArrayIsArray:d,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:f,ArrayPrototypeMap:g,NumberIsInteger:h,NumberIsNaN:i,NumberMAX_SAFE_INTEGER:j,NumberMIN_SAFE_INTEGER:k,NumberParseInt:l,ObjectPrototypeHasOwnProperty:m,RegExpPrototypeExec:n,String:o,StringPrototypeToUpperCase:p,StringPrototypeTrim:q}=c(72602),{hideStackFrames:r,codes:{ERR_SOCKET_BAD_PORT:s,ERR_INVALID_ARG_TYPE:t,ERR_INVALID_ARG_VALUE:u,ERR_OUT_OF_RANGE:v,ERR_UNKNOWN_SIGNAL:w}}=c(30775),{normalizeEncoding:x}=c(37408),{isAsyncFunction:y,isArrayBufferView:z}=c(37408).types,A={},B=/^[0-7]+$/,C=r((a,b,c=k,d=j)=>{if("number"!=typeof a)throw new t(b,"number",a);if(!h(a))throw new v(b,"an integer",a);if(a<c||a>d)throw new v(b,`>= ${c} && <= ${d}`,a)}),D=r((a,b,c=-0x80000000,d=0x7fffffff)=>{if("number"!=typeof a)throw new t(b,"number",a);if(!h(a))throw new v(b,"an integer",a);if(a<c||a>d)throw new v(b,`>= ${c} && <= ${d}`,a)}),E=r((a,b,c=!1)=>{if("number"!=typeof a)throw new t(b,"number",a);if(!h(a))throw new v(b,"an integer",a);let d=+!!c;if(a<d||a>0xffffffff)throw new v(b,`>= ${d} && <= 4294967295`,a)});function F(a,b){if("string"!=typeof a)throw new t(b,"string",a)}let G=r((a,b,c)=>{if(!e(c,a))throw new u(b,a,"must be one of: "+f(g(c,a=>"string"==typeof a?`'${a}'`:o(a)),", "))});function H(a,b){if("boolean"!=typeof a)throw new t(b,"boolean",a)}function I(a,b,c){return null!=a&&m(a,b)?a[b]:c}let J=r((a,b,c=null)=>{let e=I(c,"allowArray",!1),f=I(c,"allowFunction",!1);if(!I(c,"nullable",!1)&&null===a||!e&&d(a)||"object"!=typeof a&&(!f||"function"!=typeof a))throw new t(b,"Object",a)}),K=r((a,b)=>{if(null!=a&&"object"!=typeof a&&"function"!=typeof a)throw new t(b,"a dictionary",a)}),L=r((a,b,c=0)=>{if(!d(a))throw new t(b,"Array",a);if(a.length<c)throw new u(b,a,`must be longer than ${c}`)}),M=r((a,b="buffer")=>{if(!z(a))throw new t(b,["Buffer","TypedArray","DataView"],a)}),N=r((a,b)=>{if(void 0!==a&&(null===a||"object"!=typeof a||!("aborted"in a)))throw new t(b,"AbortSignal",a)}),O=r((a,b)=>{if("function"!=typeof a)throw new t(b,"Function",a)}),P=r((a,b)=>{if("function"!=typeof a||y(a))throw new t(b,"Function",a)}),Q=r((a,b)=>{if(void 0!==a)throw new t(b,"undefined",a)}),R=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function S(a,b){if(void 0===a||!n(R,a))throw new u(b,a,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}a.exports={isInt32:function(a){return a===(0|a)},isUint32:function(a){return a===a>>>0},parseFileMode:function(a,b,c){if(void 0===a&&(a=c),"string"==typeof a){if(null===n(B,a))throw new u(b,a,"must be a 32-bit unsigned integer or an octal string");a=l(a,8)}return E(a,b),a},validateArray:L,validateStringArray:function(a,b){L(a,b);for(let c=0;c<a.length;c++)F(a[c],`${b}[${c}]`)},validateBooleanArray:function(a,b){L(a,b);for(let c=0;c<a.length;c++)H(a[c],`${b}[${c}]`)},validateAbortSignalArray:function(a,b){L(a,b);for(let c=0;c<a.length;c++){let d=a[c],e=`${b}[${c}]`;if(null==d)throw new t(e,"AbortSignal",d);N(d,e)}},validateBoolean:H,validateBuffer:M,validateDictionary:K,validateEncoding:function(a,b){let c=x(b),d=a.length;if("hex"===c&&d%2!=0)throw new u("encoding",b,`is invalid for data of length ${d}`)},validateFunction:O,validateInt32:D,validateInteger:C,validateNumber:function(a,b,c,d){if("number"!=typeof a)throw new t(b,"number",a);if(null!=c&&a<c||null!=d&&a>d||(null!=c||null!=d)&&i(a))throw new v(b,`${null!=c?`>= ${c}`:""}${null!=c&&null!=d?" && ":""}${null!=d?`<= ${d}`:""}`,a)},validateObject:J,validateOneOf:G,validatePlainFunction:P,validatePort:function(a,b="Port",c=!0){if("number"!=typeof a&&"string"!=typeof a||"string"==typeof a&&0===q(a).length||+a!=a>>>0||a>65535||0===a&&!c)throw new s(b,a,c);return 0|a},validateSignalName:function(a,b="signal"){if(F(a,b),void 0===A[a]){if(void 0!==A[p(a)])throw new w(a+" (signals must use all capital letters)");throw new w(a)}},validateString:F,validateUint32:E,validateUndefined:Q,validateUnion:function(a,b,c){if(!e(c,a))throw new t(b,`('${f(c,"|")}')`,a)},validateAbortSignal:N,validateLinkHeaderValue:function(a){if("string"==typeof a)return S(a,"hints"),a;if(d(a)){let b=a.length,c="";if(0===b)return c;for(let d=0;d<b;d++){let e=a[d];S(e,"hints"),c+=e,d!==b-1&&(c+=", ")}return c}throw new u("hints",a,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},37e3:(a,b,c)=>{"use strict";let d,e=c(99978),{ArrayPrototypeSlice:f,Error:g,FunctionPrototypeSymbolHasInstance:h,ObjectDefineProperty:i,ObjectDefineProperties:j,ObjectSetPrototypeOf:k,StringPrototypeToLowerCase:l,Symbol:m,SymbolHasInstance:n}=c(72602);a.exports=J,J.WritableState=H;let{EventEmitter:o}=c(94735),p=c(2327).Stream,{Buffer:q}=c(79428),r=c(15016),{addAbortSignal:s}=c(48887),{getHighWaterMark:t,getDefaultHighWaterMark:u}=c(50111),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:y,ERR_STREAM_DESTROYED:z,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:B,ERR_STREAM_WRITE_AFTER_END:C,ERR_UNKNOWN_ENCODING:D}=c(30775).codes,{errorOrDestroy:E}=r;function F(){}k(J.prototype,p.prototype),k(J,p);let G=m("kOnFinished");function H(a,b,d){"boolean"!=typeof d&&(d=b instanceof c(75750)),this.objectMode=!!(a&&a.objectMode),d&&(this.objectMode=this.objectMode||!!(a&&a.writableObjectMode)),this.highWaterMark=a?t(this,a,"writableHighWaterMark",d):u(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let e=!!(a&&!1===a.decodeStrings);this.decodeStrings=!e,this.defaultEncoding=a&&a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=N.bind(void 0,b),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,I(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!a||!1!==a.emitClose,this.autoDestroy=!a||!1!==a.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[G]=[]}function I(a){a.buffered=[],a.bufferedIndex=0,a.allBuffers=!0,a.allNoop=!0}function J(a){let b=this instanceof c(75750);if(!b&&!h(J,this))return new J(a);this._writableState=new H(a,this,b),a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.final&&(this._final=a.final),"function"==typeof a.construct&&(this._construct=a.construct),a.signal&&s(a.signal,this)),p.call(this,a),r.construct(this,()=>{let a=this._writableState;a.writing||R(this,a),T(this,a)})}function K(a,b,c,d){let f,g=a._writableState;if("function"==typeof c)d=c,c=g.defaultEncoding;else{if(c){if("buffer"!==c&&!q.isEncoding(c))throw new D(c)}else c=g.defaultEncoding;"function"!=typeof d&&(d=F)}if(null===b)throw new B;if(!g.objectMode)if("string"==typeof b)!1!==g.decodeStrings&&(b=q.from(b,c),c="buffer");else if(b instanceof q)c="buffer";else if(p._isUint8Array(b))b=p._uint8ArrayToBuffer(b),c="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],b);return(g.ending?f=new C:g.destroyed&&(f=new z("write")),f)?(e.nextTick(d,f),E(a,f,!0),f):(g.pendingcb++,function(a,b,c,d,e){let f=b.objectMode?1:c.length;b.length+=f;let g=b.length<b.highWaterMark;return g||(b.needDrain=!0),b.writing||b.corked||b.errored||!b.constructed?(b.buffered.push({chunk:c,encoding:d,callback:e}),b.allBuffers&&"buffer"!==d&&(b.allBuffers=!1),b.allNoop&&e!==F&&(b.allNoop=!1)):(b.writelen=f,b.writecb=e,b.writing=!0,b.sync=!0,a._write(c,d,b.onwrite),b.sync=!1),g&&!b.errored&&!b.destroyed}(a,g,b,c,d))}function L(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,b.destroyed?b.onwrite(new z("write")):c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function M(a,b,c,d){--b.pendingcb,d(c),Q(b),E(a,c)}function N(a,b){let c=a._writableState,d=c.sync,f=c.writecb;if("function"!=typeof f)return void E(a,new x);c.writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0,b?(b.stack,c.errored||(c.errored=b),a._readableState&&!a._readableState.errored&&(a._readableState.errored=b),d?e.nextTick(M,a,c,b,f):M(a,c,b,f)):(c.buffered.length>c.bufferedIndex&&R(a,c),d?null!==c.afterWriteTickInfo&&c.afterWriteTickInfo.cb===f?c.afterWriteTickInfo.count++:(c.afterWriteTickInfo={count:1,cb:f,stream:a,state:c},e.nextTick(O,c.afterWriteTickInfo)):P(a,c,1,f))}function O({stream:a,state:b,count:c,cb:d}){return b.afterWriteTickInfo=null,P(a,b,c,d)}function P(a,b,c,d){for(b.ending||a.destroyed||0!==b.length||!b.needDrain||(b.needDrain=!1,a.emit("drain"));c-- >0;)b.pendingcb--,d();b.destroyed&&Q(b),T(a,b)}function Q(a){var b,c;if(a.writing)return;for(let c=a.bufferedIndex;c<a.buffered.length;++c){let{chunk:d,callback:e}=a.buffered[c],f=a.objectMode?1:d.length;a.length-=f,e(null!=(b=a.errored)?b:new z("write"))}let d=a[G].splice(0);for(let b=0;b<d.length;b++)d[b](null!=(c=a.errored)?c:new z("end"));I(a)}function R(a,b){if(b.corked||b.bufferProcessing||b.destroyed||!b.constructed)return;let{buffered:c,bufferedIndex:d,objectMode:e}=b,g=c.length-d;if(!g)return;let h=d;if(b.bufferProcessing=!0,g>1&&a._writev){b.pendingcb-=g-1;let d=b.allNoop?F:a=>{for(let b=h;b<c.length;++b)c[b].callback(a)},e=b.allNoop&&0===h?c:f(c,h);e.allBuffers=b.allBuffers,L(a,b,!0,b.length,e,"",d),I(b)}else{do{let{chunk:d,encoding:f,callback:g}=c[h];c[h++]=null,L(a,b,!1,e?1:d.length,d,f,g)}while(h<c.length&&!b.writing);h===c.length?I(b):h>256?(c.splice(0,h),b.bufferedIndex=0):b.bufferedIndex=h}b.bufferProcessing=!1}function S(a){return a.ending&&!a.destroyed&&a.constructed&&0===a.length&&!a.errored&&0===a.buffered.length&&!a.finished&&!a.writing&&!a.errorEmitted&&!a.closeEmitted}function T(a,b,c){if(S(b)){if(!b.prefinished&&!b.finalCalled)if("function"!=typeof a._final||b.destroyed)b.prefinished=!0,a.emit("prefinish");else{b.finalCalled=!0;let c=!1;function d(d){if(c)return void E(a,null!=d?d:x());if(c=!0,b.pendingcb--,d){let c=b[G].splice(0);for(let a=0;a<c.length;a++)c[a](d);E(a,d,b.sync)}else S(b)&&(b.prefinished=!0,a.emit("prefinish"),b.pendingcb++,e.nextTick(U,a,b))}b.sync=!0,b.pendingcb++;try{a._final(d)}catch(a){d(a)}b.sync=!1}0===b.pendingcb&&(c?(b.pendingcb++,e.nextTick((a,b)=>{S(b)?U(a,b):b.pendingcb--},a,b)):S(b)&&(b.pendingcb++,U(a,b)))}}function U(a,b){b.pendingcb--,b.finished=!0;let c=b[G].splice(0);for(let a=0;a<c.length;a++)c[a]();if(a.emit("finish"),b.autoDestroy){let b=a._readableState;(!b||b.autoDestroy&&(b.endEmitted||!1===b.readable))&&a.destroy()}}H.prototype.getBuffer=function(){return f(this.buffered,this.bufferedIndex)},i(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),i(J,n,{__proto__:null,value:function(a){return!!h(this,a)||this===J&&a&&a._writableState instanceof H}}),J.prototype.pipe=function(){E(this,new y)},J.prototype.write=function(a,b,c){return!0===K(this,a,b,c)},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){let a=this._writableState;a.corked&&(a.corked--,a.writing||R(this,a))},J.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=l(a)),!q.isEncoding(a))throw new D(a);return this._writableState.defaultEncoding=a,this},J.prototype._write=function(a,b,c){if(this._writev)this._writev([{chunk:a,encoding:b}],c);else throw new w("_write()")},J.prototype._writev=null,J.prototype.end=function(a,b,c){let d,f=this._writableState;if("function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!=a){let c=K(this,a,b);c instanceof g&&(d=c)}return f.corked&&(f.corked=1,this.uncork()),d||(f.errored||f.ending?f.finished?d=new A("end"):f.destroyed&&(d=new z("end")):(f.ending=!0,T(this,f,!0),f.ended=!0)),"function"==typeof c&&(d||f.finished?e.nextTick(c,d):f[G].push(c)),this},j(J.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(a){this._writableState&&(this._writableState.destroyed=a)}},writable:{__proto__:null,get(){let a=this._writableState;return!!a&&!1!==a.writable&&!a.destroyed&&!a.errored&&!a.ending&&!a.ended},set(a){this._writableState&&(this._writableState.writable=!!a)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let a=this._writableState;return!!a&&!a.destroyed&&!a.ending&&a.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let V=r.destroy;function W(){return void 0===d&&(d={}),d}J.prototype.destroy=function(a,b){let c=this._writableState;return!c.destroyed&&(c.bufferedIndex<c.buffered.length||c[G].length)&&e.nextTick(Q,c),V.call(this,a,b),this},J.prototype._undestroy=r.undestroy,J.prototype._destroy=function(a,b){b(a)},J.prototype[o.captureRejectionSymbol]=function(a){this.destroy(a)},J.fromWeb=function(a,b){return W().newStreamWritableFromWritableStream(a,b)},J.toWeb=function(a){return W().newWritableStreamFromStreamWritable(a)}},37408:(a,b,c)=>{"use strict";let d=c(79428),{format:e,inspect:f}=c(23051),{codes:{ERR_INVALID_ARG_TYPE:g}}=c(30775),{kResistStopPropagation:h,AggregateError:i,SymbolDispose:j}=c(72602),AbortSignal=globalThis.AbortSignal||c(15464).AbortSignal,k=globalThis.AbortController||c(15464).AbortController,l=Object.getPrototypeOf(async function(){}).constructor,m=globalThis.Blob||d.Blob,n=(a,b)=>{if(void 0!==a&&(null===a||"object"!=typeof a||!("aborted"in a)))throw new g(b,"AbortSignal",a)};a.exports={AggregateError:i,kEmptyObject:Object.freeze({}),once(a){let b=!1;return function(...c){b||(b=!0,a.apply(this,c))}},createDeferredPromise:function(){let a,b;return{promise:new Promise((c,d)=>{a=c,b=d}),resolve:a,reject:b}},promisify:a=>new Promise((b,c)=>{a((a,...d)=>a?c(a):b(...d))}),debuglog:()=>function(){},format:e,inspect:f,types:{isAsyncFunction:a=>a instanceof l,isArrayBufferView:a=>ArrayBuffer.isView(a)},isBlob:void 0!==m?function(a){return a instanceof m}:function(a){return!1},deprecate:(a,b)=>a,addAbortListener:c(94735).addAbortListener||function(a,b){let c;if(void 0===a)throw new g("signal","AbortSignal",a);n(a,"signal");if("function"!=typeof b)throw new g("listener","Function",b);return a.aborted?queueMicrotask(()=>b()):(a.addEventListener("abort",b,{__proto__:null,once:!0,[h]:!0}),c=()=>{a.removeEventListener("abort",b)}),{__proto__:null,[j](){var a;null==(a=c)||a()}}},AbortSignalAny:AbortSignal.any||function(a){if(1===a.length)return a[0];let b=new k,c=()=>b.abort();return a.forEach(a=>{n(a,"signals"),a.addEventListener("abort",c,{once:!0})}),b.signal.addEventListener("abort",()=>{a.forEach(a=>a.removeEventListener("abort",c))},{once:!0}),b.signal}},a.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},38249:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(65522),e={objectMode:!0},f={clean:!0};class g{options;_inflights;constructor(a){this.options=a||{},this.options={...f,...a},this._inflights=new Map}put(a,b){return this._inflights.set(a.messageId,a),b&&b(),this}createStream(){let a=new d.Readable(e),b=[],c=!1,f=0;return this._inflights.forEach((a,c)=>{b.push(a)}),a._read=()=>{!c&&f<b.length?a.push(b[f++]):a.push(null)},a.destroy=b=>{if(!c)return c=!0,setTimeout(()=>{a.emit("close")},0),a},a}del(a,b){let c=this._inflights.get(a.messageId);return c?(this._inflights.delete(a.messageId),b(null,c)):b&&b(Error("missing packet")),this}get(a,b){let c=this._inflights.get(a.messageId);return c?b(null,c):b&&b(Error("missing packet")),this}close(a){this.options.clean&&(this._inflights=null),a&&a()}}b.default=g},39265:a=>{"use strict";"undefined"!=typeof process&&process.version&&0!==process.version.indexOf("v0.")&&(0!==process.version.indexOf("v1.")||0===process.version.indexOf("v1.8."))?a.exports=process:a.exports={nextTick:function(a,b,c,d){if("function"!=typeof a)throw TypeError('"callback" argument must be a function');var e,f,g=arguments.length;switch(g){case 0:case 1:return process.nextTick(a);case 2:return process.nextTick(function(){a.call(null,b)});case 3:return process.nextTick(function(){a.call(null,b,c)});case 4:return process.nextTick(function(){a.call(null,b,c,d)});default:for(e=Array(g-1),f=0;f<e.length;)e[f++]=arguments[f];return process.nextTick(function(){a.apply(null,e)})}}}},39727:()=>{},39947:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=c(781),f=d(c(34257)),g=c(91591);b.default=(a,b)=>{a.log("_handleConnack");let{options:c}=a,d=5===c.protocolVersion?b.reasonCode:b.returnCode;if(clearTimeout(a.connackTimer),delete a.topicAliasSend,b.properties){if(b.properties.topicAliasMaximum){if(b.properties.topicAliasMaximum>65535)return void a.emit("error",Error("topicAliasMaximum from broker is out of range"));b.properties.topicAliasMaximum>0&&(a.topicAliasSend=new f.default(b.properties.topicAliasMaximum))}b.properties.serverKeepAlive&&c.keepalive&&(c.keepalive=b.properties.serverKeepAlive),b.properties.maximumPacketSize&&(c.properties||(c.properties={}),c.properties.maximumPacketSize=b.properties.maximumPacketSize)}if(0===d)a.reconnecting=!1,a._onConnect(b);else if(d>0){let b=new g.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[d]}`,d);a.emit("error",b),a.options.reconnectOnConnackError&&a._cleanUp(!0)}}},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},41071:(a,b,c)=>{"use strict";let d=c(8965).CD,e=c(9841)("number-allocator:trace"),f=c(9841)("number-allocator:error");function g(a,b){this.low=a,this.high=b}function h(a,b){if(!(this instanceof h))return new h(a,b);this.min=a,this.max=b,this.ss=new d([],(a,b)=>a.compare(b)),e("Create"),this.clear()}g.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},g.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:+(a.low<this.low&&a.high<this.low)},h.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},h.prototype.alloc=function(){if(0===this.ss.size())return e("alloc():empty"),null;let a=this.ss.begin(),b=a.pointer.low,c=a.pointer.high;return b+1<=c?this.ss.updateKeyByIterator(a,new g(b+1,c)):this.ss.eraseElementByPos(0),e("alloc():"+b),b},h.prototype.use=function(a){let b=new g(a,a),c=this.ss.lowerBound(b);if(!c.equals(this.ss.end())){let d=c.pointer.low,f=c.pointer.high;return c.pointer.equals(b)?(this.ss.eraseElementByIterator(c),e("use():"+a),!0):!(d>a)&&(d===a?this.ss.updateKeyByIterator(c,new g(d+1,f)):f===a?this.ss.updateKeyByIterator(c,new g(d,f-1)):(this.ss.updateKeyByIterator(c,new g(a+1,f)),this.ss.insert(new g(d,a-1))),e("use():"+a),!0)}return e("use():failed"),!1},h.prototype.free=function(a){if(a<this.min||a>this.max)return void f("free():"+a+" is out of range");let b=new g(a,a),c=this.ss.upperBound(b);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin()))return void this.ss.insert(b);c.pre();let d=c.pointer.high;c.pointer.high+1===a?this.ss.updateKeyByIterator(c,new g(d,a)):this.ss.insert(b)}else if(c.equals(this.ss.begin()))if(a+1===c.pointer.low){let b=c.pointer.high;this.ss.updateKeyByIterator(c,new g(a,b))}else this.ss.insert(b);else{let d=c.pointer.low,e=c.pointer.high;c.pre();let f=c.pointer.low;c.pointer.high+1===a?a+1===d?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new g(f,e))):this.ss.updateKeyByIterator(c,new g(f,a)):a+1===d?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new g(a,e))):this.ss.insert(b)}e("free():"+a)},h.prototype.clear=function(){e("clear()"),this.ss.clear(),this.ss.insert(new g(this.min,this.max))},h.prototype.intervalCount=function(){return this.ss.size()},h.prototype.dump=function(){for(let a of(console.log("length:"+this.ss.size()),this.ss))console.log(a)},a.exports=h},41072:(a,b,c)=>{let d=c(41071);a.exports.NumberAllocator=d},41279:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.streamBuilder=b.browserStreamBuilder=void 0;let e=c(79428),f=d(c(68135)),g=d(c(9841)),h=c(65522),i=d(c(43955)),j=c(18607),k=(0,g.default)("mqttjs:ws"),l=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function m(a,b){let c=`${a.protocol}://${a.hostname}:${a.port}${a.path}`;return"function"==typeof a.transformWsUrl&&(c=a.transformWsUrl(c,a,b)),c}function n(a){return a.port||("wss"===a.protocol?a.port=443:a.port=80),a.path||(a.path="/"),a.wsOptions||(a.wsOptions={}),i.default||a.forceNativeWebSocket||"wss"!==a.protocol||l.forEach(b=>{Object.prototype.hasOwnProperty.call(a,b)&&!Object.prototype.hasOwnProperty.call(a.wsOptions,b)&&(a.wsOptions[b]=a[b])}),a}b.streamBuilder=(a,b)=>{k("streamBuilder");let c=n(b);c.hostname=c.hostname||c.host||"localhost";let d=m(c,a),e=function(a,b,c){k("createWebSocket"),k(`protocol: ${c.protocolId} ${c.protocolVersion}`);let d="MQIsdp"===c.protocolId&&3===c.protocolVersion?"mqttv3.1":"mqtt";return k(`creating new Websocket for url: ${b} and protocol: ${d}`),c.createWebsocket?c.createWebsocket(b,[d],c):new f.default(b,[d],c.wsOptions)}(0,d,c),g=f.default.createWebSocketStream(e,c.wsOptions);return g.url=d,e.on("close",()=>{g.destroy()}),g},b.browserStreamBuilder=(a,b)=>{let c;k("browserStreamBuilder");let d=function(a){let b=n(a);if(b.hostname||(b.hostname=b.host),!b.hostname){if("undefined"==typeof document)throw Error("Could not determine host. Specify host manually.");let a=new URL(document.URL);b.hostname=a.hostname,b.port||(b.port=Number(a.port))}return void 0===b.objectMode&&(b.objectMode=!0!==b.binary&&void 0!==b.binary),b}(b).browserBufferSize||524288,f=b.browserBufferTimeout||1e3,g=!b.objectMode,i=function(a,b){let c,d="MQIsdp"===b.protocolId&&3===b.protocolVersion?"mqttv3.1":"mqtt",e=m(b,a);return(c=b.createWebsocket?b.createWebsocket(e,[d],b):new WebSocket(e,[d])).binaryType="arraybuffer",c}(a,b),l=function(a,b,c){let d=new h.Transform({objectMode:a.objectMode});return d._write=b,d._flush=c,d}(b,function a(b,c,h){if(i.bufferedAmount>d)return void setTimeout(a,f,b,c,h);g&&"string"==typeof b&&(b=e.Buffer.from(b,"utf8"));try{i.send(b)}catch(a){return h(a)}h()},function(a){i.close(),a()});b.objectMode||(l._writev=j.writev.bind(l)),l.on("close",()=>{i.close()});let o=void 0!==i.addEventListener;function p(){k("WebSocket onOpen"),c instanceof j.BufferedDuplex&&c.socketReady()}function q(a){k("WebSocket onClose",a),c.end(),c.destroy()}function r(a){k("WebSocket onError",a);let b=Error("WebSocket error");b.event=a,c.destroy(b)}async function s(a){if(!l||!l.readable||!l.writable)return;let{data:b}=a;b=b instanceof ArrayBuffer?e.Buffer.from(b):b instanceof Blob?e.Buffer.from(await new Response(b).arrayBuffer()):e.Buffer.from(b,"utf8"),l.push(b)}return i.readyState===i.OPEN?(c=l).socket=i:(c=new j.BufferedDuplex(b,l,i),o?i.addEventListener("open",p):i.onopen=p),o?(i.addEventListener("close",q),i.addEventListener("error",r),i.addEventListener("message",s)):(i.onclose=q,i.onerror=r,i.onmessage=s),c}},42235:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let c=[0,16,128,131,135,144,145,151,153];b.default=(a,b,d)=>{a.log("handlePublish: packet %o",b),d=void 0!==d?d:a.noop;let e=b.topic.toString(),f=b.payload,{qos:g}=b,{messageId:h}=b,{options:i}=a;if(5===a.options.protocolVersion){let c;if(b.properties&&(c=b.properties.topicAlias),void 0!==c)if(0===e.length)if(c>0&&c<=65535){let b=a.topicAliasRecv.getTopicByAlias(c);if(b)e=b,a.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",e,c);else{a.log("handlePublish :: unregistered topic alias. alias: %d",c),a.emit("error",Error("Received unregistered Topic Alias"));return}}else{a.log("handlePublish :: topic alias out of range. alias: %d",c),a.emit("error",Error("Received Topic Alias is out of range"));return}else if(a.topicAliasRecv.put(e,c))a.log("handlePublish :: registered topic: %s - alias: %d",e,c);else{a.log("handlePublish :: topic alias out of range. alias: %d",c),a.emit("error",Error("Received Topic Alias is out of range"));return}}switch(a.log("handlePublish: qos %d",g),g){case 2:i.customHandleAcks(e,f,b,(e,f)=>("number"==typeof e&&(f=e,e=null),e)?a.emit("error",e):-1===c.indexOf(f)?a.emit("error",Error("Wrong reason code for pubrec")):void(f?a._sendPacket({cmd:"pubrec",messageId:h,reasonCode:f},d):a.incomingStore.put(b,()=>{a._sendPacket({cmd:"pubrec",messageId:h},d)})));break;case 1:i.customHandleAcks(e,f,b,(g,i)=>("number"==typeof g&&(i=g,g=null),g)?a.emit("error",g):-1===c.indexOf(i)?a.emit("error",Error("Wrong reason code for puback")):void(!i&&a.emit("message",e,f,b),a.handleMessage(b,b=>{if(b)return d&&d(b);a._sendPacket({cmd:"puback",messageId:h,reasonCode:i},d)})));break;case 0:a.emit("message",e,f,b),a.handleMessage(b,d);break;default:a.log("handlePublish: unknown QoS. Doing nothing.")}}},43042:(a,b,c)=>{"use strict";let d,e,f,g=c(99978),{ArrayIsArray:h,Promise:i,SymbolAsyncIterator:j,SymbolDispose:k}=c(72602),l=c(78050),{once:m}=c(37408),n=c(15016),o=c(75750),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:r,ERR_MISSING_ARGS:s,ERR_STREAM_DESTROYED:t,ERR_STREAM_PREMATURE_CLOSE:u},AbortError:v}=c(30775),{validateFunction:w,validateAbortSignal:x}=c(35957),{isIterable:y,isReadable:z,isReadableNodeStream:A,isNodeStream:B,isTransformStream:C,isWebStream:D,isReadableStream:E,isReadableFinished:F}=c(98007),G=globalThis.AbortController||c(15464).AbortController;function H(a,b,c){let d=!1;return a.on("close",()=>{d=!0}),{destroy:b=>{d||(d=!0,n.destroyer(a,b||new t("pipe")))},cleanup:l(a,{readable:b,writable:c},a=>{d=!a})}}function I(a){if(y(a))return a;if(A(a))return J(a);throw new q("val",["Readable","Iterable","AsyncIterable"],a)}async function*J(a){e||(e=c(53112)),yield*e.prototype[j].call(a)}async function K(a,b,c,{end:d}){let e,f=null,g=a=>{if(a&&(e=a),f){let a=f;f=null,a()}},h=()=>new i((a,b)=>{e?b(e):f=()=>{e?b(e):a()}});b.on("drain",g);let j=l(b,{readable:!1},g);try{for await(let c of(b.writableNeedDrain&&await h(),a))b.write(c)||await h();d&&(b.end(),await h()),c()}catch(a){c(e!==a?p(e,a):a)}finally{j(),b.off("drain",g)}}async function L(a,b,c,{end:d}){C(b)&&(b=b.writable);let e=b.getWriter();try{for await(let b of a)await e.ready,e.write(b).catch(()=>{});await e.ready,d&&await e.close(),c()}catch(a){try{await e.abort(a),c(a)}catch(a){c(a)}}}function M(a,b,e){let i,j,m,n;if(1===a.length&&h(a[0])&&(a=a[0]),a.length<2)throw new s("streams");let p=new G,t=p.signal,w=null==e?void 0:e.signal,J=[];function M(){Q(new v)}x(w,"options.signal"),f=f||c(37408).addAbortListener,w&&(i=f(w,M));let N=[],O=0;function P(a){Q(a,0==--O)}function Q(a,c){var d;if(a&&(!j||"ERR_STREAM_PREMATURE_CLOSE"===j.code)&&(j=a),j||c){for(;N.length;)N.shift()(j);null==(d=i)||d[k](),p.abort(),c&&(j||J.forEach(a=>a()),g.nextTick(b,j,m))}}for(let b=0;b<a.length;b++){let f=a[b],h=b<a.length-1,i=b>0,j=h||(null==e?void 0:e.end)!==!1,k=b===a.length-1;if(B(f)){if(j){let{destroy:a,cleanup:b}=H(f,h,i);N.push(a),z(f)&&k&&J.push(b)}function R(a){a&&"AbortError"!==a.name&&"ERR_STREAM_PREMATURE_CLOSE"!==a.code&&P(a)}f.on("error",R),z(f)&&k&&J.push(()=>{f.removeListener("error",R)})}if(0===b)if("function"==typeof f){if(!y(n=f({signal:t})))throw new r("Iterable, AsyncIterable or Stream","source",n)}else n=y(f)||A(f)||C(f)?f:o.from(f);else if("function"==typeof f){var S,T;if(n=f(n=C(n)?I(null==(S=n)?void 0:S.readable):I(n),{signal:t}),h){if(!y(n,!0))throw new r("AsyncIterable",`transform[${b-1}]`,n)}else{d||(d=c(3204));let a=new d({objectMode:!0}),b=null==(T=n)?void 0:T.then;if("function"==typeof b)O++,b.call(n,b=>{m=b,null!=b&&a.write(b),j&&a.end(),g.nextTick(P)},b=>{a.destroy(b),g.nextTick(P,b)});else if(y(n,!0))O++,K(n,a,P,{end:j});else if(E(n)||C(n)){let b=n.readable||n;O++,K(b,a,P,{end:j})}else throw new r("AsyncIterable or Promise","destination",n);let{destroy:e,cleanup:f}=H(n=a,!1,!0);N.push(e),k&&J.push(f)}}else if(B(f)){if(A(n)){O+=2;let a=function(a,b,c,{end:d}){let e=!1;if(b.on("close",()=>{e||c(new u)}),a.pipe(b,{end:!1}),d){function f(){e=!0,b.end()}F(a)?g.nextTick(f):a.once("end",f)}else c();return l(a,{readable:!0,writable:!1},b=>{let d=a._readableState;b&&"ERR_STREAM_PREMATURE_CLOSE"===b.code&&d&&d.ended&&!d.errored&&!d.errorEmitted?a.once("end",c).once("error",c):c(b)}),l(b,{readable:!1,writable:!0},c)}(n,f,P,{end:j});z(f)&&k&&J.push(a)}else if(C(n)||E(n)){let a=n.readable||n;O++,K(a,f,P,{end:j})}else if(y(n))O++,K(n,f,P,{end:j});else throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],n);n=f}else if(D(f)){if(A(n))O++,L(I(n),f,P,{end:j});else if(E(n)||y(n))O++,L(n,f,P,{end:j});else if(C(n))O++,L(n.readable,f,P,{end:j});else throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],n);n=f}else n=o.from(f)}return(null!=t&&t.aborted||null!=w&&w.aborted)&&g.nextTick(M),n}a.exports={pipelineImpl:M,pipeline:function(...a){return M(a,m((w(a[a.length-1],"streams[stream.length - 1]"),a.pop())))}}},43677:(a,b,c)=>{"use strict";let{tokenChars:d}=c(86200);a.exports={parse:function(a){let b=new Set,c=-1,e=-1,f=0;for(;f<a.length;f++){let g=a.charCodeAt(f);if(-1===e&&1===d[g])-1===c&&(c=f);else if(0!==f&&(32===g||9===g))-1===e&&-1!==c&&(e=f);else if(44===g){if(-1===c)throw SyntaxError(`Unexpected character at index ${f}`);-1===e&&(e=f);let d=a.slice(c,e);if(b.has(d))throw SyntaxError(`The "${d}" subprotocol is duplicated`);b.add(d),c=e=-1}else throw SyntaxError(`Unexpected character at index ${f}`)}if(-1===c||-1!==e)throw SyntaxError("Unexpected end of input");let g=a.slice(c,f);if(b.has(g))throw SyntaxError(`The "${g}" subprotocol is duplicated`);return b.add(g),b}}},43955:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isReactNativeBrowser=b.isWebWorker=void 0;let c=()=>!!("object"==typeof self&&self?.constructor?.name?.includes("WorkerGlobalScope")&&"undefined"==typeof Deno),d=()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product,e="undefined"!=typeof window&&("undefined"!=typeof navigator&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&process?.versions?!Object.prototype.hasOwnProperty.call(process.versions,"electron"):void 0!==window.document)||c()||d();b.isWebWorker=c(),b.isReactNativeBrowser=d(),b.default=e},44665:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b};Object.defineProperty(b,"__esModule",{value:!0}),b.ADDRESS_BOUNDARY=void 0,b.groupPossibilities=h,b.padGroup=i,b.simpleRegularExpression=function(a){let b=[];a.forEach((a,c)=>{0===parseInt(a,16)&&b.push(c)});let c=b.map(b=>a.map((a,c)=>{if(c===b){let b=0===c||c===g.GROUPS-1?":":"";return h([i(a),b])}return i(a)}).join(":"));return c.push(a.map(i).join(":")),h(c)},b.possibleElisions=function(a,b,c){let d=[];b||c||d.push("::"),b&&c&&d.push(""),(c&&!b||!c&&b)&&d.push(":"),d.push(`${b?"":":"}(:0{1,4}){1,${a-1}}`),d.push(`(0{1,4}:){1,${a-1}}${c?"":":"}`),d.push(`(0{1,4}:){${a-1}}0{1,4}`);for(let b=1;b<a-1;b++)for(let c=1;c<a-b;c++)d.push(`(0{1,4}:){${c}}:(0{1,4}:){${a-c-b-1}}0{1,4}`);return h(d)};let g=f(c(79694));function h(a){return`(${a.join("|")})`}function i(a){return a.length<4?`0{0,${4-a.length}}${a}`:a}b.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]"},46046:(a,b,c)=>{"use strict";let{Buffer:d}=c(79428),{ObjectDefineProperty:e,ObjectKeys:f,ReflectApply:g}=c(72602),{promisify:{custom:h}}=c(37408),{streamReturningOperators:i,promiseReturningOperators:j}=c(12083),{codes:{ERR_ILLEGAL_CONSTRUCTOR:k}}=c(30775),l=c(58378),{setDefaultHighWaterMark:m,getDefaultHighWaterMark:n}=c(50111),{pipeline:o}=c(43042),{destroyer:p}=c(15016),q=c(78050),r=c(29203),s=c(98007),t=a.exports=c(2327).Stream;for(let a of(t.isDestroyed=s.isDestroyed,t.isDisturbed=s.isDisturbed,t.isErrored=s.isErrored,t.isReadable=s.isReadable,t.isWritable=s.isWritable,t.Readable=c(53112),f(i))){let b=i[a];function u(...a){if(new.target)throw k();return t.Readable.from(g(b,this,a))}e(u,"name",{__proto__:null,value:b.name}),e(u,"length",{__proto__:null,value:b.length}),e(t.Readable.prototype,a,{__proto__:null,value:u,enumerable:!1,configurable:!0,writable:!0})}for(let a of f(j)){let b=j[a];function v(...a){if(new.target)throw k();return g(b,this,a)}e(v,"name",{__proto__:null,value:b.name}),e(v,"length",{__proto__:null,value:b.length}),e(t.Readable.prototype,a,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}t.Writable=c(37e3),t.Duplex=c(75750),t.Transform=c(4986),t.PassThrough=c(3204),t.pipeline=o;let{addAbortSignal:w}=c(48887);t.addAbortSignal=w,t.finished=q,t.destroy=p,t.compose=l,t.setDefaultHighWaterMark=m,t.getDefaultHighWaterMark=n,e(t,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>r}),e(o,h,{__proto__:null,enumerable:!0,get:()=>r.pipeline}),e(q,h,{__proto__:null,enumerable:!0,get:()=>r.finished}),t.Stream=t,t._isUint8Array=function(a){return a instanceof Uint8Array},t._uint8ArrayToBuffer=function(a){return d.from(a.buffer,a.byteOffset,a.byteLength)}},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},47009:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b};Object.defineProperty(b,"__esModule",{value:!0}),b.Address6=void 0;let g=f(c(181)),h=f(c(57016)),i=f(c(79694)),j=f(c(55202)),k=c(93379),l=c(44665),m=c(48869),n=c(181);function o(a){if(!a)throw Error("Assertion failed.")}function p(a){return(a=a.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2')).replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2')}function q(a){return parseInt(a,16).toString(16).padStart(4,"0")}function r(a){return 255&a}class s{constructor(a,b){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=g.isInSubnet,this.isCorrect=g.isCorrect(i.BITS),void 0===b?this.groups=i.GROUPS:this.groups=b,this.address=a;let c=i.RE_SUBNET_STRING.exec(a);if(c){if(this.parsedSubnet=c[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>i.BITS)throw new m.AddressError("Invalid subnet mask.");a=a.replace(i.RE_SUBNET_STRING,"")}else if(/\//.test(a))throw new m.AddressError("Invalid subnet mask.");let d=i.RE_ZONE_STRING.exec(a);d&&(this.zone=d[0],a=a.replace(i.RE_ZONE_STRING,"")),this.addressMinusSuffix=a,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(a){try{return new s(a),!0}catch(a){return!1}}static fromBigInt(a){let b,c=a.toString(16).padStart(32,"0"),d=[];for(b=0;b<i.GROUPS;b++)d.push(c.slice(4*b,(b+1)*4));return new s(d.join(":"))}static fromURL(a){let b,c,d=null;if(-1!==a.indexOf("[")&&-1!==a.indexOf("]:")){if(null===(c=i.RE_URL_WITH_PORT.exec(a)))return{error:"failed to parse address with port",address:null,port:null};b=c[1],d=c[2]}else if(-1!==a.indexOf("/")){if(a=a.replace(/^[a-z0-9]+:\/\//,""),null===(c=i.RE_URL.exec(a)))return{error:"failed to parse address from URL",address:null,port:null};b=c[1]}else b=a;return d?((d=parseInt(d,10))<0||d>65536)&&(d=null):d=null,{address:new s(b),port:d}}static fromAddress4(a){let b=new k.Address4(a),c=i.BITS-(h.BITS-b.subnetMask);return new s(`::ffff:${b.correctForm()}/${c}`)}static fromArpa(a){let b=a.replace(/(\.ip6\.arpa)?\.$/,"");if(63!==b.length)throw new m.AddressError("Invalid 'ip6.arpa' form.");let c=b.split(".").reverse();for(let a=7;a>0;a--){let b=4*a;c.splice(b,0,":")}return new s(b=c.join(""))}microsoftTranscription(){return`${this.correctForm().replace(/:/g,"-")}.ipv6-literal.net`}mask(a=this.subnetMask){return this.getBitsBase2(0,a)}possibleSubnets(a=128){let b=i.BITS-this.subnetMask-Math.abs(a-i.BITS);if(b<0)return"0";var c=(BigInt("2")**BigInt(b)).toString(10);let d=/(\d+)(\d{3})/;for(;d.test(c);)c=c.replace(d,"$1,$2");return c}_startAddress(){return BigInt(`0b${this.mask()+"0".repeat(i.BITS-this.subnetMask)}`)}startAddress(){return s.fromBigInt(this._startAddress())}startAddressExclusive(){let a=BigInt("1");return s.fromBigInt(this._startAddress()+a)}_endAddress(){return BigInt(`0b${this.mask()+"1".repeat(i.BITS-this.subnetMask)}`)}endAddress(){return s.fromBigInt(this._endAddress())}endAddressExclusive(){let a=BigInt("1");return s.fromBigInt(this._endAddress()-a)}getScope(){let a=i.SCOPES[parseInt(this.getBits(12,16).toString(10),10)];return"Global unicast"===this.getType()&&"Link local"!==a&&(a="Global"),a||"Unknown"}getType(){for(let a of Object.keys(i.TYPES))if(this.isInSubnet(new s(a)))return i.TYPES[a];return"Global unicast"}getBits(a,b){return BigInt(`0b${this.getBitsBase2(a,b)}`)}getBitsBase2(a,b){return this.binaryZeroPad().slice(a,b)}getBitsBase16(a,b){let c=b-a;if(c%4!=0)throw Error("Length of bits to retrieve must be divisible by four");return this.getBits(a,b).toString(16).padStart(c/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,i.BITS)}reverseForm(a){a||(a={});let b=Math.floor(this.subnetMask/4),c=this.canonicalForm().replace(/:/g,"").split("").slice(0,b).reverse().join(".");return b>0?a.omitSuffix?c:`${c}.ip6.arpa.`:a.omitSuffix?"":"ip6.arpa."}correctForm(){let a,b=[],c=0,d=[];for(a=0;a<this.parsedAddress.length;a++){let b=parseInt(this.parsedAddress[a],16);0===b&&c++,0!==b&&c>0&&(c>1&&d.push([a-c,a-1]),c=0)}c>1&&d.push([this.parsedAddress.length-c,this.parsedAddress.length-1]);let e=d.map(a=>a[1]-a[0]+1);if(d.length>0){let a=e.indexOf(Math.max(...e));b=function(a,b){let c,d=[],e=[];for(c=0;c<a.length;c++)c<b[0]?d.push(a[c]):c>b[1]&&e.push(a[c]);return d.concat(["compact"]).concat(e)}(this.parsedAddress,d[a])}else b=this.parsedAddress;for(a=0;a<b.length;a++)"compact"!==b[a]&&(b[a]=parseInt(b[a],16).toString(16));let f=b.join(":");return(f=(f=f.replace(/^compact$/,"::")).replace(/(^compact)|(compact$)/,":")).replace(/compact/,"")}binaryZeroPad(){return this.bigInt().toString(2).padStart(i.BITS,"0")}parse4in6(a){let b=a.split(":"),c=b.slice(-1)[0].match(h.RE_ADDRESS);if(c){this.parsedAddress4=c[0],this.address4=new k.Address4(this.parsedAddress4);for(let b=0;b<this.address4.groups;b++)if(/^0[0-9]+/.test(this.address4.parsedAddress[b]))throw new m.AddressError("IPv4 addresses can't have leading zeroes.",a.replace(h.RE_ADDRESS,this.address4.parsedAddress.map(p).join(".")));this.v4=!0,b[b.length-1]=this.address4.toGroup6(),a=b.join(":")}return a}parse(a){let b=(a=this.parse4in6(a)).match(i.RE_BAD_CHARACTERS);if(b)throw new m.AddressError(`Bad character${b.length>1?"s":""} detected in address: ${b.join("")}`,a.replace(i.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));let c=a.match(i.RE_BAD_ADDRESS);if(c)throw new m.AddressError(`Address failed regex: ${c.join("")}`,a.replace(i.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let d=[],e=a.split("::");if(2===e.length){let a=e[0].split(":"),b=e[1].split(":");1===a.length&&""===a[0]&&(a=[]),1===b.length&&""===b[0]&&(b=[]);let c=this.groups-(a.length+b.length);if(!c)throw new m.AddressError("Error parsing groups");this.elidedGroups=c,this.elisionBegin=a.length,this.elisionEnd=a.length+this.elidedGroups,d=d.concat(a);for(let a=0;a<c;a++)d.push("0");d=d.concat(b)}else if(1===e.length)d=a.split(":"),this.elidedGroups=0;else throw new m.AddressError("Too many :: groups found");if((d=d.map(a=>parseInt(a,16).toString(16))).length!==this.groups)throw new m.AddressError("Incorrect number of groups found");return d}canonicalForm(){return this.parsedAddress.map(q).join(":")}decimal(){return this.parsedAddress.map(a=>parseInt(a,16).toString(10).padStart(5,"0")).join(":")}bigInt(){return BigInt(`0x${this.parsedAddress.map(q).join("")}`)}to4(){let a=this.binaryZeroPad().split("");return k.Address4.fromHex(BigInt(`0b${a.slice(96,128).join("")}`).toString(16))}to4in6(){let a=this.to4(),b=new s(this.parsedAddress.slice(0,6).join(":"),6).correctForm(),c="";return/:$/.test(b)||(c=":"),b+c+a.address}inspectTeredo(){let a=this.getBitsBase16(0,32),b=(this.getBits(80,96)^BigInt("0xffff")).toString(),c=k.Address4.fromHex(this.getBitsBase16(32,64)),d=this.getBits(96,128),e=k.Address4.fromHex((d^BigInt("0xffffffff")).toString(16)),f=this.getBitsBase2(64,80),g=(0,n.testBit)(f,15),h=(0,n.testBit)(f,14),i=(0,n.testBit)(f,8),j=(0,n.testBit)(f,9),l=BigInt(`0b${f.slice(2,6)+f.slice(8,16)}`).toString(10);return{prefix:`${a.slice(0,4)}:${a.slice(4,8)}`,server4:c.address,client4:e.address,flags:f,coneNat:g,microsoft:{reserved:h,universalLocal:j,groupIndividual:i,nonce:l},udpPort:b}}inspect6to4(){let a=this.getBitsBase16(0,16),b=k.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:a.slice(0,4),gateway:b.address}}to6to4(){return this.is4()?new s(["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),":/16"].join(":")):null}toByteArray(){let a=this.bigInt().toString(16),b="0".repeat(a.length%2),c=`${b}${a}`,d=[];for(let a=0,b=c.length;a<b;a+=2)d.push(parseInt(c.substring(a,a+2),16));return d}toUnsignedByteArray(){return this.toByteArray().map(r)}static fromByteArray(a){return this.fromUnsignedByteArray(a.map(r))}static fromUnsignedByteArray(a){let b=BigInt("256"),c=BigInt("0"),d=BigInt("1");for(let e=a.length-1;e>=0;e--)c+=d*BigInt(a[e].toString(10)),d*=b;return s.fromBigInt(c)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return"1111111010000000000000000000000000000000000000000000000000000000"===this.getBitsBase2(0,64)}isMulticast(){return"Multicast"===this.getType()}is4(){return this.v4}isTeredo(){return this.isInSubnet(new s("2001::/32"))}is6to4(){return this.isInSubnet(new s("2002::/16"))}isLoopback(){return"Loopback"===this.getType()}href(a){return a=void 0===a?"":`:${a}`,`http://[${this.correctForm()}]${a}/`}link(a){a||(a={}),void 0===a.className&&(a.className=""),void 0===a.prefix&&(a.prefix="/#address="),void 0===a.v4&&(a.v4=!1);let b=this.correctForm;a.v4&&(b=this.to4in6);let c=b.call(this);return a.className?`<a href="${a.prefix}${c}" class="${a.className}">${c}</a>`:`<a href="${a.prefix}${c}">${c}</a>`}group(){if(0===this.elidedGroups)return j.simpleGroup(this.address).join(":");o("number"==typeof this.elidedGroups),o("number"==typeof this.elisionBegin);let a=[],[b,c]=this.address.split("::");b.length?a.push(...j.simpleGroup(b)):a.push("");let d=["hover-group"];for(let a=this.elisionBegin;a<this.elisionBegin+this.elidedGroups;a++)d.push(`group-${a}`);return a.push(`<span class="${d.join(" ")}"></span>`),c.length?a.push(...j.simpleGroup(c,this.elisionEnd)):a.push(""),this.is4()&&(o(this.address4 instanceof k.Address4),a.pop(),a.push(this.address4.groupForV6())),a.join(":")}regularExpressionString(a=!1){let b=[],c=new s(this.correctForm());if(0===c.elidedGroups)b.push((0,l.simpleRegularExpression)(c.parsedAddress));else if(c.elidedGroups===i.GROUPS)b.push((0,l.possibleElisions)(i.GROUPS));else{let a=c.address.split("::");a[0].length&&b.push((0,l.simpleRegularExpression)(a[0].split(":"))),o("number"==typeof c.elidedGroups),b.push((0,l.possibleElisions)(c.elidedGroups,0!==a[0].length,0!==a[1].length)),a[1].length&&b.push((0,l.simpleRegularExpression)(a[1].split(":"))),b=[b.join(":")]}return a||(b=["(?=^|",l.ADDRESS_BOUNDARY,"|[^\\w\\:])(",...b,")(?=[^\\w\\:]|",l.ADDRESS_BOUNDARY,"|$)"]),b.join("")}regularExpression(a=!1){return RegExp(this.regularExpressionString(a),"i")}}b.Address6=s},47357:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},47364:(a,b,c)=>{let d=c(59843),{Buffer:e}=c(79428),f=e.allocUnsafe(0),g=e.from([0]),h=c(79348),i=c(39265).nextTick,j=c(9841)("mqtt-packet:writeToStream"),k=h.cache,l=h.generateNumber,m=h.generateCache,n=h.genBufVariableByteInt,o=h.generate4ByteBuffer,p=w,q=!0;function r(a,b,c){switch(j("generate called"),b.cork&&(b.cork(),i(s,b)),q&&(q=!1,m()),j("generate: packet.cmd: %s",a.cmd),a.cmd){case"connect":return function(a,b,c){let f,g,h,i=a||{},j=i.protocolId||"MQTT",k=i.protocolVersion||4,l=i.will,m=i.clean,n=i.keepalive||0,o=i.clientId||"",q=i.username,r=i.password,s=i.properties;void 0===m&&(m=!0);let t=0;if(!j||"string"!=typeof j&&!e.isBuffer(j))return b.destroy(Error("Invalid protocolId")),!1;if(t+=j.length+2,3!==k&&4!==k&&5!==k)return b.destroy(Error("Invalid protocol version")),!1;if(t+=1,("string"==typeof o||e.isBuffer(o))&&(o||k>=4)&&(o||m))t+=e.byteLength(o)+2;else{if(k<4)return b.destroy(Error("clientId must be supplied before 3.1.1")),!1;if(0==+m)return b.destroy(Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof n||n<0||n>65535||n%1!=0)return b.destroy(Error("Invalid keepalive")),!1;if(t+=2,t+=1,5===k){if(!(f=z(b,s)))return!1;t+=f.length}if(l){if("object"!=typeof l)return b.destroy(Error("Invalid will")),!1;if(!l.topic||"string"!=typeof l.topic)return b.destroy(Error("Invalid will topic")),!1;if(t+=e.byteLength(l.topic)+2,t+=2,l.payload)if(!(l.payload.length>=0))return b.destroy(Error("Invalid will payload")),!1;else"string"==typeof l.payload?t+=e.byteLength(l.payload):t+=l.payload.length;if(g={},5===k){if(!(g=z(b,l.properties)))return!1;t+=g.length}}let w=!1;if(null!=q)if(!E(q))return b.destroy(Error("Invalid username")),!1;else w=!0,t+=e.byteLength(q)+2;if(null!=r){if(!w)return b.destroy(Error("Username is required to use password")),!1;if(!E(r))return b.destroy(Error("Invalid password")),!1;t+=D(r)+2}return b.write(d.CONNECT_HEADER),u(b,t),y(b,j),i.bridgeMode&&(k+=128),b.write(131===k?d.VERSION131:132===k?d.VERSION132:4===k?d.VERSION4:5===k?d.VERSION5:d.VERSION3),h=0|(null!=q?d.USERNAME_MASK:0)|(null!=r?d.PASSWORD_MASK:0)|(l&&l.retain?d.WILL_RETAIN_MASK:0)|(l&&l.qos?l.qos<<d.WILL_QOS_SHIFT:0)|(l?d.WILL_FLAG_MASK:0)|(m?d.CLEAN_SESSION_MASK:0),b.write(e.from([h])),p(b,n),5===k&&f.write(),y(b,o),l&&(5===k&&g.write(),v(b,l.topic),y(b,l.payload)),null!=q&&y(b,q),null!=r&&y(b,r),!0}(a,b,0);case"connack":return function(a,b,c){let f=c?c.protocolVersion:4,h=a||{},i=5===f?h.reasonCode:h.returnCode,j=h.properties,k=2;if("number"!=typeof i)return b.destroy(Error("Invalid return code")),!1;let l=null;if(5===f){if(!(l=z(b,j)))return!1;k+=l.length}return b.write(d.CONNACK_HEADER),u(b,k),b.write(h.sessionPresent?d.SESSIONPRESENT_HEADER:g),b.write(e.from([i])),null!=l&&l.write(),!0}(a,b,c);case"publish":return function(a,b,c){j("publish: packet: %o",a);let g=c?c.protocolVersion:4,h=a||{},i=h.qos||0,k=h.retain?d.RETAIN_MASK:0,l=h.topic,m=h.payload||f,n=h.messageId,o=h.properties,q=0;if("string"==typeof l)q+=e.byteLength(l)+2;else{if(!e.isBuffer(l))return b.destroy(Error("Invalid topic")),!1;q+=l.length+2}if(e.isBuffer(m)?q+=m.length:q+=e.byteLength(m),i&&"number"!=typeof n)return b.destroy(Error("Invalid messageId")),!1;i&&(q+=2);let r=null;if(5===g){if(!(r=z(b,o)))return!1;q+=r.length}return b.write(d.PUBLISH_HEADER[i][+!!h.dup][+!!k]),u(b,q),p(b,D(l)),b.write(l),i>0&&p(b,n),null!=r&&r.write(),j("publish: payload: %o",m),b.write(m)}(a,b,c);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(a,b,c){let f=c?c.protocolVersion:4,g=a||{},h=g.cmd||"puback",i=g.messageId,j=g.dup&&"pubrel"===h?d.DUP_MASK:0,k=0,l=g.reasonCode,m=g.properties,n=5===f?3:2;if("pubrel"===h&&(k=1),"number"!=typeof i)return b.destroy(Error("Invalid messageId")),!1;let o=null;if(5===f&&"object"==typeof m){if(!(o=A(b,m,c,n)))return!1;n+=o.length}return b.write(d.ACKS[h][k][j][0]),3===n&&(n+=0!==l?1:-1),u(b,n),p(b,i),5===f&&2!==n&&b.write(e.from([l])),null!==o?o.write():4===n&&b.write(e.from([0])),!0}(a,b,c);case"subscribe":return function(a,b,c){j("subscribe: packet: ");let f=c?c.protocolVersion:4,g=a||{},h=g.dup?d.DUP_MASK:0,i=g.messageId,k=g.subscriptions,l=g.properties,m=0;if("number"!=typeof i)return b.destroy(Error("Invalid messageId")),!1;m+=2;let n=null;if(5===f){if(!(n=z(b,l)))return!1;m+=n.length}if("object"!=typeof k||!k.length)return b.destroy(Error("Invalid subscriptions")),!1;for(let a=0;a<k.length;a+=1){let c=k[a].topic,d=k[a].qos;if("string"!=typeof c)return b.destroy(Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof d)return b.destroy(Error("Invalid subscriptions - invalid qos")),!1;if(5===f){if("boolean"!=typeof(k[a].nl||!1))return b.destroy(Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(k[a].rap||!1))return b.destroy(Error("Invalid subscriptions - invalid Retain as Published")),!1;let c=k[a].rh||0;if("number"!=typeof c||c>2)return b.destroy(Error("Invalid subscriptions - invalid Retain Handling")),!1}m+=e.byteLength(c)+2+1}j("subscribe: writing to stream: %o",d.SUBSCRIBE_HEADER),b.write(d.SUBSCRIBE_HEADER[1][+!!h][0]),u(b,m),p(b,i),null!==n&&n.write();let o=!0;for(let a of k){let c,g=a.topic,h=a.qos,i=+a.nl,j=+a.rap,k=a.rh;v(b,g),c=d.SUBSCRIBE_OPTIONS_QOS[h],5===f&&(c|=i?d.SUBSCRIBE_OPTIONS_NL:0,c|=j?d.SUBSCRIBE_OPTIONS_RAP:0,c|=k?d.SUBSCRIBE_OPTIONS_RH[k]:0),o=b.write(e.from([c]))}return o}(a,b,c);case"suback":return function(a,b,c){let f=c?c.protocolVersion:4,g=a||{},h=g.messageId,i=g.granted,j=g.properties,k=0;if("number"!=typeof h)return b.destroy(Error("Invalid messageId")),!1;if(k+=2,"object"!=typeof i||!i.length)return b.destroy(Error("Invalid qos vector")),!1;for(let a=0;a<i.length;a+=1){if("number"!=typeof i[a])return b.destroy(Error("Invalid qos vector")),!1;k+=1}let l=null;if(5===f){if(!(l=A(b,j,c,k)))return!1;k+=l.length}return b.write(d.SUBACK_HEADER),u(b,k),p(b,h),null!==l&&l.write(),b.write(e.from(i))}(a,b,c);case"unsubscribe":return function(a,b,c){let f=c?c.protocolVersion:4,g=a||{},h=g.messageId,i=g.dup?d.DUP_MASK:0,j=g.unsubscriptions,k=g.properties,l=0;if("number"!=typeof h)return b.destroy(Error("Invalid messageId")),!1;if(l+=2,"object"!=typeof j||!j.length)return b.destroy(Error("Invalid unsubscriptions")),!1;for(let a=0;a<j.length;a+=1){if("string"!=typeof j[a])return b.destroy(Error("Invalid unsubscriptions")),!1;l+=e.byteLength(j[a])+2}let m=null;if(5===f){if(!(m=z(b,k)))return!1;l+=m.length}b.write(d.UNSUBSCRIBE_HEADER[1][+!!i][0]),u(b,l),p(b,h),null!==m&&m.write();let n=!0;for(let a=0;a<j.length;a++)n=v(b,j[a]);return n}(a,b,c);case"unsuback":return function(a,b,c){let f=c?c.protocolVersion:4,g=a||{},h=g.messageId,i=g.dup?d.DUP_MASK:0,j=g.granted,k=g.properties,l=g.cmd,m=2;if("number"!=typeof h)return b.destroy(Error("Invalid messageId")),!1;if(5===f)if("object"!=typeof j||!j.length)return b.destroy(Error("Invalid qos vector")),!1;else for(let a=0;a<j.length;a+=1){if("number"!=typeof j[a])return b.destroy(Error("Invalid qos vector")),!1;m+=1}let n=null;if(5===f){if(!(n=A(b,k,c,m)))return!1;m+=n.length}return b.write(d.ACKS[l][0][i][0]),u(b,m),p(b,h),null!==n&&n.write(),5===f&&b.write(e.from(j)),!0}(a,b,c);case"pingreq":case"pingresp":var h;return h=a,b.write(d.EMPTY[h.cmd]);case"disconnect":return function(a,b,c){let f=c?c.protocolVersion:4,g=a||{},h=g.reasonCode,i=g.properties,j=+(5===f),k=null;if(5===f){if(!(k=A(b,i,c,j)))return!1;j+=k.length}return b.write(e.from([d.codes.disconnect<<4])),u(b,j),5===f&&b.write(e.from([h])),null!==k&&k.write(),!0}(a,b,c);case"auth":return function(a,b,c){let f=c?c.protocolVersion:4,g=a||{},h=g.reasonCode,i=g.properties,j=+(5===f);5!==f&&b.destroy(Error("Invalid mqtt version for auth packet"));let k=A(b,i,c,j);return!!k&&(j+=k.length,b.write(e.from([d.codes.auth<<4])),u(b,j),b.write(e.from([h])),null!==k&&k.write(),!0)}(a,b,c);default:return b.destroy(Error("Unknown command")),!1}}function s(a){a.uncork()}Object.defineProperty(r,"cacheNumbers",{get:()=>p===w,set(a){a?(k&&0!==Object.keys(k).length||(q=!0),p=w):(q=!1,p=x)}});let t={};function u(a,b){if(b>d.VARBYTEINT_MAX)return a.destroy(Error(`Invalid variable byte integer: ${b}`)),!1;let c=t[b];return!c&&(c=n(b),b<16384&&(t[b]=c)),j("writeVarByteInt: writing to stream: %o",c),a.write(c)}function v(a,b){let c=e.byteLength(b);return p(a,c),j("writeString: %s",b),a.write(b,"utf8")}function w(a,b){return j("writeNumberCached: number: %d",b),j("writeNumberCached: %o",k[b]),a.write(k[b])}function x(a,b){let c=l(b);return j("writeNumberGenerated: %o",c),a.write(c)}function y(a,b){"string"==typeof b?v(a,b):b?(p(a,b.length),a.write(b)):p(a,0)}function z(a,b){if("object"!=typeof b||null!=b.length)return{length:1,write(){C(a,{},0)}};let c=0;function f(b,c){let f=d.propertiesTypes[b],g=0;switch(f){case"byte":if("boolean"!=typeof c)return a.destroy(Error(`Invalid ${b}: ${c}`)),!1;g+=2;break;case"int8":if("number"!=typeof c||c<0||c>255)return a.destroy(Error(`Invalid ${b}: ${c}`)),!1;g+=2;break;case"binary":if(c&&null===c)return a.destroy(Error(`Invalid ${b}: ${c}`)),!1;g+=1+e.byteLength(c)+2;break;case"int16":if("number"!=typeof c||c<0||c>65535)return a.destroy(Error(`Invalid ${b}: ${c}`)),!1;g+=3;break;case"int32":if("number"!=typeof c||c<0||c>0xffffffff)return a.destroy(Error(`Invalid ${b}: ${c}`)),!1;g+=5;break;case"var":if("number"!=typeof c||c<0||c>0xfffffff)return a.destroy(Error(`Invalid ${b}: ${c}`)),!1;g+=1+e.byteLength(n(c));break;case"string":if("string"!=typeof c)return a.destroy(Error(`Invalid ${b}: ${c}`)),!1;g+=3+e.byteLength(c.toString());break;case"pair":if("object"!=typeof c)return a.destroy(Error(`Invalid ${b}: ${c}`)),!1;g+=Object.getOwnPropertyNames(c).reduce((a,b)=>{let d=c[b];return Array.isArray(d)?a+=d.reduce((a,c)=>a+=3+e.byteLength(b.toString())+2+e.byteLength(c.toString()),0):a+=3+e.byteLength(b.toString())+2+e.byteLength(c[b].toString()),a},0);break;default:return a.destroy(Error(`Invalid property ${b}: ${c}`)),!1}return g}if(b)for(let a in b){let d=0,e=0,g=b[a];if(void 0!==g){if(Array.isArray(g))for(let b=0;b<g.length;b++){if(!(e=f(a,g[b])))return!1;d+=e}else{if(!(e=f(a,g)))return!1;d=e}if(!d)return!1;c+=d}}return{length:e.byteLength(n(c))+c,write(){C(a,b,c)}}}function A(a,b,c,d){let e=["reasonString","userProperties"],f=c&&c.properties&&c.properties.maximumPacketSize?c.properties.maximumPacketSize:0,g=z(a,b);if(f)for(;d+g.length>f;){let c=e.shift();if(!c||!b[c])return!1;delete b[c],g=z(a,b)}return g}function B(a,b,c){switch(d.propertiesTypes[b]){case"byte":a.write(e.from([d.properties[b]])),a.write(e.from([+c]));break;case"int8":a.write(e.from([d.properties[b]])),a.write(e.from([c]));break;case"binary":a.write(e.from([d.properties[b]])),y(a,c);break;case"int16":a.write(e.from([d.properties[b]])),p(a,c);break;case"int32":a.write(e.from([d.properties[b]])),function(a,b){let c=o(b);j("write4ByteNumber: %o",c),a.write(c)}(a,c);break;case"var":a.write(e.from([d.properties[b]])),u(a,c);break;case"string":a.write(e.from([d.properties[b]])),v(a,c);break;case"pair":Object.getOwnPropertyNames(c).forEach(f=>{let g=c[f];if(Array.isArray(g))g.forEach(c=>{var g,h;a.write(e.from([d.properties[b]])),g=f.toString(),h=c.toString(),v(a,g),v(a,h)});else{var h,i;a.write(e.from([d.properties[b]])),h=f.toString(),i=g.toString(),v(a,h),v(a,i)}});break;default:return a.destroy(Error(`Invalid property ${b} value: ${c}`)),!1}}function C(a,b,c){for(let d in u(a,c),b)if(Object.prototype.hasOwnProperty.call(b,d)&&null!=b[d]){let c=b[d];if(Array.isArray(c))for(let b=0;b<c.length;b++)B(a,d,c[b]);else B(a,d,c)}}function D(a){return a?a instanceof e?a.length:e.byteLength(a):0}function E(a){return"string"==typeof a||a instanceof e}a.exports=r},47990:()=>{},48869:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AddressError=void 0;class c extends Error{constructor(a,b){super(a),this.name="AddressError",this.parseMessage=b}}b.AddressError=c},48887:(a,b,c)=>{"use strict";let d,{SymbolDispose:e}=c(72602),{AbortError:f,codes:g}=c(30775),{isNodeStream:h,isWebStream:i,kControllerErrorFunction:j}=c(98007),k=c(78050),{ERR_INVALID_ARG_TYPE:l}=g;a.exports.addAbortSignal=function(b,c){if("object"!=typeof b||!("aborted"in b))throw new l("signal","AbortSignal",b);if(!h(c)&&!i(c))throw new l("stream",["ReadableStream","WritableStream","Stream"],c);return a.exports.addAbortSignalNoValidate(b,c)},a.exports.addAbortSignalNoValidate=function(a,b){if("object"!=typeof a||!("aborted"in a))return b;let g=h(b)?()=>{b.destroy(new f(void 0,{cause:a.reason}))}:()=>{b[j](new f(void 0,{cause:a.reason}))};return a.aborted?g():k(b,(d=d||c(37408).addAbortListener)(a,g)[e]),b}},48985:(a,b,c)=>{try{var d=c(28354);if("function"!=typeof d.inherits)throw"";a.exports=d.inherits}catch(b){a.exports=c(53510)}},50111:(a,b,c)=>{"use strict";let{MathFloor:d,NumberIsInteger:e}=c(72602),{validateInteger:f}=c(35957),{ERR_INVALID_ARG_VALUE:g}=c(30775).codes,h=16384,i=16;function j(a){return a?i:h}a.exports={getHighWaterMark:function(a,b,c,f){let h=null!=b.highWaterMark?b.highWaterMark:f?b[c]:null;if(null!=h){if(!e(h)||h<0)throw new g(f?`options.${c}`:"options.highWaterMark",h);return d(h)}return j(a.objectMode)},getDefaultHighWaterMark:j,setDefaultHighWaterMark:function(a,b){f(b,"value",0),a?i=b:h=b}}},50179:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(68541);class e{constructor(a){if(this.length=0,this._encoding="utf8",this._writeOffset=0,this._readOffset=0,e.isSmartBufferOptions(a))if(a.encoding&&(d.checkEncoding(a.encoding),this._encoding=a.encoding),a.size)if(d.isFiniteInteger(a.size)&&a.size>0)this._buff=Buffer.allocUnsafe(a.size);else throw Error(d.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(a.buff)if(Buffer.isBuffer(a.buff))this._buff=a.buff,this.length=a.buff.length;else throw Error(d.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(4096);else{if(void 0!==a)throw Error(d.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(4096)}}static fromSize(a,b){return new this({size:a,encoding:b})}static fromBuffer(a,b){return new this({buff:a,encoding:b})}static fromOptions(a){return new this(a)}static isSmartBufferOptions(a){return a&&(void 0!==a.encoding||void 0!==a.size||void 0!==a.buff)}readInt8(a){return this._readNumberValue(Buffer.prototype.readInt8,1,a)}readInt16BE(a){return this._readNumberValue(Buffer.prototype.readInt16BE,2,a)}readInt16LE(a){return this._readNumberValue(Buffer.prototype.readInt16LE,2,a)}readInt32BE(a){return this._readNumberValue(Buffer.prototype.readInt32BE,4,a)}readInt32LE(a){return this._readNumberValue(Buffer.prototype.readInt32LE,4,a)}readBigInt64BE(a){return d.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,a)}readBigInt64LE(a){return d.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,a)}writeInt8(a,b){return this._writeNumberValue(Buffer.prototype.writeInt8,1,a,b),this}insertInt8(a,b){return this._insertNumberValue(Buffer.prototype.writeInt8,1,a,b)}writeInt16BE(a,b){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,a,b)}insertInt16BE(a,b){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,a,b)}writeInt16LE(a,b){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,a,b)}insertInt16LE(a,b){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,a,b)}writeInt32BE(a,b){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,a,b)}insertInt32BE(a,b){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,a,b)}writeInt32LE(a,b){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,a,b)}insertInt32LE(a,b){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,a,b)}writeBigInt64BE(a,b){return d.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,a,b)}insertBigInt64BE(a,b){return d.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,a,b)}writeBigInt64LE(a,b){return d.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,a,b)}insertBigInt64LE(a,b){return d.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,a,b)}readUInt8(a){return this._readNumberValue(Buffer.prototype.readUInt8,1,a)}readUInt16BE(a){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,a)}readUInt16LE(a){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,a)}readUInt32BE(a){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,a)}readUInt32LE(a){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,a)}readBigUInt64BE(a){return d.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,a)}readBigUInt64LE(a){return d.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,a)}writeUInt8(a,b){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,a,b)}insertUInt8(a,b){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,a,b)}writeUInt16BE(a,b){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,a,b)}insertUInt16BE(a,b){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,a,b)}writeUInt16LE(a,b){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,a,b)}insertUInt16LE(a,b){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,a,b)}writeUInt32BE(a,b){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,a,b)}insertUInt32BE(a,b){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,a,b)}writeUInt32LE(a,b){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,a,b)}insertUInt32LE(a,b){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,a,b)}writeBigUInt64BE(a,b){return d.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,a,b)}insertBigUInt64BE(a,b){return d.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,a,b)}writeBigUInt64LE(a,b){return d.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,a,b)}insertBigUInt64LE(a,b){return d.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,a,b)}readFloatBE(a){return this._readNumberValue(Buffer.prototype.readFloatBE,4,a)}readFloatLE(a){return this._readNumberValue(Buffer.prototype.readFloatLE,4,a)}writeFloatBE(a,b){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,a,b)}insertFloatBE(a,b){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,a,b)}writeFloatLE(a,b){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,a,b)}insertFloatLE(a,b){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,a,b)}readDoubleBE(a){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,a)}readDoubleLE(a){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,a)}writeDoubleBE(a,b){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,a,b)}insertDoubleBE(a,b){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,a,b)}writeDoubleLE(a,b){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,a,b)}insertDoubleLE(a,b){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,a,b)}readString(a,b){let c;"number"==typeof a?(d.checkLengthValue(a),c=Math.min(a,this.length-this._readOffset)):(b=a,c=this.length-this._readOffset),void 0!==b&&d.checkEncoding(b);let e=this._buff.slice(this._readOffset,this._readOffset+c).toString(b||this._encoding);return this._readOffset+=c,e}insertString(a,b,c){return d.checkOffsetValue(b),this._handleString(a,!0,b,c)}writeString(a,b,c){return this._handleString(a,!1,b,c)}readStringNT(a){void 0!==a&&d.checkEncoding(a);let b=this.length;for(let a=this._readOffset;a<this.length;a++)if(0===this._buff[a]){b=a;break}let c=this._buff.slice(this._readOffset,b);return this._readOffset=b+1,c.toString(a||this._encoding)}insertStringNT(a,b,c){return d.checkOffsetValue(b),this.insertString(a,b,c),this.insertUInt8(0,b+a.length),this}writeStringNT(a,b,c){return this.writeString(a,b,c),this.writeUInt8(0,"number"==typeof b?b+a.length:this.writeOffset),this}readBuffer(a){void 0!==a&&d.checkLengthValue(a);let b="number"==typeof a?a:this.length,c=Math.min(this.length,this._readOffset+b),e=this._buff.slice(this._readOffset,c);return this._readOffset=c,e}insertBuffer(a,b){return d.checkOffsetValue(b),this._handleBuffer(a,!0,b)}writeBuffer(a,b){return this._handleBuffer(a,!1,b)}readBufferNT(){let a=this.length;for(let b=this._readOffset;b<this.length;b++)if(0===this._buff[b]){a=b;break}let b=this._buff.slice(this._readOffset,a);return this._readOffset=a+1,b}insertBufferNT(a,b){return d.checkOffsetValue(b),this.insertBuffer(a,b),this.insertUInt8(0,b+a.length),this}writeBufferNT(a,b){return void 0!==b&&d.checkOffsetValue(b),this.writeBuffer(a,b),this.writeUInt8(0,"number"==typeof b?b+a.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(a){d.checkOffsetValue(a),d.checkTargetOffset(a,this),this._readOffset=a}get writeOffset(){return this._writeOffset}set writeOffset(a){d.checkOffsetValue(a),d.checkTargetOffset(a,this),this._writeOffset=a}get encoding(){return this._encoding}set encoding(a){d.checkEncoding(a),this._encoding=a}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(a){let b="string"==typeof a?a:this._encoding;return d.checkEncoding(b),this._buff.toString(b,0,this.length)}destroy(){return this.clear(),this}_handleString(a,b,c,e){let f=this._writeOffset,g=this._encoding;"number"==typeof c?f=c:"string"==typeof c&&(d.checkEncoding(c),g=c),"string"==typeof e&&(d.checkEncoding(e),g=e);let h=Buffer.byteLength(a,g);return b?this.ensureInsertable(h,f):this._ensureWriteable(h,f),this._buff.write(a,f,h,g),b?this._writeOffset+=h:"number"==typeof c?this._writeOffset=Math.max(this._writeOffset,f+h):this._writeOffset+=h,this}_handleBuffer(a,b,c){let d="number"==typeof c?c:this._writeOffset;return b?this.ensureInsertable(a.length,d):this._ensureWriteable(a.length,d),a.copy(this._buff,d),b?this._writeOffset+=a.length:"number"==typeof c?this._writeOffset=Math.max(this._writeOffset,d+a.length):this._writeOffset+=a.length,this}ensureReadable(a,b){let c=this._readOffset;if(void 0!==b&&(d.checkOffsetValue(b),c=b),c<0||c+a>this.length)throw Error(d.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(a,b){d.checkOffsetValue(b),this._ensureCapacity(this.length+a),b<this.length&&this._buff.copy(this._buff,b+a,b,this._buff.length),b+a>this.length?this.length=b+a:this.length+=a}_ensureWriteable(a,b){let c="number"==typeof b?b:this._writeOffset;this._ensureCapacity(c+a),c+a>this.length&&(this.length=c+a)}_ensureCapacity(a){let b=this._buff.length;if(a>b){let c=this._buff,d=3*b/2+1;d<a&&(d=a),this._buff=Buffer.allocUnsafe(d),c.copy(this._buff,0,0,b)}}_readNumberValue(a,b,c){this.ensureReadable(b,c);let d=a.call(this._buff,"number"==typeof c?c:this._readOffset);return void 0===c&&(this._readOffset+=b),d}_insertNumberValue(a,b,c,e){return d.checkOffsetValue(e),this.ensureInsertable(b,e),a.call(this._buff,c,e),this._writeOffset+=b,this}_writeNumberValue(a,b,c,e){if("number"==typeof e){if(e<0)throw Error(d.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);d.checkOffsetValue(e)}let f="number"==typeof e?e:this._writeOffset;return this._ensureWriteable(b,f),a.call(this._buff,c,f),"number"==typeof e?this._writeOffset=Math.max(this._writeOffset,f+b):this._writeOffset+=b,this}}b.SmartBuffer=e},53112:(a,b,c)=>{"use strict";let d,e=c(99978),{ArrayPrototypeIndexOf:f,NumberIsInteger:g,NumberIsNaN:h,NumberParseInt:i,ObjectDefineProperties:j,ObjectKeys:k,ObjectSetPrototypeOf:l,Promise:m,SafeSet:n,SymbolAsyncDispose:o,SymbolAsyncIterator:p,Symbol:q}=c(72602);a.exports=R,R.ReadableState=Q;let{EventEmitter:r}=c(94735),{Stream:s,prependListener:t}=c(2327),{Buffer:u}=c(79428),{addAbortSignal:v}=c(48887),w=c(78050),x=c(37408).debuglog("stream",a=>{x=a}),y=c(65329),z=c(15016),{getHighWaterMark:A,getDefaultHighWaterMark:B}=c(50111),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_OUT_OF_RANGE:F,ERR_STREAM_PUSH_AFTER_EOF:G,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:H},AbortError:I}=c(30775),{validateObject:J}=c(35957),K=q("kPaused"),{StringDecoder:L}=c(32677),M=c(22060);l(R.prototype,s.prototype),l(R,s);let N=()=>{},{errorOrDestroy:O}=z;function P(a){return{enumerable:!1,get(){return(this.state&a)!=0},set(b){b?this.state|=a:this.state&=~a}}}function Q(a,b,d){"boolean"!=typeof d&&(d=b instanceof c(75750)),this.state=6192,a&&a.objectMode&&(this.state|=1),d&&a&&a.readableObjectMode&&(this.state|=1),this.highWaterMark=a?A(this,a,"readableHighWaterMark",d):B(!1),this.buffer=new y,this.length=0,this.pipes=[],this.flowing=null,this[K]=null,a&&!1===a.emitClose&&(this.state&=-2049),a&&!1===a.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=a&&a.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,a&&a.encoding&&(this.decoder=new L(a.encoding),this.encoding=a.encoding)}function R(a){if(!(this instanceof R))return new R(a);let b=this instanceof c(75750);this._readableState=new Q(a,this,b),a&&("function"==typeof a.read&&(this._read=a.read),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.construct&&(this._construct=a.construct),a.signal&&!b&&v(a.signal,this)),s.call(this,a),z.construct(this,()=>{this._readableState.needReadable&&X(this,this._readableState)})}function S(a,b,c,d){let e;x("readableAddChunk",b);let f=a._readableState;if((1&f.state)==0&&("string"==typeof b?(c=c||f.defaultEncoding,f.encoding!==c&&(d&&f.encoding?b=u.from(b,c).toString(f.encoding):(b=u.from(b,c),c=""))):b instanceof u?c="":s._isUint8Array(b)?(b=s._uint8ArrayToBuffer(b),c=""):null!=b&&(e=new D("chunk",["string","Buffer","Uint8Array"],b))),e)O(a,e);else if(null===b)f.state&=-9,function(a,b){if(x("onEofChunk"),!b.ended){if(b.decoder){let a=b.decoder.end();a&&a.length&&(b.buffer.push(a),b.length+=b.objectMode?1:a.length)}b.ended=!0,b.sync?V(a):(b.needReadable=!1,b.emittedReadable=!0,W(a))}}(a,f);else if((1&f.state)!=0||b&&b.length>0)if(d)if((4&f.state)!=0)O(a,new H);else{if(f.destroyed||f.errored)return!1;T(a,f,b,!0)}else if(f.ended)O(a,new G);else{if(f.destroyed||f.errored)return!1;f.state&=-9,f.decoder&&!c?(b=f.decoder.write(b),f.objectMode||0!==b.length?T(a,f,b,!1):X(a,f)):T(a,f,b,!1)}else d||(f.state&=-9,X(a,f));return!f.ended&&(f.length<f.highWaterMark||0===f.length)}function T(a,b,c,d){b.flowing&&0===b.length&&!b.sync&&a.listenerCount("data")>0?((65536&b.state)!=0?b.awaitDrainWriters.clear():b.awaitDrainWriters=null,b.dataEmitted=!0,a.emit("data",c)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),(64&b.state)!=0&&V(a)),X(a,b)}function U(a,b){return a<=0||0===b.length&&b.ended?0:(1&b.state)!=0?1:h(a)?b.flowing&&b.length?b.buffer.first().length:b.length:a<=b.length?a:b.ended?b.length:0}function V(a){let b=a._readableState;x("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(x("emitReadable",b.flowing),b.emittedReadable=!0,e.nextTick(W,a))}function W(a){let b=a._readableState;x("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&!b.errored&&(b.length||b.ended)&&(a.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,aa(a)}function X(a,b){!b.readingMore&&b.constructed&&(b.readingMore=!0,e.nextTick(Y,a,b))}function Y(a,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&0===b.length);){let c=b.length;if(x("maybeReadMore read 0"),a.read(0),c===b.length)break}b.readingMore=!1}function Z(a){let b=a._readableState;b.readableListening=a.listenerCount("readable")>0,b.resumeScheduled&&!1===b[K]?b.flowing=!0:a.listenerCount("data")>0?a.resume():b.readableListening||(b.flowing=null)}function $(a){x("readable nexttick read 0"),a.read(0)}function _(a,b){x("resume",b.reading),b.reading||a.read(0),b.resumeScheduled=!1,a.emit("resume"),aa(a),b.flowing&&!b.reading&&a.read(0)}function aa(a){let b=a._readableState;for(x("flow",b.flowing);b.flowing&&null!==a.read(););}function ab(a,b){"function"!=typeof a.read&&(a=R.wrap(a,{objectMode:!0}));let c=ac(a,b);return c.stream=a,c}async function*ac(a,b){let c,d=N;function e(b){this===a?(d(),d=N):d=b}a.on("readable",e);let f=w(a,{writable:!1},a=>{c=a?C(c,a):null,d(),d=N});try{for(;;){let b=a.destroyed?null:a.read();if(null!==b)yield b;else if(c)throw c;else{if(null===c)return;await new m(e)}}}catch(a){throw c=C(c,a)}finally{(c||(null==b?void 0:b.destroyOnReturn)!==!1)&&(void 0===c||a._readableState.autoDestroy)?z.destroyer(a,null):(a.off("readable",e),f())}}function ad(a,b){let c;return 0===b.length?null:(b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.first():b.buffer.concat(b.length),b.buffer.clear()):c=b.buffer.consume(a,b.decoder),c)}function ae(a){let b=a._readableState;x("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,e.nextTick(af,b,a))}function af(a,b){if(x("endReadableNT",a.endEmitted,a.length),!a.errored&&!a.closeEmitted&&!a.endEmitted&&0===a.length){if(a.endEmitted=!0,b.emit("end"),b.writable&&!1===b.allowHalfOpen)e.nextTick(ag,b);else if(a.autoDestroy){let a=b._writableState;(!a||a.autoDestroy&&(a.finished||!1===a.writable))&&b.destroy()}}}function ag(a){!a.writable||a.writableEnded||a.destroyed||a.end()}function ah(){return void 0===d&&(d={}),d}j(Q.prototype,{objectMode:P(1),ended:P(2),endEmitted:P(4),reading:P(8),constructed:P(16),sync:P(32),needReadable:P(64),emittedReadable:P(128),readableListening:P(256),resumeScheduled:P(512),errorEmitted:P(1024),emitClose:P(2048),autoDestroy:P(4096),destroyed:P(8192),closed:P(16384),closeEmitted:P(32768),multiAwaitDrain:P(65536),readingMore:P(131072),dataEmitted:P(262144)}),R.prototype.destroy=z.destroy,R.prototype._undestroy=z.undestroy,R.prototype._destroy=function(a,b){b(a)},R.prototype[r.captureRejectionSymbol]=function(a){this.destroy(a)},R.prototype[o]=function(){let a;return this.destroyed||(a=this.readableEnded?null:new I,this.destroy(a)),new m((b,c)=>w(this,d=>d&&d!==a?c(d):b(null)))},R.prototype.push=function(a,b){return S(this,a,b,!1)},R.prototype.unshift=function(a,b){return S(this,a,b,!0)},R.prototype.isPaused=function(){let a=this._readableState;return!0===a[K]||!1===a.flowing},R.prototype.setEncoding=function(a){let b=new L(a);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;let c=this._readableState.buffer,d="";for(let a of c)d+=b.write(a);return c.clear(),""!==d&&c.push(d),this._readableState.length=d.length,this},R.prototype.read=function(a){let b;x("read",a),void 0===a?a=NaN:g(a)||(a=i(a,10));let c=this._readableState,d=a;if(a>c.highWaterMark&&(c.highWaterMark=function(a){if(a>0x40000000)throw new F("size","<= 1GiB",a);return a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,++a}(a)),0!==a&&(c.state&=-129),0===a&&c.needReadable&&((0!==c.highWaterMark?c.length>=c.highWaterMark:c.length>0)||c.ended))return x("read: emitReadable",c.length,c.ended),0===c.length&&c.ended?ae(this):V(this),null;if(0===(a=U(a,c))&&c.ended)return 0===c.length&&ae(this),null;let e=(64&c.state)!=0;if(x("need readable",e),(0===c.length||c.length-a<c.highWaterMark)&&x("length less than watermark",e=!0),c.ended||c.reading||c.destroyed||c.errored||!c.constructed)x("reading, ended or constructing",e=!1);else if(e){x("do read"),c.state|=40,0===c.length&&(c.state|=64);try{this._read(c.highWaterMark)}catch(a){O(this,a)}c.state&=-33,c.reading||(a=U(d,c))}return null===(b=a>0?ad(a,c):null)?(c.needReadable=c.length<=c.highWaterMark,a=0):(c.length-=a,c.multiAwaitDrain?c.awaitDrainWriters.clear():c.awaitDrainWriters=null),0===c.length&&(c.ended||(c.needReadable=!0),d!==a&&c.ended&&ae(this)),null===b||c.errorEmitted||c.closeEmitted||(c.dataEmitted=!0,this.emit("data",b)),b},R.prototype._read=function(a){throw new E("_read()")},R.prototype.pipe=function(a,b){let c,d=this,f=this._readableState;1!==f.pipes.length||f.multiAwaitDrain||(f.multiAwaitDrain=!0,f.awaitDrainWriters=new n(f.awaitDrainWriters?[f.awaitDrainWriters]:[])),f.pipes.push(a),x("pipe count=%d opts=%j",f.pipes.length,b);let g=b&&!1===b.end||a===e.stdout||a===e.stderr?p:h;function h(){x("onend"),a.end()}f.endEmitted?e.nextTick(g):d.once("end",g),a.on("unpipe",function b(e,g){x("onunpipe"),e===d&&g&&!1===g.hasUnpiped&&(g.hasUnpiped=!0,x("cleanup"),a.removeListener("close",m),a.removeListener("finish",o),c&&a.removeListener("drain",c),a.removeListener("error",l),a.removeListener("unpipe",b),d.removeListener("end",h),d.removeListener("end",p),d.removeListener("data",k),i=!0,c&&f.awaitDrainWriters&&(!a._writableState||a._writableState.needDrain)&&c())});let i=!1;function j(){var b,e;i||(1===f.pipes.length&&f.pipes[0]===a?(x("false write response, pause",0),f.awaitDrainWriters=a,f.multiAwaitDrain=!1):f.pipes.length>1&&f.pipes.includes(a)&&(x("false write response, pause",f.awaitDrainWriters.size),f.awaitDrainWriters.add(a)),d.pause()),c||(b=d,e=a,c=function(){let a=b._readableState;a.awaitDrainWriters===e?(x("pipeOnDrain",1),a.awaitDrainWriters=null):a.multiAwaitDrain&&(x("pipeOnDrain",a.awaitDrainWriters.size),a.awaitDrainWriters.delete(e)),(!a.awaitDrainWriters||0===a.awaitDrainWriters.size)&&b.listenerCount("data")&&b.resume()},a.on("drain",c))}function k(b){x("ondata");let c=a.write(b);x("dest.write",c),!1===c&&j()}function l(b){if(x("onerror",b),p(),a.removeListener("error",l),0===a.listenerCount("error")){let c=a._writableState||a._readableState;c&&!c.errorEmitted?O(a,b):a.emit("error",b)}}function m(){a.removeListener("finish",o),p()}function o(){x("onfinish"),a.removeListener("close",m),p()}function p(){x("unpipe"),d.unpipe(a)}return d.on("data",k),t(a,"error",l),a.once("close",m),a.once("finish",o),a.emit("pipe",d),!0===a.writableNeedDrain?j():f.flowing||(x("pipe resume"),d.resume()),a},R.prototype.unpipe=function(a){let b=this._readableState;if(0===b.pipes.length)return this;if(!a){let a=b.pipes;b.pipes=[],this.pause();for(let b=0;b<a.length;b++)a[b].emit("unpipe",this,{hasUnpiped:!1});return this}let c=f(b.pipes,a);return -1===c||(b.pipes.splice(c,1),0===b.pipes.length&&this.pause(),a.emit("unpipe",this,{hasUnpiped:!1})),this},R.prototype.on=function(a,b){let c=s.prototype.on.call(this,a,b),d=this._readableState;return"data"===a?(d.readableListening=this.listenerCount("readable")>0,!1!==d.flowing&&this.resume()):"readable"!==a||d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.flowing=!1,d.emittedReadable=!1,x("on readable",d.length,d.reading),d.length?V(this):d.reading||e.nextTick($,this)),c},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(a,b){let c=s.prototype.removeListener.call(this,a,b);return"readable"===a&&e.nextTick(Z,this),c},R.prototype.off=R.prototype.removeListener,R.prototype.removeAllListeners=function(a){let b=s.prototype.removeAllListeners.apply(this,arguments);return("readable"===a||void 0===a)&&e.nextTick(Z,this),b},R.prototype.resume=function(){var a,b;let c=this._readableState;return c.flowing||(x("resume"),c.flowing=!c.readableListening,a=this,(b=c).resumeScheduled||(b.resumeScheduled=!0,e.nextTick(_,a,b))),c[K]=!1,this},R.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[K]=!0,this},R.prototype.wrap=function(a){let b=!1;a.on("data",c=>{!this.push(c)&&a.pause&&(b=!0,a.pause())}),a.on("end",()=>{this.push(null)}),a.on("error",a=>{O(this,a)}),a.on("close",()=>{this.destroy()}),a.on("destroy",()=>{this.destroy()}),this._read=()=>{b&&a.resume&&(b=!1,a.resume())};let c=k(a);for(let b=1;b<c.length;b++){let d=c[b];void 0===this[d]&&"function"==typeof a[d]&&(this[d]=a[d].bind(a))}return this},R.prototype[p]=function(){return ab(this)},R.prototype.iterator=function(a){return void 0!==a&&J(a,"options"),ab(this,a)},j(R.prototype,{readable:{__proto__:null,get(){let a=this._readableState;return!!a&&!1!==a.readable&&!a.destroyed&&!a.errorEmitted&&!a.endEmitted},set(a){this._readableState&&(this._readableState.readable=!!a)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(a){this._readableState&&(this._readableState.flowing=a)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(a){this._readableState&&(this._readableState.destroyed=a)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),j(Q.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[K]},set(a){this[K]=!!a}}}),R._fromList=ad,R.from=function(a,b){return M(R,a,b)},R.fromWeb=function(a,b){return ah().newStreamReadableFromReadableStream(a,b)},R.toWeb=function(a,b){return ah().newReadableStreamFromStreamReadable(a,b)},R.wrap=function(a,b){var c,d;return new R({objectMode:null==(c=null!=(d=a.readableObjectMode)?d:a.objectMode)||c,...b,destroy(b,c){z.destroyer(a,b),c(b)}}).wrap(a)}},53510:a=>{"function"==typeof Object.create?a.exports=function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(a,b){if(b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}},54371:(a,b,c)=>{let d=c(47364),{EventEmitter:e}=c(94735),{Buffer:f}=c(79428);class g extends e{constructor(){super(),this._array=Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a,b=0,c=Array(this._array.length),d=this._array,e=0;for(a=0;a<d.length&&void 0!==d[a];a++)"string"!=typeof d[a]?c[a]=d[a].length:c[a]=f.byteLength(d[a]),b+=c[a];let g=f.allocUnsafe(b);for(a=0;a<d.length&&void 0!==d[a];a++)"string"!=typeof d[a]?d[a].copy(g,e):g.write(d[a],e),e+=c[a];return g}destroy(a){a&&this.emit("error",a)}}a.exports=function(a,b){let c=new g;return d(a,c,b),c.concat()}},55202:(a,b)=>{"use strict";function c(a){return a.replace(/(0+)/g,'<span class="zero">$1</span>')}function d(a){return a.replace(/^(0+)/,'<span class="zero">$1</span>')}Object.defineProperty(b,"__esModule",{value:!0}),b.spanAllZeroes=c,b.spanAll=function(a,b=0){return a.split("").map((a,d)=>`<span class="digit value-${a} position-${d+b}">${c(a)}</span>`).join("")},b.spanLeadingZeroes=function(a){return a.split(":").map(a=>d(a)).join(":")},b.simpleGroup=function(a,b=0){return a.split(":").map((a,c)=>/group-v4/.test(a)?a:`<span class="hover-group group-${c+b}">${d(a)}</span>`)}},55373:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LRUCache=void 0;let c="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,d=new Set,e="object"==typeof process&&process?process:{},f=(a,b,c,d)=>{"function"==typeof e.emitWarning?e.emitWarning(a,b,c,d):console.error(`[${c}] ${b}: ${a}`)},g=globalThis.AbortController,h=globalThis.AbortSignal;if(void 0===g){h=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(a,b){this._onabort.push(b)}},g=class{constructor(){b()}signal=new h;abort(a){if(!this.signal.aborted){for(let b of(this.signal.reason=a,this.signal.aborted=!0,this.signal._onabort))b(a);this.signal.onabort?.(a)}}};let a=e.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",b=()=>{a&&(a=!1,f("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",b))}}Symbol("type");let i=a=>a&&a===Math.floor(a)&&a>0&&isFinite(a),j=a=>i(a)?a<=256?Uint8Array:a<=65536?Uint16Array:a<=0x100000000?Uint32Array:a<=Number.MAX_SAFE_INTEGER?k:null:null;class k extends Array{constructor(a){super(a),this.fill(0)}}class l{heap;length;static #a=!1;static create(a){let b=j(a);if(!b)return[];l.#a=!0;let c=new l(a,b);return l.#a=!1,c}constructor(a,b){if(!l.#a)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new b(a),this.length=0}push(a){this.heap[this.length++]=a}pop(){return this.heap[--this.length]}}class m{#b;#c;#d;#e;#f;#g;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#h;#i;#j;#k;#l;#m;#n;#o;#p;#q;#r;#s;#t;#u;#v;#w;#x;static unsafeExposeInternals(a){return{starts:a.#t,ttls:a.#u,sizes:a.#s,keyMap:a.#j,keyList:a.#k,valList:a.#l,next:a.#m,prev:a.#n,get head(){return a.#o},get tail(){return a.#p},free:a.#q,isBackgroundFetch:b=>a.#y(b),backgroundFetch:(b,c,d,e)=>a.#z(b,c,d,e),moveToTail:b=>a.#A(b),indexes:b=>a.#B(b),rindexes:b=>a.#C(b),isStale:b=>a.#D(b)}}get max(){return this.#b}get maxSize(){return this.#c}get calculatedSize(){return this.#i}get size(){return this.#h}get fetchMethod(){return this.#f}get memoMethod(){return this.#g}get dispose(){return this.#d}get disposeAfter(){return this.#e}constructor(a){let{max:b=0,ttl:c,ttlResolution:e=1,ttlAutopurge:g,updateAgeOnGet:h,updateAgeOnHas:k,allowStale:n,dispose:o,disposeAfter:p,noDisposeOnSet:q,noUpdateTTL:r,maxSize:s=0,maxEntrySize:t=0,sizeCalculation:u,fetchMethod:v,memoMethod:w,noDeleteOnFetchRejection:x,noDeleteOnStaleGet:y,allowStaleOnFetchRejection:z,allowStaleOnFetchAbort:A,ignoreFetchAbort:B}=a;if(0!==b&&!i(b))throw TypeError("max option must be a nonnegative integer");let C=b?j(b):Array;if(!C)throw Error("invalid max value: "+b);if(this.#b=b,this.#c=s,this.maxEntrySize=t||this.#c,this.sizeCalculation=u,this.sizeCalculation){if(!this.#c&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==w&&"function"!=typeof w)throw TypeError("memoMethod must be a function if defined");if(this.#g=w,void 0!==v&&"function"!=typeof v)throw TypeError("fetchMethod must be a function if specified");if(this.#f=v,this.#w=!!v,this.#j=new Map,this.#k=Array(b).fill(void 0),this.#l=Array(b).fill(void 0),this.#m=new C(b),this.#n=new C(b),this.#o=0,this.#p=0,this.#q=l.create(b),this.#h=0,this.#i=0,"function"==typeof o&&(this.#d=o),"function"==typeof p?(this.#e=p,this.#r=[]):(this.#e=void 0,this.#r=void 0),this.#v=!!this.#d,this.#x=!!this.#e,this.noDisposeOnSet=!!q,this.noUpdateTTL=!!r,this.noDeleteOnFetchRejection=!!x,this.allowStaleOnFetchRejection=!!z,this.allowStaleOnFetchAbort=!!A,this.ignoreFetchAbort=!!B,0!==this.maxEntrySize){if(0!==this.#c&&!i(this.#c))throw TypeError("maxSize must be a positive integer if specified");if(!i(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#E()}if(this.allowStale=!!n,this.noDeleteOnStaleGet=!!y,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!k,this.ttlResolution=i(e)||0===e?e:1,this.ttlAutopurge=!!g,this.ttl=c||0,this.ttl){if(!i(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#F()}if(0===this.#b&&0===this.ttl&&0===this.#c)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#b&&!this.#c){let a="LRU_CACHE_UNBOUNDED";d.has(a)||(d.add(a),f("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",a,m))}}getRemainingTTL(a){return this.#j.has(a)?1/0:0}#F(){let a=new k(this.#b),b=new k(this.#b);this.#u=a,this.#t=b,this.#G=(d,e,f=c.now())=>{if(b[d]=0!==e?f:0,a[d]=e,0!==e&&this.ttlAutopurge){let a=setTimeout(()=>{this.#D(d)&&this.#H(this.#k[d],"expire")},e+1);a.unref&&a.unref()}},this.#I=d=>{b[d]=0!==a[d]?c.now():0},this.#J=(c,f)=>{if(a[f]){let g=a[f],h=b[f];if(!g||!h)return;c.ttl=g,c.start=h,c.now=d||e();let i=c.now-h;c.remainingTTL=g-i}};let d=0,e=()=>{let a=c.now();if(this.ttlResolution>0){d=a;let b=setTimeout(()=>d=0,this.ttlResolution);b.unref&&b.unref()}return a};this.getRemainingTTL=c=>{let f=this.#j.get(c);if(void 0===f)return 0;let g=a[f],h=b[f];return g&&h?g-((d||e())-h):1/0},this.#D=c=>{let f=b[c],g=a[c];return!!g&&!!f&&(d||e())-f>g}}#I=()=>{};#J=()=>{};#G=()=>{};#D=()=>!1;#E(){let a=new k(this.#b);this.#i=0,this.#s=a,this.#K=b=>{this.#i-=a[b],a[b]=0},this.#L=(a,b,c,d)=>{if(this.#y(b))return 0;if(!i(c))if(d){if("function"!=typeof d)throw TypeError("sizeCalculation must be a function");if(!i(c=d(b,a)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return c},this.#M=(b,c,d)=>{if(a[b]=c,this.#c){let c=this.#c-a[b];for(;this.#i>c;)this.#N(!0)}this.#i+=a[b],d&&(d.entrySize=c,d.totalCalculatedSize=this.#i)}}#K=a=>{};#M=(a,b,c)=>{};#L=(a,b,c,d)=>{if(c||d)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#B({allowStale:a=this.allowStale}={}){if(this.#h)for(let b=this.#p;this.#O(b)&&((a||!this.#D(b))&&(yield b),b!==this.#o);)b=this.#n[b]}*#C({allowStale:a=this.allowStale}={}){if(this.#h)for(let b=this.#o;this.#O(b)&&((a||!this.#D(b))&&(yield b),b!==this.#p);)b=this.#m[b]}#O(a){return void 0!==a&&this.#j.get(this.#k[a])===a}*entries(){for(let a of this.#B())void 0===this.#l[a]||void 0===this.#k[a]||this.#y(this.#l[a])||(yield[this.#k[a],this.#l[a]])}*rentries(){for(let a of this.#C())void 0===this.#l[a]||void 0===this.#k[a]||this.#y(this.#l[a])||(yield[this.#k[a],this.#l[a]])}*keys(){for(let a of this.#B()){let b=this.#k[a];void 0===b||this.#y(this.#l[a])||(yield b)}}*rkeys(){for(let a of this.#C()){let b=this.#k[a];void 0===b||this.#y(this.#l[a])||(yield b)}}*values(){for(let a of this.#B())void 0===this.#l[a]||this.#y(this.#l[a])||(yield this.#l[a])}*rvalues(){for(let a of this.#C())void 0===this.#l[a]||this.#y(this.#l[a])||(yield this.#l[a])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(a,b={}){for(let c of this.#B()){let d=this.#l[c],e=this.#y(d)?d.__staleWhileFetching:d;if(void 0!==e&&a(e,this.#k[c],this))return this.get(this.#k[c],b)}}forEach(a,b=this){for(let c of this.#B()){let d=this.#l[c],e=this.#y(d)?d.__staleWhileFetching:d;void 0!==e&&a.call(b,e,this.#k[c],this)}}rforEach(a,b=this){for(let c of this.#C()){let d=this.#l[c],e=this.#y(d)?d.__staleWhileFetching:d;void 0!==e&&a.call(b,e,this.#k[c],this)}}purgeStale(){let a=!1;for(let b of this.#C({allowStale:!0}))this.#D(b)&&(this.#H(this.#k[b],"expire"),a=!0);return a}info(a){let b=this.#j.get(a);if(void 0===b)return;let d=this.#l[b],e=this.#y(d)?d.__staleWhileFetching:d;if(void 0===e)return;let f={value:e};if(this.#u&&this.#t){let a=this.#u[b],d=this.#t[b];a&&d&&(f.ttl=a-(c.now()-d),f.start=Date.now())}return this.#s&&(f.size=this.#s[b]),f}dump(){let a=[];for(let b of this.#B({allowStale:!0})){let d=this.#k[b],e=this.#l[b],f=this.#y(e)?e.__staleWhileFetching:e;if(void 0===f||void 0===d)continue;let g={value:f};if(this.#u&&this.#t){g.ttl=this.#u[b];let a=c.now()-this.#t[b];g.start=Math.floor(Date.now()-a)}this.#s&&(g.size=this.#s[b]),a.unshift([d,g])}return a}load(a){for(let[b,d]of(this.clear(),a)){if(d.start){let a=Date.now()-d.start;d.start=c.now()-a}this.set(b,d.value,d)}}set(a,b,c={}){if(void 0===b)return this.delete(a),this;let{ttl:d=this.ttl,start:e,noDisposeOnSet:f=this.noDisposeOnSet,sizeCalculation:g=this.sizeCalculation,status:h}=c,{noUpdateTTL:i=this.noUpdateTTL}=c,j=this.#L(a,b,c.size||0,g);if(this.maxEntrySize&&j>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),this.#H(a,"set"),this;let k=0===this.#h?void 0:this.#j.get(a);if(void 0===k)k=0===this.#h?this.#p:0!==this.#q.length?this.#q.pop():this.#h===this.#b?this.#N(!1):this.#h,this.#k[k]=a,this.#l[k]=b,this.#j.set(a,k),this.#m[this.#p]=k,this.#n[k]=this.#p,this.#p=k,this.#h++,this.#M(k,j,h),h&&(h.set="add"),i=!1;else{this.#A(k);let c=this.#l[k];if(b!==c){if(this.#w&&this.#y(c)){c.__abortController.abort(Error("replaced"));let{__staleWhileFetching:b}=c;void 0!==b&&!f&&(this.#v&&this.#d?.(b,a,"set"),this.#x&&this.#r?.push([b,a,"set"]))}else!f&&(this.#v&&this.#d?.(c,a,"set"),this.#x&&this.#r?.push([c,a,"set"]));if(this.#K(k),this.#M(k,j,h),this.#l[k]=b,h){h.set="replace";let a=c&&this.#y(c)?c.__staleWhileFetching:c;void 0!==a&&(h.oldValue=a)}}else h&&(h.set="update")}if(0===d||this.#u||this.#F(),this.#u&&(i||this.#G(k,d,e),h&&this.#J(h,k)),!f&&this.#x&&this.#r){let a,b=this.#r;for(;a=b?.shift();)this.#e?.(...a)}return this}pop(){try{for(;this.#h;){let a=this.#l[this.#o];if(this.#N(!0),this.#y(a)){if(a.__staleWhileFetching)return a.__staleWhileFetching}else if(void 0!==a)return a}}finally{if(this.#x&&this.#r){let a,b=this.#r;for(;a=b?.shift();)this.#e?.(...a)}}}#N(a){let b=this.#o,c=this.#k[b],d=this.#l[b];return this.#w&&this.#y(d)?d.__abortController.abort(Error("evicted")):(this.#v||this.#x)&&(this.#v&&this.#d?.(d,c,"evict"),this.#x&&this.#r?.push([d,c,"evict"])),this.#K(b),a&&(this.#k[b]=void 0,this.#l[b]=void 0,this.#q.push(b)),1===this.#h?(this.#o=this.#p=0,this.#q.length=0):this.#o=this.#m[b],this.#j.delete(c),this.#h--,b}has(a,b={}){let{updateAgeOnHas:c=this.updateAgeOnHas,status:d}=b,e=this.#j.get(a);if(void 0!==e){let a=this.#l[e];if(this.#y(a)&&void 0===a.__staleWhileFetching)return!1;if(!this.#D(e))return c&&this.#I(e),d&&(d.has="hit",this.#J(d,e)),!0;d&&(d.has="stale",this.#J(d,e))}else d&&(d.has="miss");return!1}peek(a,b={}){let{allowStale:c=this.allowStale}=b,d=this.#j.get(a);if(void 0===d||!c&&this.#D(d))return;let e=this.#l[d];return this.#y(e)?e.__staleWhileFetching:e}#z(a,b,c,d){let e=void 0===b?void 0:this.#l[b];if(this.#y(e))return e;let f=new g,{signal:h}=c;h?.addEventListener("abort",()=>f.abort(h.reason),{signal:f.signal});let i={signal:f.signal,options:c,context:d},j=(d,e=!1)=>{let{aborted:g}=f.signal,h=c.ignoreFetchAbort&&void 0!==d;return(c.status&&(g&&!e?(c.status.fetchAborted=!0,c.status.fetchError=f.signal.reason,h&&(c.status.fetchAbortIgnored=!0)):c.status.fetchResolved=!0),!g||h||e)?(this.#l[b]===m&&(void 0===d?m.__staleWhileFetching?this.#l[b]=m.__staleWhileFetching:this.#H(a,"fetch"):(c.status&&(c.status.fetchUpdated=!0),this.set(a,d,i.options))),d):k(f.signal.reason)},k=d=>{let{aborted:e}=f.signal,g=e&&c.allowStaleOnFetchAbort,h=g||c.allowStaleOnFetchRejection,i=h||c.noDeleteOnFetchRejection;if(this.#l[b]===m&&(i&&void 0!==m.__staleWhileFetching?g||(this.#l[b]=m.__staleWhileFetching):this.#H(a,"fetch")),h)return c.status&&void 0!==m.__staleWhileFetching&&(c.status.returnedStale=!0),m.__staleWhileFetching;if(m.__returned===m)throw d},l=(b,d)=>{let g=this.#f?.(a,e,i);g&&g instanceof Promise&&g.then(a=>b(void 0===a?void 0:a),d),f.signal.addEventListener("abort",()=>{(!c.ignoreFetchAbort||c.allowStaleOnFetchAbort)&&(b(void 0),c.allowStaleOnFetchAbort&&(b=a=>j(a,!0)))})};c.status&&(c.status.fetchDispatched=!0);let m=new Promise(l).then(j,a=>(c.status&&(c.status.fetchRejected=!0,c.status.fetchError=a),k(a))),n=Object.assign(m,{__abortController:f,__staleWhileFetching:e,__returned:void 0});return void 0===b?(this.set(a,n,{...i.options,status:void 0}),b=this.#j.get(a)):this.#l[b]=n,n}#y(a){return!!this.#w&&!!a&&a instanceof Promise&&a.hasOwnProperty("__staleWhileFetching")&&a.__abortController instanceof g}async fetch(a,b={}){let{allowStale:c=this.allowStale,updateAgeOnGet:d=this.updateAgeOnGet,noDeleteOnStaleGet:e=this.noDeleteOnStaleGet,ttl:f=this.ttl,noDisposeOnSet:g=this.noDisposeOnSet,size:h=0,sizeCalculation:i=this.sizeCalculation,noUpdateTTL:j=this.noUpdateTTL,noDeleteOnFetchRejection:k=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:l=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:n=this.allowStaleOnFetchAbort,context:o,forceRefresh:p=!1,status:q,signal:r}=b;if(!this.#w)return q&&(q.fetch="get"),this.get(a,{allowStale:c,updateAgeOnGet:d,noDeleteOnStaleGet:e,status:q});let s={allowStale:c,updateAgeOnGet:d,noDeleteOnStaleGet:e,ttl:f,noDisposeOnSet:g,size:h,sizeCalculation:i,noUpdateTTL:j,noDeleteOnFetchRejection:k,allowStaleOnFetchRejection:l,allowStaleOnFetchAbort:n,ignoreFetchAbort:m,status:q,signal:r},t=this.#j.get(a);if(void 0===t){q&&(q.fetch="miss");let b=this.#z(a,t,s,o);return b.__returned=b}{let b=this.#l[t];if(this.#y(b)){let a=c&&void 0!==b.__staleWhileFetching;return q&&(q.fetch="inflight",a&&(q.returnedStale=!0)),a?b.__staleWhileFetching:b.__returned=b}let e=this.#D(t);if(!p&&!e)return q&&(q.fetch="hit"),this.#A(t),d&&this.#I(t),q&&this.#J(q,t),b;let f=this.#z(a,t,s,o),g=void 0!==f.__staleWhileFetching&&c;return q&&(q.fetch=e?"stale":"refresh",g&&e&&(q.returnedStale=!0)),g?f.__staleWhileFetching:f.__returned=f}}async forceFetch(a,b={}){let c=await this.fetch(a,b);if(void 0===c)throw Error("fetch() returned undefined");return c}memo(a,b={}){let c=this.#g;if(!c)throw Error("no memoMethod provided to constructor");let{context:d,forceRefresh:e,...f}=b,g=this.get(a,f);if(!e&&void 0!==g)return g;let h=c(a,g,{options:f,context:d});return this.set(a,h,f),h}get(a,b={}){let{allowStale:c=this.allowStale,updateAgeOnGet:d=this.updateAgeOnGet,noDeleteOnStaleGet:e=this.noDeleteOnStaleGet,status:f}=b,g=this.#j.get(a);if(void 0!==g){let b=this.#l[g],h=this.#y(b);return(f&&this.#J(f,g),this.#D(g))?(f&&(f.get="stale"),h)?(f&&c&&void 0!==b.__staleWhileFetching&&(f.returnedStale=!0),c?b.__staleWhileFetching:void 0):(e||this.#H(a,"expire"),f&&c&&(f.returnedStale=!0),c?b:void 0):(f&&(f.get="hit"),h)?b.__staleWhileFetching:(this.#A(g),d&&this.#I(g),b)}f&&(f.get="miss")}#P(a,b){this.#n[b]=a,this.#m[a]=b}#A(a){a!==this.#p&&(a===this.#o?this.#o=this.#m[a]:this.#P(this.#n[a],this.#m[a]),this.#P(this.#p,a),this.#p=a)}delete(a){return this.#H(a,"delete")}#H(a,b){let c=!1;if(0!==this.#h){let d=this.#j.get(a);if(void 0!==d)if(c=!0,1===this.#h)this.#Q(b);else{this.#K(d);let c=this.#l[d];if(this.#y(c)?c.__abortController.abort(Error("deleted")):(this.#v||this.#x)&&(this.#v&&this.#d?.(c,a,b),this.#x&&this.#r?.push([c,a,b])),this.#j.delete(a),this.#k[d]=void 0,this.#l[d]=void 0,d===this.#p)this.#p=this.#n[d];else if(d===this.#o)this.#o=this.#m[d];else{let a=this.#n[d];this.#m[a]=this.#m[d];let b=this.#m[d];this.#n[b]=this.#n[d]}this.#h--,this.#q.push(d)}}if(this.#x&&this.#r?.length){let a,b=this.#r;for(;a=b?.shift();)this.#e?.(...a)}return c}clear(){return this.#Q("delete")}#Q(a){for(let b of this.#C({allowStale:!0})){let c=this.#l[b];if(this.#y(c))c.__abortController.abort(Error("deleted"));else{let d=this.#k[b];this.#v&&this.#d?.(c,d,a),this.#x&&this.#r?.push([c,d,a])}}if(this.#j.clear(),this.#l.fill(void 0),this.#k.fill(void 0),this.#u&&this.#t&&(this.#u.fill(0),this.#t.fill(0)),this.#s&&this.#s.fill(0),this.#o=0,this.#p=0,this.#q.length=0,this.#i=0,this.#h=0,this.#x&&this.#r){let a,b=this.#r;for(;a=b?.shift();)this.#e?.(...a)}}}b.LRUCache=m},55389:()=>{},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},56100:a=>{"use strict";a.exports=(a,b=process.argv)=>{let c=a.startsWith("-")?"":1===a.length?"-":"--",d=b.indexOf(c+a),e=b.indexOf("--");return -1!==d&&(-1===e||d<e)}},56184:function(a,b,c){"use strict";var d,e=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),f=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),g=this&&this.__importStar||(d=function(a){return(d=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[b.length]=c);return b})(a)},function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c=d(a),g=0;g<c.length;g++)"default"!==c[g]&&e(b,a,c[g]);return f(b,a),b}),h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b,c,d){o("SOCKS connection to %s:%d via %s",a,b,c);let e=new p;return r(a,b,c,e,d).catch(a=>{o("SOCKS failed: %s",a),e.destroy(a)}),e};let i=h(c(9841)),j=c(27910),k=c(69),l=g(c(14985)),m=c(28354),n=h(c(12412)),o=(0,i.default)("mqttjs:socks");class p extends j.Duplex{_flowing=!1;_socket;constructor(){super({autoDestroy:!1}),this.cork()}_start(a){if(o("proxy stream started"),(0,n.default)(!this._socket),this.destroyed)return void a.destroy(this.errored);this._socket=a,this._flowing||a.pause(),a.on("data",this._onData),a.on("end",this._onEnd),a.on("error",this._onError),a.on("close",this._onClose),a.emit("connect"),this.uncork()}_write(a,b,c){(0,n.default)(this._socket),this._socket.write(a,c)}_read(a){this._flowing=!0,this._socket?.resume?.()}_destroy(a,b){this._socket?.destroy?.(a),b(a)}_onData=a=>{(0,n.default)(this._socket),this._flowing=this.push(a),this._flowing||this._socket.pause()};_onEnd=()=>{o("proxy stream received EOF"),this.push(null)};_onClose=()=>{o("proxy stream closed"),this.destroy()};_onError=a=>{o("proxy stream died with error %s",a),this.destroy(a)}}function q(a){try{return void 0===a.code&&(a.code="SOCKS"),a}catch{return a}}async function r(a,b,c,d,e={}){let f=e.lookup??(0,m.promisify)(l.lookup),[g,h]=function(a){let b=new URL(a);if(b.pathname||b.hash||b.search)throw q(Error("bad SOCKS URL"));let[c,d]=function(a){switch(a){case"socks5h:":return[5,!0];case"socks4a:":return[4,!0];case"socks5:":return[5,!1];case"socks4:":return[4,!1];default:return[void 0,!1]}}(b.protocol);if(!c)throw q(Error("bad SOCKS URL: invalid protocol"));let e=parseInt(b.port,10);if(Number.isNaN(e))throw q(Error("bad SOCKS URL: invalid port"));return[{host:b.hostname,port:e,type:c},d]}(c);h||(o("resolving %s locally",a),a=(await f(a,{family:4*(4===g.type)})).address),o("establishing SOCKS%d connection to %s:%d via %s:%d",g.type,a,b,g.host,g.port);let i=new k.SocksClient({command:"connect",destination:{host:a,port:b},proxy:{...g},timeout:e.timeout});i.connect(),i.on("established",({socket:a})=>d._start(a)),i.on("error",a=>{o("SOCKS failed: %s",a),d.destroy(q(a))})}},57016:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RE_SUBNET_STRING=b.RE_ADDRESS=b.GROUPS=b.BITS=void 0,b.BITS=32,b.GROUPS=4,b.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,b.RE_SUBNET_STRING=/\/\d{1,2}$/},58378:(a,b,c)=>{"use strict";let{pipeline:d}=c(43042),e=c(75750),{destroyer:f}=c(15016),{isNodeStream:g,isReadable:h,isWritable:i,isWebStream:j,isTransformStream:k,isWritableStream:l,isReadableStream:m}=c(98007),{AbortError:n,codes:{ERR_INVALID_ARG_VALUE:o,ERR_MISSING_ARGS:p}}=c(30775),q=c(78050);a.exports=function(...a){let b,c,r,s,t;if(0===a.length)throw new p("streams");if(1===a.length)return e.from(a[0]);let u=[...a];if("function"==typeof a[0]&&(a[0]=e.from(a[0])),"function"==typeof a[a.length-1]){let b=a.length-1;a[b]=e.from(a[b])}for(let b=0;b<a.length;++b)if(g(a[b])||j(a[b])){if(b<a.length-1&&!(h(a[b])||m(a[b])||k(a[b])))throw new o(`streams[${b}]`,u[b],"must be readable");if(b>0&&!(i(a[b])||l(a[b])||k(a[b])))throw new o(`streams[${b}]`,u[b],"must be writable")}let v=a[0],w=d(a,function(a){let b=s;s=null,b?b(a):a?t.destroy(a):y||x||t.destroy()}),x=!!(i(v)||l(v)||k(v)),y=!!(h(w)||m(w)||k(w));if(t=new e({writableObjectMode:!!(null!=v&&v.writableObjectMode),readableObjectMode:!!(null!=w&&w.readableObjectMode),writable:x,readable:y}),x){if(g(v))t._write=function(a,c,d){v.write(a,c)?d():b=d},t._final=function(a){v.end(),c=a},v.on("drain",function(){if(b){let a=b;b=null,a()}});else if(j(v)){let a=(k(v)?v.writable:v).getWriter();t._write=async function(b,c,d){try{await a.ready,a.write(b).catch(()=>{}),d()}catch(a){d(a)}},t._final=async function(b){try{await a.ready,a.close().catch(()=>{}),c=b}catch(a){b(a)}}}q(k(w)?w.readable:w,()=>{if(c){let a=c;c=null,a()}})}if(y){if(g(w))w.on("readable",function(){if(r){let a=r;r=null,a()}}),w.on("end",function(){t.push(null)}),t._read=function(){for(;;){let a=w.read();if(null===a){r=t._read;return}if(!t.push(a))return}};else if(j(w)){let a=(k(w)?w.readable:w).getReader();t._read=async function(){for(;;)try{let{value:b,done:c}=await a.read();if(!t.push(b))return;if(c)return void t.push(null)}catch{return}}}}return t._destroy=function(a,d){a||null===s||(a=new n),r=null,b=null,c=null,null===s?d(a):(s=d,g(w)&&f(w,a))},t}},58986:(a,b,c)=>{"use strict";let{tokenChars:d}=c(86200);function e(a,b,c){void 0===a[b]?a[b]=[c]:a[b].push(c)}a.exports={format:function(a){return Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>[b].concat(Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>!0===a?b:`${b}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(a){let b,c,f=Object.create(null),g=Object.create(null),h=!1,i=!1,j=!1,k=-1,l=-1,m=-1,n=0;for(;n<a.length;n++)if(l=a.charCodeAt(n),void 0===b)if(-1===m&&1===d[l])-1===k&&(k=n);else if(0!==n&&(32===l||9===l))-1===m&&-1!==k&&(m=n);else if(59===l||44===l){if(-1===k)throw SyntaxError(`Unexpected character at index ${n}`);-1===m&&(m=n);let c=a.slice(k,m);44===l?(e(f,c,g),g=Object.create(null)):b=c,k=m=-1}else throw SyntaxError(`Unexpected character at index ${n}`);else if(void 0===c)if(-1===m&&1===d[l])-1===k&&(k=n);else if(32===l||9===l)-1===m&&-1!==k&&(m=n);else if(59===l||44===l){if(-1===k)throw SyntaxError(`Unexpected character at index ${n}`);-1===m&&(m=n),e(g,a.slice(k,m),!0),44===l&&(e(f,b,g),g=Object.create(null),b=void 0),k=m=-1}else if(61===l&&-1!==k&&-1===m)c=a.slice(k,n),k=m=-1;else throw SyntaxError(`Unexpected character at index ${n}`);else if(i){if(1!==d[l])throw SyntaxError(`Unexpected character at index ${n}`);-1===k?k=n:h||(h=!0),i=!1}else if(j)if(1===d[l])-1===k&&(k=n);else if(34===l&&-1!==k)j=!1,m=n;else if(92===l)i=!0;else throw SyntaxError(`Unexpected character at index ${n}`);else if(34===l&&61===a.charCodeAt(n-1))j=!0;else if(-1===m&&1===d[l])-1===k&&(k=n);else if(-1!==k&&(32===l||9===l))-1===m&&(m=n);else if(59===l||44===l){if(-1===k)throw SyntaxError(`Unexpected character at index ${n}`);-1===m&&(m=n);let d=a.slice(k,m);h&&(d=d.replace(/\\/g,""),h=!1),e(g,c,d),44===l&&(e(f,b,g),g=Object.create(null),b=void 0),c=void 0,k=m=-1}else throw SyntaxError(`Unexpected character at index ${n}`);if(-1===k||j||32===l||9===l)throw SyntaxError("Unexpected end of input");-1===m&&(m=n);let o=a.slice(k,m);return void 0===b?e(f,o,g):(void 0===c?e(g,o,!0):h?e(g,c,o.replace(/\\/g,"")):e(g,c,o),e(f,b,g)),f}}},59226:(a,b,c)=>{"use strict";let d,e,f,g=c(79428),h=c(65522),i=c(18607);b.A=(a,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw Error("Could not determine host. Specify host manually.");let c="MQIsdp"===b.protocolId&&3===b.protocolVersion?"mqttv3.1":"mqtt";!function(a){a.hostname||(a.hostname="localhost"),a.path||(a.path="/"),a.wsOptions||(a.wsOptions={})}(b);let j=function(a,b){let c="wxs"===a.protocol?"wss":"ws",d=`${c}://${a.hostname}${a.path}`;return a.port&&80!==a.port&&443!==a.port&&(d=`${c}://${a.hostname}:${a.port}${a.path}`),"function"==typeof a.transformWsUrl&&(d=a.transformWsUrl(d,a,b)),d}(b,a);d=wx.connectSocket({url:j,protocols:[c]}),e=function(){let a=new h.Transform;return a._write=(a,b,c)=>{d.send({data:a.buffer,success(){c()},fail(a){c(Error(a))}})},a._flush=a=>{d.close({success(){a()}})},a}(),(f=new i.BufferedDuplex(b,e,d))._destroy=(a,b)=>{d.close({success(){b&&b(a)}})};let k=f.destroy;return f.destroy=(a,b)=>(f.destroy=k,setTimeout(()=>{d.close({fail(){f._destroy(a,b)}})},0),f),d.onOpen(()=>{f.socketReady()}),d.onMessage(a=>{let{data:b}=a;b=b instanceof ArrayBuffer?g.Buffer.from(b):g.Buffer.from(b,"utf8"),e.push(b)}),d.onClose(()=>{f.emit("close"),f.end(),f.destroy()}),d.onError(a=>{let b=Error(a.errMsg);f.destroy(b)}),f}},59843:(a,b,c)=>{let d=a.exports,{Buffer:e}=c(79428);for(let a in d.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},d.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},d.requiredHeaderFlagsErrors={},d.requiredHeaderFlags){let b=d.requiredHeaderFlags[a];d.requiredHeaderFlagsErrors[a]="Invalid header flag bits, must be 0x"+b.toString(16)+" for "+d.types[a]+" packet"}for(let a in d.codes={},d.types){let b=d.types[a];d.codes[b]=a}for(let a in d.CMD_SHIFT=4,d.CMD_MASK=240,d.DUP_MASK=8,d.QOS_MASK=3,d.QOS_SHIFT=1,d.RETAIN_MASK=1,d.VARBYTEINT_MASK=127,d.VARBYTEINT_FIN_MASK=128,d.VARBYTEINT_MAX=0xfffffff,d.SESSIONPRESENT_MASK=1,d.SESSIONPRESENT_HEADER=e.from([d.SESSIONPRESENT_MASK]),d.CONNACK_HEADER=e.from([d.codes.connack<<d.CMD_SHIFT]),d.USERNAME_MASK=128,d.PASSWORD_MASK=64,d.WILL_RETAIN_MASK=32,d.WILL_QOS_MASK=24,d.WILL_QOS_SHIFT=3,d.WILL_FLAG_MASK=4,d.CLEAN_SESSION_MASK=2,d.CONNECT_HEADER=e.from([d.codes.connect<<d.CMD_SHIFT]),d.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},d.propertiesCodes={},d.properties){let b=d.properties[a];d.propertiesCodes[b]=a}function f(a){return[0,1,2].map(b=>[0,1].map(c=>[0,1].map(f=>{let g=e.alloc(1);return g.writeUInt8(d.codes[a]<<d.CMD_SHIFT|(c?d.DUP_MASK:0)|b<<d.QOS_SHIFT|f,0,!0),g})))}d.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},d.PUBLISH_HEADER=f("publish"),d.SUBSCRIBE_HEADER=f("subscribe"),d.SUBSCRIBE_OPTIONS_QOS_MASK=3,d.SUBSCRIBE_OPTIONS_NL_MASK=1,d.SUBSCRIBE_OPTIONS_NL_SHIFT=2,d.SUBSCRIBE_OPTIONS_RAP_MASK=1,d.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,d.SUBSCRIBE_OPTIONS_RH_MASK=3,d.SUBSCRIBE_OPTIONS_RH_SHIFT=4,d.SUBSCRIBE_OPTIONS_RH=[0,16,32],d.SUBSCRIBE_OPTIONS_NL=4,d.SUBSCRIBE_OPTIONS_RAP=8,d.SUBSCRIBE_OPTIONS_QOS=[0,1,2],d.UNSUBSCRIBE_HEADER=f("unsubscribe"),d.ACKS={unsuback:f("unsuback"),puback:f("puback"),pubcomp:f("pubcomp"),pubrel:f("pubrel"),pubrec:f("pubrec")},d.SUBACK_HEADER=e.from([d.codes.suback<<d.CMD_SHIFT]),d.VERSION3=e.from([3]),d.VERSION4=e.from([4]),d.VERSION5=e.from([5]),d.VERSION131=e.from([131]),d.VERSION132=e.from([132]),d.QOS=[0,1,2].map(a=>e.from([a])),d.EMPTY={pingreq:e.from([d.codes.pingreq<<4,0]),pingresp:e.from([d.codes.pingresp<<4,0]),disconnect:e.from([d.codes.disconnect<<4,0])},d.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},d.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},d.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},d.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},d.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},d.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}},61075:a=>{"use strict";let b=Symbol("kDone"),c=Symbol("kRun");class d{constructor(a){this[b]=()=>{this.pending--,this[c]()},this.concurrency=a||1/0,this.jobs=[],this.pending=0}add(a){this.jobs.push(a),this[c]()}[c](){if(this.pending!==this.concurrency&&this.jobs.length){let a=this.jobs.shift();this.pending++,a(this[b])}}}a.exports=d},62253:(a,b,c)=>{var d=c(79428),e=d.Buffer;function f(a,b){for(var c in a)b[c]=a[c]}function g(a,b,c){return e(a,b,c)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?a.exports=d:(f(d,b),b.Buffer=g),g.prototype=Object.create(e.prototype),f(e,g),g.from=function(a,b,c){if("number"==typeof a)throw TypeError("Argument must not be a number");return e(a,b,c)},g.alloc=function(a,b,c){if("number"!=typeof a)throw TypeError("Argument must be a number");var d=e(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},g.allocUnsafe=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return e(a)},g.allocUnsafeSlow=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return d.SlowBuffer(a)}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63674:a=>{"use strict";let b=["nodebuffer","arraybuffer","fragments"],c="undefined"!=typeof Blob;c&&b.push("blob"),a.exports={BINARY_TYPES:b,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:c,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},65329:(a,b,c)=>{"use strict";let{StringPrototypeSlice:d,SymbolIterator:e,TypedArrayPrototypeSet:f,Uint8Array:g}=c(72602),{Buffer:h}=c(79428),{inspect:i}=c(37408);a.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){let b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}unshift(a){let b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length}shift(){if(0===this.length)return;let a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(0===this.length)return"";let b=this.head,c=""+b.data;for(;null!==(b=b.next);)c+=a+b.data;return c}concat(a){if(0===this.length)return h.alloc(0);let b=h.allocUnsafe(a>>>0),c=this.head,d=0;for(;c;)f(b,c.data,d),d+=c.data.length,c=c.next;return b}consume(a,b){let c=this.head.data;if(a<c.length){let b=c.slice(0,a);return this.head.data=c.slice(a),b}return a===c.length?this.shift():b?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[e](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let b="",c=this.head,e=0;do{let f=c.data;if(a>f.length)b+=f,a-=f.length;else{a===f.length?(b+=f,++e,c.next?this.head=c.next:this.head=this.tail=null):(b+=d(f,0,a),this.head=c,c.data=d(f,a));break}++e}while(null!==(c=c.next));return this.length-=e,b}_getBuffer(a){let b=h.allocUnsafe(a),c=a,d=this.head,e=0;do{let h=d.data;if(a>h.length)f(b,h,c-a),a-=h.length;else{a===h.length?(f(b,h,c-a),++e,d.next?this.head=d.next:this.head=this.tail=null):(f(b,new g(h.buffer,h.byteOffset,a),c-a),this.head=d,d.data=h.slice(a));break}++e}while(null!==(d=d.next));return this.length-=e,b}[Symbol.for("nodejs.util.inspect.custom")](a,b){return i(this,{...b,depth:0,customInspect:!1})}}},65522:(a,b,c)=>{"use strict";let d=c(27910);if(d&&"disable"===process.env.READABLE_STREAM){let b=d.promises;a.exports._uint8ArrayToBuffer=d._uint8ArrayToBuffer,a.exports._isUint8Array=d._isUint8Array,a.exports.isDisturbed=d.isDisturbed,a.exports.isErrored=d.isErrored,a.exports.isReadable=d.isReadable,a.exports.Readable=d.Readable,a.exports.Writable=d.Writable,a.exports.Duplex=d.Duplex,a.exports.Transform=d.Transform,a.exports.PassThrough=d.PassThrough,a.exports.addAbortSignal=d.addAbortSignal,a.exports.finished=d.finished,a.exports.destroy=d.destroy,a.exports.pipeline=d.pipeline,a.exports.compose=d.compose,Object.defineProperty(d,"promises",{configurable:!0,enumerable:!0,get:()=>b}),a.exports.Stream=d.Stream}else{let b=c(46046),d=c(29203),e=b.Readable.destroy;a.exports=b.Readable,a.exports._uint8ArrayToBuffer=b._uint8ArrayToBuffer,a.exports._isUint8Array=b._isUint8Array,a.exports.isDisturbed=b.isDisturbed,a.exports.isErrored=b.isErrored,a.exports.isReadable=b.isReadable,a.exports.Readable=b.Readable,a.exports.Writable=b.Writable,a.exports.Duplex=b.Duplex,a.exports.Transform=b.Transform,a.exports.PassThrough=b.PassThrough,a.exports.addAbortSignal=b.addAbortSignal,a.exports.finished=b.finished,a.exports.destroy=b.destroy,a.exports.destroy=e,a.exports.pipeline=b.pipeline,a.exports.compose=b.compose,Object.defineProperty(b,"promises",{configurable:!0,enumerable:!0,get:()=>d}),a.exports.Stream=b.Stream}a.exports.default=a.exports},68135:(a,b,c)=>{"use strict";let d=c(77740);d.createWebSocketStream=c(7363),d.Server=c(35366),d.Receiver=c(26802),d.Sender=c(92910),d.WebSocket=d,d.WebSocketServer=d.Server,a.exports=d},68541:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(79428),e={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};function f(a){var b;return"number"==typeof a&&isFinite(a)&&"number"==typeof(b=a)&&isFinite(b)&&Math.floor(b)===b}function g(a,b){if("number"==typeof a){if(!f(a)||a<0)throw Error(b?e.INVALID_OFFSET:e.INVALID_LENGTH)}else throw Error(b?e.INVALID_OFFSET_NON_NUMBER:e.INVALID_LENGTH_NON_NUMBER)}b.ERRORS=e,b.checkEncoding=function(a){if(!d.Buffer.isEncoding(a))throw Error(e.INVALID_ENCODING)},b.isFiniteInteger=f,b.checkLengthValue=function(a){g(a,!1)},b.checkOffsetValue=function(a){g(a,!0)},b.checkTargetOffset=function(a,b){if(a<0||a>b.length)throw Error(e.INVALID_TARGET_OFFSET)},b.bigIntAndBufferInt64Check=function(a){if("undefined"==typeof BigInt)throw Error("Platform does not support JS BigInt type.");if(void 0===d.Buffer.prototype[a])throw Error(`Platform does not support Buffer.prototype.${a}.`)}},69546:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,17742)),"P:\\BrightSign\\BrightSign Dev\\bs-nextjs-react-starter\\app\\page.tsx"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"P:\\BrightSign\\BrightSign Dev\\bs-nextjs-react-starter\\app\\layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,I=["P:\\BrightSign\\BrightSign Dev\\bs-nextjs-react-starter\\app\\page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},69709:(a,b,c)=>{"use strict";a.exports=c(18540)()},70102:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ipToBuffer=b.int32ToIpv4=b.ipv4ToInt32=b.validateSocksClientChainOptions=b.validateSocksClientOptions=void 0;let d=c(6023),e=c(12674),f=c(27910),g=c(2320),h=c(91645);function i(a,b){if(void 0!==a.custom_auth_method){if(a.custom_auth_method<e.SOCKS5_CUSTOM_AUTH_START||a.custom_auth_method>e.SOCKS5_CUSTOM_AUTH_END)throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsCustomAuthRange,b);if(void 0===a.custom_auth_request_handler||"function"!=typeof a.custom_auth_request_handler||void 0===a.custom_auth_response_size||void 0===a.custom_auth_response_handler||"function"!=typeof a.custom_auth_response_handler)throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,b)}}function j(a){return a&&"string"==typeof a.host&&256>Buffer.byteLength(a.host)&&"number"==typeof a.port&&a.port>=0&&a.port<=65535}function k(a){return a&&("string"==typeof a.host||"string"==typeof a.ipaddress)&&"number"==typeof a.port&&a.port>=0&&a.port<=65535&&(4===a.type||5===a.type)}function l(a){return"number"==typeof a&&a>0}b.validateSocksClientOptions=function(a,b=["connect","bind","associate"]){if(!e.SocksCommand[a.command])throw new d.SocksClientError(e.ERRORS.InvalidSocksCommand,a);if(-1===b.indexOf(a.command))throw new d.SocksClientError(e.ERRORS.InvalidSocksCommandForOperation,a);if(!j(a.destination))throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsDestination,a);if(!k(a.proxy))throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsProxy,a);if(i(a.proxy,a),a.timeout&&!l(a.timeout))throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsTimeout,a);if(a.existing_socket&&!(a.existing_socket instanceof f.Duplex))throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsExistingSocket,a)},b.validateSocksClientChainOptions=function(a){if("connect"!==a.command)throw new d.SocksClientError(e.ERRORS.InvalidSocksCommandChain,a);if(!j(a.destination))throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsDestination,a);if(!(a.proxies&&Array.isArray(a.proxies)&&a.proxies.length>=2))throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsProxiesLength,a);if(a.proxies.forEach(b=>{if(!k(b))throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsProxy,a);i(b,a)}),a.timeout&&!l(a.timeout))throw new d.SocksClientError(e.ERRORS.InvalidSocksClientOptionsTimeout,a)},b.ipv4ToInt32=function(a){return new g.Address4(a).toArray().reduce((a,b)=>(a<<8)+b,0)>>>0},b.int32ToIpv4=function(a){return[a>>>24&255,a>>>16&255,a>>>8&255,255&a].join(".")},b.ipToBuffer=function(a){if(h.isIPv4(a)){let b=new g.Address4(a);return Buffer.from(b.toArray())}if(h.isIPv6(a)){let b=new g.Address6(a);return Buffer.from(b.canonicalForm().split(":").map(a=>a.padStart(4,"0")).join(""),"hex")}throw Error("Invalid IP address format")}},70693:(a,b,c)=>{"use strict";let{Buffer:d}=c(79428),e=Symbol.for("BufferList");function f(a){if(!(this instanceof f))return new f(a);f._init.call(this,a)}f._init=function(a){Object.defineProperty(this,e,{value:!0}),this._bufs=[],this.length=0,a&&this.append(a)},f.prototype._new=function(a){return new f(a)},f.prototype._offset=function(a){if(0===a)return[0,0];let b=0;for(let c=0;c<this._bufs.length;c++){let d=b+this._bufs[c].length;if(a<d||c===this._bufs.length-1)return[c,a-b];b=d}},f.prototype._reverseOffset=function(a){let b=a[0],c=a[1];for(let a=0;a<b;a++)c+=this._bufs[a].length;return c},f.prototype.getBuffers=function(){return this._bufs},f.prototype.get=function(a){if(a>this.length||a<0)return;let b=this._offset(a);return this._bufs[b[0]][b[1]]},f.prototype.slice=function(a,b){return"number"==typeof a&&a<0&&(a+=this.length),"number"==typeof b&&b<0&&(b+=this.length),this.copy(null,0,a,b)},f.prototype.copy=function(a,b,c,e){if(("number"!=typeof c||c<0)&&(c=0),("number"!=typeof e||e>this.length)&&(e=this.length),c>=this.length||e<=0)return a||d.alloc(0);let f=!!a,g=this._offset(c),h=e-c,i=h,j=f&&b||0,k=g[1];if(0===c&&e===this.length){if(!f)return 1===this._bufs.length?this._bufs[0]:d.concat(this._bufs,this.length);for(let b=0;b<this._bufs.length;b++)this._bufs[b].copy(a,j),j+=this._bufs[b].length;return a}if(i<=this._bufs[g[0]].length-k)return f?this._bufs[g[0]].copy(a,b,k,k+i):this._bufs[g[0]].slice(k,k+i);f||(a=d.allocUnsafe(h));for(let b=g[0];b<this._bufs.length;b++){let c=this._bufs[b].length-k;if(i>c)this._bufs[b].copy(a,j,k),j+=c;else{this._bufs[b].copy(a,j,k,k+i),j+=c;break}i-=c,k&&(k=0)}return a.length>j?a.slice(0,j):a},f.prototype.shallowSlice=function(a,b){if(a=a||0,b="number"!=typeof b?this.length:b,a<0&&(a+=this.length),b<0&&(b+=this.length),a===b)return this._new();let c=this._offset(a),d=this._offset(b),e=this._bufs.slice(c[0],d[0]+1);return 0===d[1]?e.pop():e[e.length-1]=e[e.length-1].slice(0,d[1]),0!==c[1]&&(e[0]=e[0].slice(c[1])),this._new(e)},f.prototype.toString=function(a,b,c){return this.slice(b,c).toString(a)},f.prototype.consume=function(a){if(Number.isNaN(a=Math.trunc(a))||a<=0)return this;for(;this._bufs.length;)if(a>=this._bufs[0].length)a-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(a),this.length-=a;break}return this},f.prototype.duplicate=function(){let a=this._new();for(let b=0;b<this._bufs.length;b++)a.append(this._bufs[b]);return a},f.prototype.append=function(a){return this._attach(a,f.prototype._appendBuffer)},f.prototype.prepend=function(a){return this._attach(a,f.prototype._prependBuffer,!0)},f.prototype._attach=function(a,b,c){if(null==a)return this;if(a.buffer)b.call(this,d.from(a.buffer,a.byteOffset,a.byteLength));else if(Array.isArray(a)){let[d,e]=c?[a.length-1,-1]:[0,1];for(let f=d;f>=0&&f<a.length;f+=e)this._attach(a[f],b,c)}else if(this._isBufferList(a)){let[d,e]=c?[a._bufs.length-1,-1]:[0,1];for(let f=d;f>=0&&f<a._bufs.length;f+=e)this._attach(a._bufs[f],b,c)}else"number"==typeof a&&(a=a.toString()),b.call(this,d.from(a));return this},f.prototype._appendBuffer=function(a){this._bufs.push(a),this.length+=a.length},f.prototype._prependBuffer=function(a){this._bufs.unshift(a),this.length+=a.length},f.prototype.indexOf=function(a,b,c){if(void 0===c&&"string"==typeof b&&(c=b,b=void 0),"function"==typeof a||Array.isArray(a))throw TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof a?a=d.from([a]):"string"==typeof a?a=d.from(a,c):this._isBufferList(a)?a=a.slice():Array.isArray(a.buffer)?a=d.from(a.buffer,a.byteOffset,a.byteLength):d.isBuffer(a)||(a=d.from(a)),isNaN(b=Number(b||0))&&(b=0),b<0&&(b=this.length+b),b<0&&(b=0),0===a.length)return b>this.length?this.length:b;let e=this._offset(b),f=e[0],g=e[1];for(;f<this._bufs.length;f++){let b=this._bufs[f];for(;g<b.length;)if(b.length-g>=a.length){let c=b.indexOf(a,g);if(-1!==c)return this._reverseOffset([f,c]);g=b.length-a.length+1}else{let b=this._reverseOffset([f,g]);if(this._match(b,a))return b;g++}g=0}return -1},f.prototype._match=function(a,b){if(this.length-a<b.length)return!1;for(let c=0;c<b.length;c++)if(this.get(a+c)!==b[c])return!1;return!0},function(){let a={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let b in a)!function(b){null===a[b]?f.prototype[b]=function(a,c){return this.slice(a,a+c)[b](0,c)}:f.prototype[b]=function(c=0){return this.slice(c,c+a[b])[b](0)}}(b)}(),f.prototype._isBufferList=function(a){return a instanceof f||f.isBufferList(a)},f.isBufferList=function(a){return null!=a&&a[e]},a.exports=f},72602:a=>{"use strict";class b extends Error{constructor(a){if(!Array.isArray(a))throw TypeError(`Expected input to be an Array, got ${typeof a}`);let b="";for(let c=0;c<a.length;c++)b+=`    ${a[c].stack}
`;super(b),this.name="AggregateError",this.errors=a}}a.exports={AggregateError:b,ArrayIsArray:a=>Array.isArray(a),ArrayPrototypeIncludes:(a,b)=>a.includes(b),ArrayPrototypeIndexOf:(a,b)=>a.indexOf(b),ArrayPrototypeJoin:(a,b)=>a.join(b),ArrayPrototypeMap:(a,b)=>a.map(b),ArrayPrototypePop:(a,b)=>a.pop(b),ArrayPrototypePush:(a,b)=>a.push(b),ArrayPrototypeSlice:(a,b,c)=>a.slice(b,c),Error,FunctionPrototypeCall:(a,b,...c)=>a.call(b,...c),FunctionPrototypeSymbolHasInstance:(a,b)=>Function.prototype[Symbol.hasInstance].call(a,b),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(a,b)=>Object.defineProperties(a,b),ObjectDefineProperty:(a,b,c)=>Object.defineProperty(a,b,c),ObjectGetOwnPropertyDescriptor:(a,b)=>Object.getOwnPropertyDescriptor(a,b),ObjectKeys:a=>Object.keys(a),ObjectSetPrototypeOf:(a,b)=>Object.setPrototypeOf(a,b),Promise,PromisePrototypeCatch:(a,b)=>a.catch(b),PromisePrototypeThen:(a,b,c)=>a.then(b,c),PromiseReject:a=>Promise.reject(a),PromiseResolve:a=>Promise.resolve(a),ReflectApply:Reflect.apply,RegExpPrototypeTest:(a,b)=>a.test(b),SafeSet:Set,String,StringPrototypeSlice:(a,b,c)=>a.slice(b,c),StringPrototypeToLowerCase:a=>a.toLowerCase(),StringPrototypeToUpperCase:a=>a.toUpperCase(),StringPrototypeTrim:a=>a.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(a,b,c)=>a.set(b,c),Boolean,Uint8Array}},73097:(a,b,c)=>{let d=c(83997),e=c(28354);b.init=function(a){a.inspectOpts={};let c=Object.keys(b.inspectOpts);for(let d=0;d<c.length;d++)a.inspectOpts[c[d]]=b.inspectOpts[c[d]]},b.log=function(...a){return process.stderr.write(e.formatWithOptions(b.inspectOpts,...a)+"\n")},b.formatArgs=function(c){let{namespace:d,useColors:e}=this;if(e){let b=this.color,e="\x1b[3"+(b<8?b:"8;5;"+b),f=`  ${e};1m${d} \u001B[0m`;c[0]=f+c[0].split("\n").join("\n"+f),c.push(e+"m+"+a.exports.humanize(this.diff)+"\x1b[0m")}else c[0]=(b.inspectOpts.hideDate?"":new Date().toISOString()+" ")+d+" "+c[0]},b.save=function(a){a?process.env.DEBUG=a:delete process.env.DEBUG},b.load=function(){return process.env.DEBUG},b.useColors=function(){return"colors"in b.inspectOpts?!!b.inspectOpts.colors:d.isatty(process.stderr.fd)},b.destroy=e.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),b.colors=[6,2,3,4,5,1];try{let a=c(94883);a&&(a.stderr||a).level>=2&&(b.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(a){}b.inspectOpts=Object.keys(process.env).filter(a=>/^debug_/i.test(a)).reduce((a,b)=>{let c=b.substring(6).toLowerCase().replace(/_([a-z])/g,(a,b)=>b.toUpperCase()),d=process.env[b];return d=!!/^(yes|on|true|enabled)$/i.test(d)||!/^(no|off|false|disabled)$/i.test(d)&&("null"===d?null:Number(d)),a[c]=d,a},{}),a.exports=c(22208)(b);let{formatters:f}=a.exports;f.o=function(a){return this.inspectOpts.colors=this.useColors,e.inspect(a,this.inspectOpts).split("\n").map(a=>a.trim()).join(" ")},f.O=function(a){return this.inspectOpts.colors=this.useColors,e.inspect(a,this.inspectOpts)}},73851:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});class c{aliasToTopic;max;length;constructor(a){this.aliasToTopic={},this.max=a}put(a,b){return 0!==b&&!(b>this.max)&&(this.aliasToTopic[b]=a,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(a){return this.aliasToTopic[a]}clear(){this.aliasToTopic={}}}b.default=c},74075:a=>{"use strict";a.exports=require("zlib")},74783:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>m});var d=c(21124),e=c(38301);function f({connectionStatus:a}){let[b,c]=(0,e.useState)(""),[f,g]=(0,e.useState)("");return(0,d.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h1",{className:"card-title text-5xl font-bold mb-4",children:"Hello World!"}),(0,d.jsx)("p",{className:"text-2xl text-base-content/80 mb-4",children:"Welcome to BrightSign Display"}),(0,d.jsx)("div",{className:"divider"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-lg text-base-content/60",children:"Page Loaded"}),(0,d.jsx)("p",{className:"text-xl font-semibold",children:b})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-lg text-base-content/60",children:"Current Time"}),(0,d.jsx)("p",{className:"text-3xl font-bold font-mono",children:f||"..."})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 pt-2",children:[(0,d.jsx)("span",{className:"text-xl",children:"MQTT Status:"}),(()=>{switch(a){case"connected":return(0,d.jsx)("span",{className:"badge badge-success badge-lg text-lg px-4 py-3",children:"● Connected"});case"disconnected":return(0,d.jsx)("span",{className:"badge badge-error badge-lg text-lg px-4 py-3",children:"○ Disconnected"});case"connecting":return(0,d.jsx)("span",{className:"badge badge-warning badge-lg text-lg px-4 py-3",children:"◐ Connecting..."})}})()]})]})]})})}var g=c(81940),h=c.n(g);let i={mqtt:{broker:process.env.NEXT_PUBLIC_MQTT_BROKER||"wss://test.mosquitto.org:8081",topic:process.env.NEXT_PUBLIC_MQTT_TOPIC||"hello-world-reference/test",clientId:`hello-world-client-${Math.random().toString(16).substr(2,8)}`},api:{port:process.env.PORT||3e3}};class j{constructor(){this.client=null,this.status="disconnected",this.messageCallbacks=new Set,this.statusCallbacks=new Set,this.reconnectTimer=null}connect(){if(!this.client){this.setStatus("connecting");try{this.client=h().connect(i.mqtt.broker,{clientId:i.mqtt.clientId,clean:!0,reconnectPeriod:5e3}),this.client.on("connect",()=>{console.log("MQTT Connected to broker:",i.mqtt.broker),this.setStatus("connected"),this.subscribe(i.mqtt.topic)}),this.client.on("message",(a,b)=>{let c={topic:a,message:b.toString(),timestamp:new Date};console.log("MQTT Received message:",c),this.messageCallbacks.forEach(a=>a(c))}),this.client.on("error",a=>{console.error("MQTT Error:",a),this.setStatus("disconnected")}),this.client.on("disconnect",()=>{console.log("MQTT Disconnected"),this.setStatus("disconnected")}),this.client.on("offline",()=>{console.log("MQTT Offline"),this.setStatus("disconnected")})}catch(a){console.error("MQTT Connection failed:",a),this.setStatus("disconnected"),this.scheduleReconnect()}}}scheduleReconnect(){this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{console.log("Attempting to reconnect to MQTT broker..."),this.connect()},5e3)}setStatus(a){this.status=a,this.statusCallbacks.forEach(b=>b(a))}subscribe(a){this.client&&"connected"===this.status&&this.client.subscribe(a,b=>{b?console.error("MQTT Subscribe error:",b):console.log("MQTT Subscribed to topic:",a)})}publish(a,b){this.client&&"connected"===this.status?this.client.publish(a,b,c=>{c?console.error("MQTT Publish error:",c):console.log("MQTT Published message to topic:",a,b)}):console.warn("MQTT Client not connected, cannot publish message")}onMessage(a){return this.messageCallbacks.add(a),()=>{this.messageCallbacks.delete(a)}}onStatusChange(a){return this.statusCallbacks.add(a),a(this.status),()=>{this.statusCallbacks.delete(a)}}getStatus(){return this.status}disconnect(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.client&&(this.client.end(),this.client=null),this.setStatus("disconnected")}}let k=null;function l({onStatusChange:a}){let[b,c]=(0,e.useState)([]),[f,g]=(0,e.useState)(""),[h,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)(""),q=(0,e.useRef)(null),r=a=>{p(a),n(!0),setTimeout(()=>n(!1),3e3)},s=async a=>{if(a.preventDefault(),!f.trim())return;l(!0);let b=(k||(k=new j),k);try{b.publish(i.mqtt.topic,f),r("Message published successfully!"),g("")}catch(a){console.error("Failed to publish message:",a),r("Failed to publish message")}finally{l(!1)}};return(0,d.jsxs)("div",{className:"card bg-base-100 shadow-xl h-full",children:[(0,d.jsxs)("div",{className:"card-body flex flex-col h-full",children:[(0,d.jsx)("h2",{className:"card-title text-2xl mb-4",children:"MQTT Integration Panel"}),(0,d.jsxs)("form",{onSubmit:s,className:"form-control w-full",children:[(0,d.jsx)("label",{className:"label",children:(0,d.jsxs)("span",{className:"label-text text-lg",children:["Topic: ",i.mqtt.topic]})}),(0,d.jsxs)("div",{className:"join w-full",children:[(0,d.jsx)("input",{type:"text",value:f,onChange:a=>g(a.target.value),placeholder:"Enter message to publish...",className:"input input-bordered input-lg join-item flex-1 text-lg",disabled:h}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg join-item px-8 text-lg",disabled:h,children:h?(0,d.jsx)("span",{className:"loading loading-spinner loading-md"}):"Publish"})]})]}),(0,d.jsx)("div",{className:"divider text-lg",children:"Received Messages"}),(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsxs)("span",{className:"text-lg text-base-content/70",children:["Showing last ",b.length," message(s)"]}),b.length>0&&(0,d.jsx)("button",{onClick:()=>{c([])},className:"btn btn-ghost btn-sm",children:"Clear"})]}),(0,d.jsx)("div",{className:"bg-base-200 rounded-lg p-4 flex-1 overflow-y-auto",children:0===b.length?(0,d.jsxs)("div",{className:"text-center text-base-content/50 py-8",children:[(0,d.jsx)("p",{className:"text-xl",children:"No messages received yet."}),(0,d.jsx)("p",{className:"text-lg mt-2",children:"Waiting for messages on:"}),(0,d.jsx)("p",{className:"text-lg font-mono mt-1",children:i.mqtt.topic})]}):(0,d.jsxs)("div",{className:"space-y-2",children:[b.map((a,b)=>(0,d.jsx)("div",{className:"bg-base-100 p-3 rounded-lg border border-base-300",children:(0,d.jsx)("div",{className:"flex justify-between items-start",children:(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"text-sm text-base-content/60",children:[a.timestamp.toLocaleTimeString()," - ",a.topic]}),(0,d.jsx)("div",{className:"font-mono text-lg mt-1",children:a.message})]})})},b)),(0,d.jsx)("div",{ref:q})]})}),(0,d.jsxs)("div",{className:"text-sm text-base-content/60 mt-auto pt-2",children:["Broker: ",i.mqtt.broker]})]}),m&&(0,d.jsx)("div",{className:"toast toast-top toast-end",children:(0,d.jsx)("div",{className:"alert alert-info",children:(0,d.jsx)("span",{children:o})})})]})}function m(){let[a,b]=(0,e.useState)("disconnected");return(0,d.jsx)("div",{className:"w-[1920px] h-[1080px] bg-base-200 overflow-hidden",children:(0,d.jsxs)("div",{className:"h-full p-8 flex flex-col",children:[(0,d.jsxs)("div",{className:"text-center mb-6",children:[(0,d.jsx)("h1",{className:"text-6xl font-bold mb-3",children:"Hello World Reference Application"}),(0,d.jsx)("p",{className:"text-2xl text-base-content/70",children:"React 18 • Next.js 15 • MQTT.js 5 • DaisyUI • Node.js 18"})]}),(0,d.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,d.jsx)(f,{connectionStatus:a}),(0,d.jsx)("div",{className:"card bg-base-100 shadow-xl flex-1",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h2",{className:"card-title text-2xl mb-4",children:"System Information"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-bold text-lg mb-3",children:"Runtime Environment"}),(0,d.jsxs)("ul",{className:"text-lg space-y-2",children:[(0,d.jsxs)("li",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-success",children:"✓"})," Node.js 18.x"]}),(0,d.jsxs)("li",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-success",children:"✓"})," Chromium 120"]}),(0,d.jsxs)("li",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-success",children:"✓"})," 1920x1080 Display"]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-bold text-lg mb-3",children:"Technology Stack"}),(0,d.jsxs)("ul",{className:"text-lg space-y-2",children:[(0,d.jsxs)("li",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-info",children:"◆"})," React 18"]}),(0,d.jsxs)("li",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-info",children:"◆"})," Next.js 15"]}),(0,d.jsxs)("li",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-info",children:"◆"})," MQTT WebSocket"]})]})]})]})]})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)(l,{onStatusChange:b})}),(0,d.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h2",{className:"card-title text-2xl mb-4",children:"UI Components"}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,d.jsx)("button",{className:"btn btn-primary btn-lg",children:"Primary"}),(0,d.jsx)("button",{className:"btn btn-secondary btn-lg",children:"Secondary"}),(0,d.jsx)("button",{className:"btn btn-accent btn-lg",children:"Accent"}),(0,d.jsx)("button",{className:"btn btn-ghost btn-lg",children:"Ghost"}),(0,d.jsx)("button",{className:"btn btn-outline btn-lg",children:"Outline"})]})]})})]})]})]})})}},75750:(a,b,c)=>{"use strict";let d,e,{ObjectDefineProperties:f,ObjectGetOwnPropertyDescriptor:g,ObjectKeys:h,ObjectSetPrototypeOf:i}=c(72602);a.exports=l;let j=c(53112),k=c(37e3);i(l.prototype,j.prototype),i(l,j);{let a=h(k.prototype);for(let b=0;b<a.length;b++){let c=a[b];l.prototype[c]||(l.prototype[c]=k.prototype[c])}}function l(a){if(!(this instanceof l))return new l(a);j.call(this,a),k.call(this,a),a?(this.allowHalfOpen=!1!==a.allowHalfOpen,!1===a.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===a.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function m(){return void 0===d&&(d={}),d}f(l.prototype,{writable:{__proto__:null,...g(k.prototype,"writable")},writableHighWaterMark:{__proto__:null,...g(k.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...g(k.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...g(k.prototype,"writableBuffer")},writableLength:{__proto__:null,...g(k.prototype,"writableLength")},writableFinished:{__proto__:null,...g(k.prototype,"writableFinished")},writableCorked:{__proto__:null,...g(k.prototype,"writableCorked")},writableEnded:{__proto__:null,...g(k.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...g(k.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(a){this._readableState&&this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}}),l.fromWeb=function(a,b){return m().newStreamDuplexFromReadableWritablePair(a,b)},l.toWeb=function(a){return m().newReadableWritablePairFromDuplex(a)},l.from=function(a){return e||(e=c(21166)),e(a,"body")}},77740:(a,b,c)=>{"use strict";let d=c(94735),e=c(55591),f=c(81630),g=c(91645),h=c(34631),{randomBytes:i,createHash:j}=c(55511),{Duplex:k,Readable:l}=c(27910),{URL:m}=c(79551),n=c(20879),o=c(26802),p=c(92910),{isBlob:q}=c(86200),{BINARY_TYPES:r,EMPTY_BUFFER:s,GUID:t,kForOnEventAttribute:u,kListener:v,kStatusCode:w,kWebSocket:x,NOOP:y}=c(63674),{EventTarget:{addEventListener:z,removeEventListener:A}}=c(17605),{format:B,parse:C}=c(58986),{toBuffer:D}=c(78086),E=Symbol("kAborted"),F=[8,13],G=["CONNECTING","OPEN","CLOSING","CLOSED"],H=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class I extends d{constructor(a,b,c){super(),this._binaryType=r[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=s,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=I.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==a?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===b?b=[]:Array.isArray(b)||("object"==typeof b&&null!==b?(c=b,b=[]):b=[b]),function a(b,c,d,g){let h,k,l,o,p={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:F[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...g,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(b._autoPong=p.autoPong,!F.includes(p.protocolVersion))throw RangeError(`Unsupported protocol version: ${p.protocolVersion} (supported versions: ${F.join(", ")})`);if(c instanceof m)h=c;else try{h=new m(c)}catch(a){throw SyntaxError(`Invalid URL: ${c}`)}"http:"===h.protocol?h.protocol="ws:":"https:"===h.protocol&&(h.protocol="wss:"),b._url=h.href;let q="wss:"===h.protocol,r="ws+unix:"===h.protocol;if("ws:"===h.protocol||q||r?r&&!h.pathname?k="The URL's pathname is empty":h.hash&&(k="The URL contains a fragment identifier"):k='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"',k){let a=SyntaxError(k);if(0!==b._redirects)return void J(b,a);throw a}let s=q?443:80,u=i(16).toString("base64"),v=q?e.request:f.request,w=new Set;if(p.createConnection=p.createConnection||(q?L:K),p.defaultPort=p.defaultPort||s,p.port=h.port||s,p.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname,p.headers={...p.headers,"Sec-WebSocket-Version":p.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},p.path=h.pathname+h.search,p.timeout=p.handshakeTimeout,p.perMessageDeflate&&(l=new n(!0!==p.perMessageDeflate?p.perMessageDeflate:{},!1,p.maxPayload),p.headers["Sec-WebSocket-Extensions"]=B({[n.extensionName]:l.offer()})),d.length){for(let a of d){if("string"!=typeof a||!H.test(a)||w.has(a))throw SyntaxError("An invalid or duplicated subprotocol was specified");w.add(a)}p.headers["Sec-WebSocket-Protocol"]=d.join(",")}if(p.origin&&(p.protocolVersion<13?p.headers["Sec-WebSocket-Origin"]=p.origin:p.headers.Origin=p.origin),(h.username||h.password)&&(p.auth=`${h.username}:${h.password}`),r){let a=p.path.split(":");p.socketPath=a[0],p.path=a[1]}if(p.followRedirects){if(0===b._redirects){b._originalIpc=r,b._originalSecure=q,b._originalHostOrSocketPath=r?p.socketPath:h.host;let a=g&&g.headers;if(g={...g,headers:{}},a)for(let[b,c]of Object.entries(a))g.headers[b.toLowerCase()]=c}else if(0===b.listenerCount("redirect")){let a=r?!!b._originalIpc&&p.socketPath===b._originalHostOrSocketPath:!b._originalIpc&&h.host===b._originalHostOrSocketPath;a&&(!b._originalSecure||q)||(delete p.headers.authorization,delete p.headers.cookie,a||delete p.headers.host,p.auth=void 0)}p.auth&&!g.headers.authorization&&(g.headers.authorization="Basic "+Buffer.from(p.auth).toString("base64")),o=b._req=v(p),b._redirects&&b.emit("redirect",b.url,o)}else o=b._req=v(p);p.timeout&&o.on("timeout",()=>{M(b,o,"Opening handshake has timed out")}),o.on("error",a=>{null===o||o[E]||(o=b._req=null,J(b,a))}),o.on("response",e=>{let f=e.headers.location,h=e.statusCode;if(f&&p.followRedirects&&h>=300&&h<400){let e;if(++b._redirects>p.maxRedirects)return void M(b,o,"Maximum redirects exceeded");o.abort();try{e=new m(f,c)}catch(a){J(b,SyntaxError(`Invalid URL: ${f}`));return}a(b,e,d,g)}else b.emit("unexpected-response",o,e)||M(b,o,`Unexpected server response: ${e.statusCode}`)}),o.on("upgrade",(a,c,d)=>{let e;if(b.emit("upgrade",a),b.readyState!==I.CONNECTING)return;o=b._req=null;let f=a.headers.upgrade;if(void 0===f||"websocket"!==f.toLowerCase())return void M(b,c,"Invalid Upgrade header");let g=j("sha1").update(u+t).digest("base64");if(a.headers["sec-websocket-accept"]!==g)return void M(b,c,"Invalid Sec-WebSocket-Accept header");let h=a.headers["sec-websocket-protocol"];if(void 0!==h?w.size?w.has(h)||(e="Server sent an invalid subprotocol"):e="Server sent a subprotocol but none was requested":w.size&&(e="Server sent no subprotocol"),e)return void M(b,c,e);h&&(b._protocol=h);let i=a.headers["sec-websocket-extensions"];if(void 0!==i){let a;if(!l)return void M(b,c,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{a=C(i)}catch(a){M(b,c,"Invalid Sec-WebSocket-Extensions header");return}let d=Object.keys(a);if(1!==d.length||d[0]!==n.extensionName)return void M(b,c,"Server indicated an extension that was not requested");try{l.accept(a[n.extensionName])}catch(a){M(b,c,"Invalid Sec-WebSocket-Extensions header");return}b._extensions[n.extensionName]=l}b.setSocket(c,d,{allowSynchronousEvents:p.allowSynchronousEvents,generateMask:p.generateMask,maxPayload:p.maxPayload,skipUTF8Validation:p.skipUTF8Validation})}),p.finishRequest?p.finishRequest(o,b):o.end()}(this,a,b,c)):(this._autoPong=c.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(a){r.includes(a)&&(this._binaryType=a,this._receiver&&(this._receiver._binaryType=a))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(a,b,c){let d=new o({allowSynchronousEvents:c.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:c.maxPayload,skipUTF8Validation:c.skipUTF8Validation}),e=new p(a,this._extensions,c.generateMask);this._receiver=d,this._sender=e,this._socket=a,d[x]=this,e[x]=this,a[x]=this,d.on("conclude",O),d.on("drain",P),d.on("error",Q),d.on("message",S),d.on("ping",T),d.on("pong",U),e.onerror=W,a.setTimeout&&a.setTimeout(0),a.setNoDelay&&a.setNoDelay(),b.length>0&&a.unshift(b),a.on("close",Y),a.on("data",Z),a.on("end",$),a.on("error",_),this._readyState=I.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=I.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[n.extensionName]&&this._extensions[n.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=I.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(a,b){if(this.readyState!==I.CLOSED){if(this.readyState===I.CONNECTING)return void M(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===I.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=I.CLOSING,this._sender.close(a,b,!this._isServer,a=>{!a&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),X(this)}}pause(){this.readyState!==I.CONNECTING&&this.readyState!==I.CLOSED&&(this._paused=!0,this._socket.pause())}ping(a,b,c){if(this.readyState===I.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==I.OPEN)return void N(this,a,c);void 0===b&&(b=!this._isServer),this._sender.ping(a||s,b,c)}pong(a,b,c){if(this.readyState===I.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==I.OPEN)return void N(this,a,c);void 0===b&&(b=!this._isServer),this._sender.pong(a||s,b,c)}resume(){this.readyState!==I.CONNECTING&&this.readyState!==I.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(a,b,c){if(this.readyState===I.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof b&&(c=b,b={}),"number"==typeof a&&(a=a.toString()),this.readyState!==I.OPEN)return void N(this,a,c);let d={binary:"string"!=typeof a,mask:!this._isServer,compress:!0,fin:!0,...b};this._extensions[n.extensionName]||(d.compress=!1),this._sender.send(a||s,d,c)}terminate(){if(this.readyState!==I.CLOSED){if(this.readyState===I.CONNECTING)return void M(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=I.CLOSING,this._socket.destroy())}}}function J(a,b){a._readyState=I.CLOSING,a._errorEmitted=!0,a.emit("error",b),a.emitClose()}function K(a){return a.path=a.socketPath,g.connect(a)}function L(a){return a.path=void 0,a.servername||""===a.servername||(a.servername=g.isIP(a.host)?"":a.host),h.connect(a)}function M(a,b,c){a._readyState=I.CLOSING;let d=Error(c);Error.captureStackTrace(d,M),b.setHeader?(b[E]=!0,b.abort(),b.socket&&!b.socket.destroyed&&b.socket.destroy(),process.nextTick(J,a,d)):(b.destroy(d),b.once("error",a.emit.bind(a,"error")),b.once("close",a.emitClose.bind(a)))}function N(a,b,c){if(b){let c=q(b)?b.size:D(b).length;a._socket?a._sender._bufferedBytes+=c:a._bufferedAmount+=c}if(c){let b=Error(`WebSocket is not open: readyState ${a.readyState} (${G[a.readyState]})`);process.nextTick(c,b)}}function O(a,b){let c=this[x];c._closeFrameReceived=!0,c._closeMessage=b,c._closeCode=a,void 0!==c._socket[x]&&(c._socket.removeListener("data",Z),process.nextTick(V,c._socket),1005===a?c.close():c.close(a,b))}function P(){let a=this[x];a.isPaused||a._socket.resume()}function Q(a){let b=this[x];void 0!==b._socket[x]&&(b._socket.removeListener("data",Z),process.nextTick(V,b._socket),b.close(a[w])),b._errorEmitted||(b._errorEmitted=!0,b.emit("error",a))}function R(){this[x].emitClose()}function S(a,b){this[x].emit("message",a,b)}function T(a){let b=this[x];b._autoPong&&b.pong(a,!this._isServer,y),b.emit("ping",a)}function U(a){this[x].emit("pong",a)}function V(a){a.resume()}function W(a){let b=this[x];b.readyState!==I.CLOSED&&(b.readyState===I.OPEN&&(b._readyState=I.CLOSING,X(b)),this._socket.end(),b._errorEmitted||(b._errorEmitted=!0,b.emit("error",a)))}function X(a){a._closeTimer=setTimeout(a._socket.destroy.bind(a._socket),3e4)}function Y(){let a,b=this[x];this.removeListener("close",Y),this.removeListener("data",Z),this.removeListener("end",$),b._readyState=I.CLOSING,this._readableState.endEmitted||b._closeFrameReceived||b._receiver._writableState.errorEmitted||null===(a=b._socket.read())||b._receiver.write(a),b._receiver.end(),this[x]=void 0,clearTimeout(b._closeTimer),b._receiver._writableState.finished||b._receiver._writableState.errorEmitted?b.emitClose():(b._receiver.on("error",R),b._receiver.on("finish",R))}function Z(a){this[x]._receiver.write(a)||this.pause()}function $(){let a=this[x];a._readyState=I.CLOSING,a._receiver.end(),this.end()}function _(){let a=this[x];this.removeListener("error",_),this.on("error",y),a&&(a._readyState=I.CLOSING,this.destroy())}Object.defineProperty(I,"CONNECTING",{enumerable:!0,value:G.indexOf("CONNECTING")}),Object.defineProperty(I.prototype,"CONNECTING",{enumerable:!0,value:G.indexOf("CONNECTING")}),Object.defineProperty(I,"OPEN",{enumerable:!0,value:G.indexOf("OPEN")}),Object.defineProperty(I.prototype,"OPEN",{enumerable:!0,value:G.indexOf("OPEN")}),Object.defineProperty(I,"CLOSING",{enumerable:!0,value:G.indexOf("CLOSING")}),Object.defineProperty(I.prototype,"CLOSING",{enumerable:!0,value:G.indexOf("CLOSING")}),Object.defineProperty(I,"CLOSED",{enumerable:!0,value:G.indexOf("CLOSED")}),Object.defineProperty(I.prototype,"CLOSED",{enumerable:!0,value:G.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(a=>{Object.defineProperty(I.prototype,a,{enumerable:!0})}),["open","error","close","message"].forEach(a=>{Object.defineProperty(I.prototype,`on${a}`,{enumerable:!0,get(){for(let b of this.listeners(a))if(b[u])return b[v];return null},set(b){for(let b of this.listeners(a))if(b[u]){this.removeListener(a,b);break}"function"==typeof b&&this.addEventListener(a,b,{[u]:!0})}})}),I.prototype.addEventListener=z,I.prototype.removeEventListener=A,a.exports=I},78050:(a,b,c)=>{"use strict";let d,e=c(99978),{AbortError:f,codes:g}=c(30775),{ERR_INVALID_ARG_TYPE:h,ERR_STREAM_PREMATURE_CLOSE:i}=g,{kEmptyObject:j,once:k}=c(37408),{validateAbortSignal:l,validateFunction:m,validateObject:n,validateBoolean:o}=c(35957),{Promise:p,PromisePrototypeThen:q,SymbolDispose:r}=c(72602),{isClosed:s,isReadable:t,isReadableNodeStream:u,isReadableStream:v,isReadableFinished:w,isReadableErrored:x,isWritable:y,isWritableNodeStream:z,isWritableStream:A,isWritableFinished:B,isWritableErrored:C,isNodeStream:D,willEmitClose:E,kIsClosedPromise:F}=c(98007),G=()=>{};function H(a,b,g){var o,p;if(2==arguments.length?(g=b,b=j):null==b?b=j:n(b,"options"),m(g,"callback"),l(b.signal,"options.signal"),g=k(g),v(a)||A(a))return function(a,b,g){let h=!1,i=G;if(b.signal)if(i=()=>{h=!0,g.call(a,new f(void 0,{cause:b.signal.reason}))},b.signal.aborted)e.nextTick(i);else{let e=(d=d||c(37408).addAbortListener)(b.signal,i),f=g;g=k((...b)=>{e[r](),f.apply(a,b)})}let j=(...b)=>{h||e.nextTick(()=>g.apply(a,b))};return q(a[F].promise,j,j),G}(a,b,g);if(!D(a))throw new h("stream",["ReadableStream","WritableStream","Stream"],a);let H=null!=(o=b.readable)?o:u(a),I=null!=(p=b.writable)?p:z(a),J=a._writableState,K=a._readableState,L=()=>{a.writable||O()},M=E(a)&&u(a)===H&&z(a)===I,N=B(a,!1),O=()=>{N=!0,a.destroyed&&(M=!1),M&&(!a.readable||H)||(!H||P)&&g.call(a)},P=w(a,!1),Q=()=>{P=!0,a.destroyed&&(M=!1),M&&(!a.writable||I)||(!I||N)&&g.call(a)},R=b=>{g.call(a,b)},S=s(a),T=()=>{S=!0;let b=C(a)||x(a);return b&&"boolean"!=typeof b?g.call(a,b):H&&!P&&u(a,!0)&&!w(a,!1)||I&&!N&&!B(a,!1)?g.call(a,new i):void g.call(a)},U=()=>{S=!0;let b=C(a)||x(a);if(b&&"boolean"!=typeof b)return g.call(a,b);g.call(a)},V=()=>{a.req.on("finish",O)};a.setHeader&&"function"==typeof a.abort?(a.on("complete",O),M||a.on("abort",T),a.req?V():a.on("request",V)):I&&!J&&(a.on("end",L),a.on("close",L)),M||"boolean"!=typeof a.aborted||a.on("aborted",T),a.on("end",Q),a.on("finish",O),!1!==b.error&&a.on("error",R),a.on("close",T),S?e.nextTick(T):null!=J&&J.errorEmitted||null!=K&&K.errorEmitted?M||e.nextTick(U):!H&&(!M||t(a))&&(N||!1===y(a))||!I&&(!M||y(a))&&(P||!1===t(a))?e.nextTick(U):K&&a.req&&a.aborted&&e.nextTick(U);let W=()=>{g=G,a.removeListener("aborted",T),a.removeListener("complete",O),a.removeListener("abort",T),a.removeListener("request",V),a.req&&a.req.removeListener("finish",O),a.removeListener("end",L),a.removeListener("close",L),a.removeListener("finish",O),a.removeListener("end",Q),a.removeListener("error",R),a.removeListener("close",T)};if(b.signal&&!S){let h=()=>{let c=g;W(),c.call(a,new f(void 0,{cause:b.signal.reason}))};if(b.signal.aborted)e.nextTick(h);else{let e=(d=d||c(37408).addAbortListener)(b.signal,h),f=g;g=k((...b)=>{e[r](),f.apply(a,b)})}}return W}a.exports=H,a.exports.finished=function(a,b){var c;let d=!1;return null===b&&(b=j),null!=(c=b)&&c.cleanup&&(o(b.cleanup,"cleanup"),d=b.cleanup),new p((c,e)=>{let f=H(a,b,a=>{d&&f(),a?e(a):c()})})}},78086:(a,b,c)=>{"use strict";let{EMPTY_BUFFER:d}=c(63674),e=Buffer[Symbol.species];function f(a,b,c,d,e){for(let f=0;f<e;f++)c[d+f]=a[f]^b[3&f]}function g(a,b){for(let c=0;c<a.length;c++)a[c]^=b[3&c]}function h(a){let b;return(h.readOnly=!0,Buffer.isBuffer(a))?a:(a instanceof ArrayBuffer?b=new e(a):ArrayBuffer.isView(a)?b=new e(a.buffer,a.byteOffset,a.byteLength):(b=Buffer.from(a),h.readOnly=!1),b)}if(a.exports={concat:function(a,b){if(0===a.length)return d;if(1===a.length)return a[0];let c=Buffer.allocUnsafe(b),f=0;for(let b=0;b<a.length;b++){let d=a[b];c.set(d,f),f+=d.length}return f<b?new e(c.buffer,c.byteOffset,f):c},mask:f,toArrayBuffer:function(a){return a.length===a.buffer.byteLength?a.buffer:a.buffer.slice(a.byteOffset,a.byteOffset+a.length)},toBuffer:h,unmask:g},!process.env.WS_NO_BUFFER_UTIL)try{let b=c(39727);a.exports.mask=function(a,c,d,e,g){g<48?f(a,c,d,e,g):b.mask(a,c,d,e,g)},a.exports.unmask=function(a,c){a.length<32?g(a,c):b.unmask(a,c)}}catch(a){}},78388:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let c=new WeakMap,d=new WeakMap;function e(a){let b=c.get(a);return console.assert(null!=b,"'this' is expected an Event object, but got",a),b}function f(a){if(null!=a.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",a.passiveListener);return}a.event.cancelable&&(a.canceled=!0,"function"==typeof a.event.preventDefault&&a.event.preventDefault())}function g(a,b){c.set(this,{eventTarget:a,event:b,eventPhase:2,currentTarget:a,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:b.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let d=Object.keys(b);for(let a=0;a<d.length;++a){let b=d[a];b in this||Object.defineProperty(this,b,h(b))}}function h(a){return{get(){return e(this).event[a]},set(b){e(this).event[a]=b},configurable:!0,enumerable:!0}}function i(a,b){e(a).passiveListener=b}g.prototype={get type(){return e(this).event.type},get target(){return e(this).eventTarget},get currentTarget(){return e(this).currentTarget},composedPath(){let a=e(this).currentTarget;return null==a?[]:[a]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return e(this).eventPhase},stopPropagation(){let a=e(this);a.stopped=!0,"function"==typeof a.event.stopPropagation&&a.event.stopPropagation()},stopImmediatePropagation(){let a=e(this);a.stopped=!0,a.immediateStopped=!0,"function"==typeof a.event.stopImmediatePropagation&&a.event.stopImmediatePropagation()},get bubbles(){return!!e(this).event.bubbles},get cancelable(){return!!e(this).event.cancelable},preventDefault(){f(e(this))},get defaultPrevented(){return e(this).canceled},get composed(){return!!e(this).event.composed},get timeStamp(){return e(this).timeStamp},get srcElement(){return e(this).eventTarget},get cancelBubble(){return e(this).stopped},set cancelBubble(value){if(!value)return;let a=e(this);a.stopped=!0,"boolean"==typeof a.event.cancelBubble&&(a.event.cancelBubble=!0)},get returnValue(){return!e(this).canceled},set returnValue(value){value||f(e(this))},initEvent(){}},Object.defineProperty(g.prototype,"constructor",{value:g,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(g.prototype,window.Event.prototype),d.set(window.Event.prototype,g));let j=new WeakMap;function k(a){return null!==a&&"object"==typeof a}function l(a){let b=j.get(a);if(null==b)throw TypeError("'this' is expected an EventTarget object, but got another value.");return b}function m(a,b){Object.defineProperty(a,`on${b}`,{get(){let a=l(this).get(b);for(;null!=a;){if(3===a.listenerType)return a.listener;a=a.next}return null},set(a){"function"==typeof a||k(a)||(a=null);let c=l(this),d=null,e=c.get(b);for(;null!=e;)3===e.listenerType?null!==d?d.next=e.next:null!==e.next?c.set(b,e.next):c.delete(b):d=e,e=e.next;if(null!==a){let e={listener:a,listenerType:3,passive:!1,once:!1,next:null};null===d?c.set(b,e):d.next=e}},configurable:!0,enumerable:!0})}function n(a){function b(){o.call(this)}b.prototype=Object.create(o.prototype,{constructor:{value:b,configurable:!0,writable:!0}});for(let c=0;c<a.length;++c)m(b.prototype,a[c]);return b}function o(){if(this instanceof o)return void j.set(this,new Map);if(1==arguments.length&&Array.isArray(arguments[0]))return n(arguments[0]);if(arguments.length>0){let a=Array(arguments.length);for(let b=0;b<arguments.length;++b)a[b]=arguments[b];return n(a)}throw TypeError("Cannot call a class as a function")}o.prototype={addEventListener(a,b,c){if(null==b)return;if("function"!=typeof b&&!k(b))throw TypeError("'listener' should be a function or an object.");let d=l(this),e=k(c),f=(e?c.capture:c)?1:2,g={listener:b,listenerType:f,passive:e&&!!c.passive,once:e&&!!c.once,next:null},h=d.get(a);if(void 0===h)return void d.set(a,g);let i=null;for(;null!=h;){if(h.listener===b&&h.listenerType===f)return;i=h,h=h.next}i.next=g},removeEventListener(a,b,c){if(null==b)return;let d=l(this),e=(k(c)?c.capture:c)?1:2,f=null,g=d.get(a);for(;null!=g;){if(g.listener===b&&g.listenerType===e)return void(null!==f?f.next=g.next:null!==g.next?d.set(a,g.next):d.delete(a));f=g,g=g.next}},dispatchEvent(a){if(null==a||"string"!=typeof a.type)throw TypeError('"event.type" should be a string.');let b=l(this),c=a.type,f=b.get(c);if(null==f)return!0;let j=new(function a(b){if(null==b||b===Object.prototype)return g;let c=d.get(b);return null==c&&(c=function(a,b){let c=Object.keys(b);if(0===c.length)return a;function d(b,c){a.call(this,b,c)}d.prototype=Object.create(a.prototype,{constructor:{value:d,configurable:!0,writable:!0}});for(let f=0;f<c.length;++f){let g=c[f];if(!(g in a.prototype)){let a="function"==typeof Object.getOwnPropertyDescriptor(b,g).value;Object.defineProperty(d.prototype,g,a?function(a){return{value(){let b=e(this).event;return b[a].apply(b,arguments)},configurable:!0,enumerable:!0}}(g):h(g))}}return d}(a(Object.getPrototypeOf(b)),b),d.set(b,c)),c}(Object.getPrototypeOf(a)))(this,a),k=null;for(;null!=f;){if(f.once?null!==k?k.next=f.next:null!==f.next?b.set(c,f.next):b.delete(c):k=f,i(j,f.passive?f.listener:null),"function"==typeof f.listener)try{f.listener.call(this,j)}catch(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)}else 3!==f.listenerType&&"function"==typeof f.listener.handleEvent&&f.listener.handleEvent(j);if(e(j).immediateStopped)break;f=f.next}return i(j,null),e(j).eventPhase=0,e(j).currentTarget=null,!j.defaultPrevented}},Object.defineProperty(o.prototype,"constructor",{value:o,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(o.prototype,window.EventTarget.prototype),b.defineEventAttribute=m,b.EventTarget=o,b.default=o,a.exports=o,a.exports.EventTarget=a.exports.default=o,a.exports.defineEventAttribute=m},78473:function(a,b,c){"use strict";var d,e=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),f=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),g=this&&this.__importStar||(d=function(a){return(d=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[b.length]=c);return b})(a)},function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c=d(a),g=0;g<c.length;g++)"default"!==c[g]&&e(b,a,c[g]);return f(b,a),b}),h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let i=h(c(27314)),j=c(65522),k=h(c(69709)),l=h(c(9841)),m=g(c(34624)),n=h(c(38249)),o=h(c(93936)),p=h(c(27351)),q=h(c(73851)),r=c(91591),s=c(2600),t=h(c(9395)),u=g(c(43955)),v=globalThis.setImmediate||((...a)=>{let b=a.shift();(0,r.nextTick)(()=>{b(...a)})}),w={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"};class x extends s.TypedEventEmitter{static VERSION=r.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(a,b){for(let a in super(),this.options=b||{},w)void 0===this.options[a]?this.options[a]=w[a]:this.options[a]=b[a];this.log=this.options.log||(0,l.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",x.VERSION),u.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",u.default?"browser":"node"),this.log("MqttClient :: options.protocol",b.protocol),this.log("MqttClient :: options.protocolVersion",b.protocolVersion),this.log("MqttClient :: options.username",b.username),this.log("MqttClient :: options.keepalive",b.keepalive),this.log("MqttClient :: options.reconnectPeriod",b.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",b.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",b.properties?b.properties.topicAliasMaximum:void 0),this.options.clientId="string"==typeof b.clientId?b.clientId:x.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===b.protocolVersion&&b.customHandleAcks?b.customHandleAcks:(...a)=>{a[3](null,0)},this.options.writeCache||(i.default.writeToStream.cacheNumbers=!1),this.streamBuilder=a,this.messageIdProvider=void 0===this.options.messageIdProvider?new p.default:this.options.messageIdProvider,this.outgoingStore=b.outgoingStore||new n.default,this.incomingStore=b.incomingStore||new n.default,this.queueQoSZero=void 0===b.queueQoSZero||b.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,b.properties&&b.properties.topicAliasMaximum>0&&(b.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new q.default(b.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:a}=this,b=()=>{let c=a.shift();this.log("deliver :: entry %o",c);let d=null;if(!c)return void this._resubscribe();d=c.packet,this.log("deliver :: call _sendPacket for %o",d);let e=!0;d.messageId&&0!==d.messageId&&!this.messageIdProvider.register(d.messageId)&&(e=!1),e?this._sendPacket(d,a=>{c.cb&&c.cb(a),b()}):(this.log("messageId: %d has already used. The message is skipped and removed.",d.messageId),b())};this.log("connect :: sending queued packets"),b()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(a,b){b()}handleMessage(a,b){b()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let a=new j.Writable,b=i.default.parser(this.options),c=null,d=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new n.default,this.outgoingStore=this.options.outgoingStore||new n.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),b.on("packet",a=>{this.log("parser :: on packet push to packets array."),d.push(a)});let e=()=>{this.log("work :: getting next packet in queue");let a=d.shift();if(a)this.log("work :: packet pulled from queue"),(0,o.default)(this,a,f);else{this.log("work :: no packets in queue");let a=c;c=null,this.log("work :: done flag is %s",!!a),a&&a()}},f=()=>{if(d.length)(0,r.nextTick)(e);else{let a=c;c=null,a()}};a._write=(a,d,f)=>{c=f,this.log("writable stream :: parsing buffer"),b.parse(a),e()};let g=a=>{this.log("streamErrorHandler :: error",a.message),a.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",a)):this.noop(a)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(a),this.stream.on("error",g),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let h={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(h.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(h.properties||(h.properties={}),this.topicAliasRecv&&(h.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(h),b.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket){let a={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(a)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(a,b,c,d){this.log("publish :: message `%s` to topic `%s`",b,a);let{options:e}=this;"function"==typeof c&&(d=c,c=null);let{qos:f,retain:g,dup:h,properties:i,cbStorePut:j}=c={qos:0,retain:!1,dup:!1,...c=c||{}};if(this._checkDisconnecting(d))return this;let k=()=>{let c=0;if((1===f||2===f)&&null===(c=this._nextId()))return this.log("No messageId left"),!1;let k={cmd:"publish",topic:a,payload:b,qos:f,retain:g,messageId:c,dup:h};switch(5===e.protocolVersion&&(k.properties=i),this.log("publish :: qos",f),f){case 1:case 2:this.outgoing[k.messageId]={volatile:!1,cb:d||this.noop},this.log("MqttClient:publish: packet cmd: %s",k.cmd),this._sendPacket(k,void 0,j);break;default:this.log("MqttClient:publish: packet cmd: %s",k.cmd),this._sendPacket(k,d,j)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!k())&&this._storeProcessingQueue.push({invoke:k,cbStorePut:c.cbStorePut,callback:d}),this}publishAsync(a,b,c){return new Promise((d,e)=>{this.publish(a,b,c,(a,b)=>{a?e(a):d(b)})})}subscribe(a,b,c){let d=this.options.protocolVersion;"function"==typeof b&&(c=b),c=c||this.noop;let e=!1,f=[];"string"==typeof a?f=a=[a]:Array.isArray(a)?f=a:"object"==typeof a&&(e=a.resubscribe,delete a.resubscribe,f=Object.keys(a));let g=m.validateTopics(f);if(null!==g)return v(c,Error(`Invalid topic ${g}`)),this;if(this._checkDisconnecting(c))return this.log("subscribe: discconecting true"),this;let h={qos:0};5===d&&(h.nl=!1,h.rap=!1,h.rh=0);let{properties:i}=b={...h,...b},j=[],k=(a,c)=>{if(c=c||b,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,a)||this._resubscribeTopics[a].qos<c.qos||e){let b={topic:a,qos:c.qos};5===d&&(b.nl=c.nl,b.rap=c.rap,b.rh=c.rh,b.properties=i),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",b.topic,b.qos),j.push(b)}};if(Array.isArray(a)?a.forEach(a=>{this.log("subscribe: array topic %s",a),k(a)}):Object.keys(a).forEach(b=>{this.log("subscribe: object topic %s, %o",b,a[b]),k(b,a[b])}),!j.length)return c(null,[]),this;let l=(a,b)=>{let c={cmd:"subscribe",subscriptions:a,messageId:b};if(i&&(c.properties=i),this.options.resubscribe){this.log("subscribe :: resubscribe true");let b=[];a.forEach(a=>{if(this.options.reconnectPeriod>0){let c={qos:a.qos};5===d&&(c.nl=a.nl||!1,c.rap=a.rap||!1,c.rh=a.rh||0,c.properties=a.properties),this._resubscribeTopics[a.topic]=c,b.push(a.topic)}}),this.messageIdToTopic[c.messageId]=b}let e=new Promise((b,d)=>{this.outgoing[c.messageId]={volatile:!0,cb(c,e){if(!c){let{granted:b}=e;for(let c=0;c<b.length;c+=1)a[c].qos=b[c]}c?d(new r.ErrorWithSubackPacket(c.message,e)):b(e)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(c),e},n=()=>{let a=this.options.subscribeBatchSize??j.length,b=[];for(let c=0;c<j.length;c+=a){let d=j.slice(c,c+a),e=this._nextId();if(null===e)return this.log("No messageId left"),!1;b.push(l(d,e))}return Promise.all(b).then(a=>{c(null,j,a.at(-1))}).catch(a=>{c(a,j,a.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!n())&&this._storeProcessingQueue.push({invoke:n,callback:c}),this}subscribeAsync(a,b){return new Promise((c,d)=>{this.subscribe(a,b,(a,b)=>{a?d(a):c(b)})})}unsubscribe(a,b,c){"string"==typeof a&&(a=[a]),"function"==typeof b&&(c=b),c=c||this.noop;let d=m.validateTopics(a);if(null!==d)return v(c,Error(`Invalid topic ${d}`)),this;if(this._checkDisconnecting(c))return this;let e=()=>{let d=this._nextId();if(null===d)return this.log("No messageId left"),!1;let e={cmd:"unsubscribe",messageId:d,unsubscriptions:[]};return"string"==typeof a?e.unsubscriptions=[a]:Array.isArray(a)&&(e.unsubscriptions=a),this.options.resubscribe&&e.unsubscriptions.forEach(a=>{delete this._resubscribeTopics[a]}),"object"==typeof b&&b.properties&&(e.properties=b.properties),this.outgoing[e.messageId]={volatile:!0,cb:c},this.log("unsubscribe: call _sendPacket"),this._sendPacket(e),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!e())&&this._storeProcessingQueue.push({invoke:e,callback:c}),this}unsubscribeAsync(a,b){return new Promise((c,d)=>{this.unsubscribe(a,b,(a,b)=>{a?d(a):c(b)})})}end(a,b,c){this.log("end :: (%s)",this.options.clientId),(null==a||"boolean"!=typeof a)&&(c=c||b,b=a,a=!1),"object"!=typeof b&&(c=c||b,b=null),this.log("end :: cb? %s",!!c),c&&"function"==typeof c||(c=this.noop);let d=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(a=>{this.outgoingStore.close(b=>{this.log("end :: closeStores: emitting end"),this.emit("end"),c&&(this.log("end :: closeStores: invoking callback with args"),c(a||b))})}),this._deferredReconnect?this._deferredReconnect():(0===this.options.reconnectPeriod||this.options.manualConnect)&&(this.disconnecting=!1)},e=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,a),this._cleanUp(a,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,r.nextTick)(d)},b)};return this.disconnecting?c():(this._clearReconnect(),this.disconnecting=!0,!a&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,e,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),e())),this}endAsync(a,b){return new Promise((c,d)=>{this.end(a,b,a=>{a?d(a):c()})})}removeOutgoingMessage(a){if(this.outgoing[a]){let{cb:b}=this.outgoing[a];this._removeOutgoingAndStoreMessage(a,()=>{b(Error("Message removed"))})}return this}reconnect(a){this.log("client reconnect");let b=()=>{a?(this.options.incomingStore=a.incomingStore,this.options.outgoingStore=a.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new n.default,this.outgoingStore=this.options.outgoingStore||new n.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=b:b(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(a=>{this.outgoing[a].volatile&&"function"==typeof this.outgoing[a].cb&&(this.outgoing[a].cb(Error("Connection closed")),delete this.outgoing[a])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(a=>{"function"==typeof this.outgoing[a].cb&&(this.outgoing[a].cb(Error("Connection closed")),delete this.outgoing[a])}))}_removeTopicAliasAndRecoverTopicName(a){let b;a.properties&&(b=a.properties.topicAlias);let c=a.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",b,c),0===c.length){if(void 0===b||void 0===(c=this.topicAliasSend.getTopicByAlias(b)))return Error("Unregistered Topic Alias");a.topic=c}b&&delete a.properties.topicAlias}_checkDisconnecting(a){return this.disconnecting&&(a&&a!==this.noop?a(Error("client disconnecting")):this.emit("error",Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){this.disconnecting||this.reconnectTimer||!(this.options.reconnectPeriod>0)?this.log("_setupReconnect :: doing nothing..."):(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod))}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(a,b,c={}){if(b&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",b)),this.log("_cleanUp :: forced? %s",a),a)0===this.options.reconnectPeriod&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let a={cmd:"disconnect",...c};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(a,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),v(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}this.disconnecting||this.reconnecting||(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),b&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",b),b())}_storeAndSend(a,b,c){let d;this.log("storeAndSend :: store packet with cmd %s to outgoingStore",a.cmd);let e=a;if("publish"===e.cmd&&(e=(0,k.default)(a),d=this._removeTopicAliasAndRecoverTopicName(e)))return b&&b(d);this.outgoingStore.put(e,d=>{if(d)return b&&b(d);c(),this._writePacket(a,b)})}_applyTopicAlias(a){if(5===this.options.protocolVersion&&"publish"===a.cmd){let b;a.properties&&(b=a.properties.topicAlias);let c=a.topic.toString();if(this.topicAliasSend)if(b){if(0!==c.length&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",c,b),!this.topicAliasSend.put(c,b)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",c,b),Error("Sending Topic Alias out of range")}else 0!==c.length&&(this.options.autoAssignTopicAlias?(b=this.topicAliasSend.getAliasByTopic(c))?(a.topic="",a.properties={...a.properties,topicAlias:b},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",c,b)):(b=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(c,b),a.properties={...a.properties,topicAlias:b},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",c,b)):this.options.autoUseTopicAlias&&(b=this.topicAliasSend.getAliasByTopic(c))&&(a.topic="",a.properties={...a.properties,topicAlias:b},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",c,b)));else if(b)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",c,b),Error("Sending Topic Alias out of range")}}_noop(a){this.log("noop ::",a)}_writePacket(a,b){this.log("_writePacket :: packet: %O",a),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",a),this.log("_writePacket :: writing to stream");let c=i.default.writeToStream(a,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",c),!c&&b&&b!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",b)):b&&(this.log("_writePacket :: invoking cb"),b())}_sendPacket(a,b,c,d){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),c=c||this.noop,b=b||this.noop;let e=this._applyTopicAlias(a);if(e)return void b(e);if(!this.connected)return"auth"===a.cmd?void this._writePacket(a,b):(this.log("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(a,b,c));if(d)return void this._writePacket(a,b);switch(a.cmd){case"publish":break;case"pubrel":this._storeAndSend(a,b,c);return;default:this._writePacket(a,b);return}switch(a.qos){case 2:case 1:this._storeAndSend(a,b,c);break;default:this._writePacket(a,b)}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(a,b,c){this.log("_storePacket :: packet: %o",a),this.log("_storePacket :: cb? %s",!!b),c=c||this.noop;let d=a;if("publish"===d.cmd){d=(0,k.default)(a);let c=this._removeTopicAliasAndRecoverTopicName(d);if(c)return b&&b(c)}let e=d.qos||0;0===e&&this.queueQoSZero||"publish"!==d.cmd?this.queue.push({packet:d,cb:b}):e>0?(b=this.outgoing[d.messageId]?this.outgoing[d.messageId].cb:null,this.outgoingStore.put(d,a=>{if(a)return b&&b(a);c()})):b&&b(Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new t.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(a=!1){this.keepaliveManager&&this.options.keepalive&&(a||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let a=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&a.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){this.log("_resubscribe: protocolVersion 5");for(let b=0;b<a.length;b++){let c={};c[a[b]]=this._resubscribeTopics[a[b]],c.resubscribe=!0,this.subscribe(c,{properties:c[a[b]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(a){if(this.disconnected)return void this.emit("connect",a);this.connackPacket=a,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let b=()=>{let c=this.outgoingStore.createStream(),d=()=>{c.destroy(),c=null,this._flushStoreProcessingQueue(),e()},e=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",d),c.on("error",a=>{e(),this._flushStoreProcessingQueue(),this.removeListener("close",d),this.emit("error",a)});let f=()=>{let a;if(!c)return;let b=c.read(1);return b?(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[b.messageId])?void f():void(this.disconnecting||this.reconnectTimer?c.destroy&&c.destroy():(a=this.outgoing[b.messageId]?this.outgoing[b.messageId].cb:null,this.outgoing[b.messageId]={volatile:!1,cb(b,c){a&&a(b,c),f()}},this._packetIdsDuringStoreProcessing[b.messageId]=!0,this.messageIdProvider.register(b.messageId)?this._sendPacket(b,void 0,void 0,!0):this.log("messageId: %d has already used.",b.messageId))):void c.once("readable",f)};c.on("end",()=>{let c=!0;for(let a in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[a]){c=!1;break}this.removeListener("close",d),c?(e(),this._invokeAllStoreProcessingQueue(),this.emit("connect",a)):b()}),f()};b()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let a=this._storeProcessingQueue[0];if(a&&a.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let a of this._storeProcessingQueue)a.cbStorePut&&a.cbStorePut(Error("Connection closed")),a.callback&&a.callback(Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(a,b){delete this.outgoing[a],this.outgoingStore.del({messageId:a},(c,d)=>{b(c,d),this.messageIdProvider.deallocate(a),this._invokeStoreProcessingQueue()})}}b.default=x},79348:(a,b,c)=>{let{Buffer:d}=c(79428),e={},f=d.isBuffer(d.from([1,2]).subarray(0,1));function g(a){let b=d.allocUnsafe(2);return b.writeUInt8(a>>8,0),b.writeUInt8(255&a,1),b}a.exports={cache:e,generateCache:function(){for(let a=0;a<65536;a++)e[a]=g(a)},generateNumber:g,genBufVariableByteInt:function(a){let b=0,c=0,e=d.allocUnsafe(4);do b=a%128|0,(a=a/128|0)>0&&(b|=128),e.writeUInt8(b,c++);while(a>0&&c<4);return a>0&&(c=0),f?e.subarray(0,c):e.slice(0,c)},generate4ByteBuffer:function(a){let b=d.allocUnsafe(4);return b.writeUInt32BE(a,0),b}}},79405:(a,b,c)=>{"use strict";let d=c(65522).Duplex,e=c(48985),f=c(70693);function g(a){if(!(this instanceof g))return new g(a);if("function"==typeof a){this._callback=a;let b=(function(a){this._callback&&(this._callback(a),this._callback=null)}).bind(this);this.on("pipe",function(a){a.on("error",b)}),this.on("unpipe",function(a){a.removeListener("error",b)}),a=null}f._init.call(this,a),d.call(this)}e(g,d),Object.assign(g.prototype,f.prototype),g.prototype._new=function(a){return new g(a)},g.prototype._write=function(a,b,c){this._appendBuffer(a),"function"==typeof c&&c()},g.prototype._read=function(a){if(!this.length)return this.push(null);a=Math.min(a,this.length),this.push(this.slice(0,a)),this.consume(a)},g.prototype.end=function(a){d.prototype.end.call(this,a),this._callback&&(this._callback(null,this.slice()),this._callback=null)},g.prototype._destroy=function(a,b){this._bufs.length=0,this.length=0,b(a)},g.prototype._isBufferList=function(a){return a instanceof g||a instanceof f||g.isBufferList(a)},g.isBufferList=f.isBufferList,a.exports=g,a.exports.BufferListStream=g,a.exports.BufferList=f},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},79694:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RE_URL_WITH_PORT=b.RE_URL=b.RE_ZONE_STRING=b.RE_SUBNET_STRING=b.RE_BAD_ADDRESS=b.RE_BAD_CHARACTERS=b.TYPES=b.SCOPES=b.GROUPS=b.BITS=void 0,b.BITS=128,b.GROUPS=8,b.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},b.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},b.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi,b.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,b.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,b.RE_ZONE_STRING=/%.*$/,b.RE_URL=/^\[{0,1}([0-9a-f:]+)\]{0,1}/,b.RE_URL_WITH_PORT=/\[([0-9a-f:]+)\]:([0-9]{1,5})/},81630:a=>{"use strict";a.exports=require("http")},81940:function(a,b,c){"use strict";var d,e=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),f=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),g=this&&this.__importStar||(d=function(a){return(d=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[b.length]=c);return b})(a)},function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c=d(a),g=0;g<c.length;g++)"default"!==c[g]&&e(b,a,c[g]);return f(b,a),b}),h=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||e(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.default=g(c(27844)),h(c(27844),b)},82704:()=>{},83005:()=>{},83997:a=>{"use strict";a.exports=require("tty")},86200:(a,b,c)=>{"use strict";let{isUtf8:d}=c(79428),{hasBlob:e}=c(63674);function f(a){let b=a.length,c=0;for(;c<b;)if((128&a[c])==0)c++;else if((224&a[c])==192){if(c+1===b||(192&a[c+1])!=128||(254&a[c])==192)return!1;c+=2}else if((240&a[c])==224){if(c+2>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||224===a[c]&&(224&a[c+1])==128||237===a[c]&&(224&a[c+1])==160)return!1;c+=3}else{if((248&a[c])!=240||c+3>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||(192&a[c+3])!=128||240===a[c]&&(240&a[c+1])==128||244===a[c]&&a[c+1]>143||a[c]>244)return!1;c+=4}return!0}if(a.exports={isBlob:function(a){return e&&"object"==typeof a&&"function"==typeof a.arrayBuffer&&"string"==typeof a.type&&"function"==typeof a.stream&&("Blob"===a[Symbol.toStringTag]||"File"===a[Symbol.toStringTag])},isValidStatusCode:function(a){return a>=1e3&&a<=1014&&1004!==a&&1005!==a&&1006!==a||a>=3e3&&a<=4999},isValidUTF8:f,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},d)a.exports.isValidUTF8=function(a){return a.length<24?f(a):d(a)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let b=c(47990);a.exports.isValidUTF8=function(a){return a.length<32?f(a):b(a)}}catch(a){}},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},86640:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=c(34631),f=d(c(91645)),g=d(c(9841)),h=d(c(56184)),i=(0,g.default)("mqttjs:tls");b.default=(a,b)=>{b.port=b.port||8883,b.host=b.hostname||b.host||"localhost",0===f.default.isIP(b.host)&&(b.servername=b.host),b.rejectUnauthorized=!1!==b.rejectUnauthorized,delete b.path,i("port %d host %s rejectUnauthorized %b",b.port,b.host,b.rejectUnauthorized);let c=function(a){let{host:b,port:c,socksProxy:d,...f}=a;if(void 0!==d){let g=(0,h.default)(b,c,d,{timeout:a.socksTimeout});return(0,e.connect)({...f,socket:g})}return(0,e.connect)(a)}(b);function d(d){b.rejectUnauthorized&&a.emit("error",d),c.end()}return c.on("secureConnect",()=>{b.rejectUnauthorized&&!c.authorized?c.emit("error",Error("TLS not authorized")):c.removeListener("error",d)}),c.on("error",d),c}},87057:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.connectAsync=function(a,b,c=!0){return new Promise((d,e)=>{let f=k(a,b),g={connect:a=>{h(),d(f)},end:()=>{h(),d(f)},error:a=>{h(),f.end(),e(a)}};function h(){Object.keys(g).forEach(a=>{f.off(a,g[a])})}!1===c&&(g.close=()=>{g.error(Error("Couldn't connect to server"))}),Object.keys(g).forEach(a=>{f.on(a,g[a])})})};let e=d(c(9841)),f=d(c(79551)),g=d(c(78473)),h=d(c(43955));"function"!=typeof process?.nextTick&&(process.nextTick=setImmediate);let i=(0,e.default)("mqttjs"),j=null;function k(a,b){let d;if(i("connecting to an MQTT broker..."),"object"!=typeof a||b||(b=a,a=""),b=b||{},a&&"string"==typeof a){let c=f.default.parse(a,!0),d={};if(null!=c.port&&(d.port=Number(c.port)),d.host=c.hostname,d.query=c.query,d.auth=c.auth,d.protocol=c.protocol,d.path=c.path,!(b={...d,...b}).protocol)throw Error("Missing protocol");b.protocol=b.protocol.replace(/:$/,"")}b.unixSocket=b.unixSocket||b.protocol?.includes("+unix"),b.unixSocket?b.protocol=b.protocol.replace("+unix",""):b.protocol?.startsWith("ws")||b.protocol?.startsWith("wx")||delete b.path;var e=b;if(e.auth)if(d=e.auth.match(/^(.+):(.+)$/)){let[,a,b]=d;e.username=a,e.password=b}else e.username=e.auth;if(b.query&&"string"==typeof b.query.clientId&&(b.clientId=b.query.clientId),h.default||b.unixSocket?b.socksProxy=void 0:void 0===b.socksProxy&&"undefined"!=typeof process&&(b.socksProxy=process.env.MQTTJS_SOCKS_PROXY),b.cert&&b.key)if(b.protocol){if(-1===["mqtts","wss","wxs","alis"].indexOf(b.protocol))switch(b.protocol){case"mqtt":b.protocol="mqtts";break;case"ws":b.protocol="wss";break;case"wx":b.protocol="wxs";break;case"ali":b.protocol="alis";break;default:throw Error(`Unknown protocol for secure connection: "${b.protocol}"!`)}}else throw Error("Missing secure protocol key");if(j||(j={},h.default||b.forceNativeWebSocket?(j.ws=c(41279).browserStreamBuilder,j.wss=c(41279).browserStreamBuilder,j.wx=c(59226).A,j.wxs=c(59226).A,j.ali=c(96621).A,j.alis=c(96621).A):(j.ws=c(41279).streamBuilder,j.wss=c(41279).streamBuilder,j.mqtt=c(95782).default,j.tcp=c(95782).default,j.ssl=c(86640).default,j.tls=j.ssl,j.mqtts=c(86640).default)),!j[b.protocol]){let a=-1!==["mqtts","wss"].indexOf(b.protocol);b.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((b,c)=>(!a||c%2!=0)&&"function"==typeof j[b])[0]}if(!1===b.clean&&!b.clientId)throw Error("Missing clientId for unclean clients");b.protocol&&(b.defaultProtocol=b.protocol);let k=new g.default(function(a){return b.servers&&(a._reconnectCount&&a._reconnectCount!==b.servers.length||(a._reconnectCount=0),b.host=b.servers[a._reconnectCount].host,b.port=b.servers[a._reconnectCount].port,b.protocol=b.servers[a._reconnectCount].protocol?b.servers[a._reconnectCount].protocol:b.defaultProtocol,b.hostname=b.host,a._reconnectCount++),i("calling streambuilder for",b.protocol),j[b.protocol](a,b)},b);return k.on("error",()=>{}),k}b.default=k},91591:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MQTTJS_VERSION=b.nextTick=b.ErrorWithSubackPacket=b.ErrorWithReasonCode=void 0,b.applyMixin=function(a,b,c=!1){let d=[b];for(;;){let a=Object.getPrototypeOf(d[0]);if(a?.prototype)d.unshift(a);else break}for(let b of d)for(let d of Object.getOwnPropertyNames(b.prototype))(c||"constructor"!==d)&&Object.defineProperty(a.prototype,d,Object.getOwnPropertyDescriptor(b.prototype,d)??Object.create(null))};class d extends Error{code;constructor(a,b){super(a),this.code=b,Object.setPrototypeOf(this,d.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}}b.ErrorWithReasonCode=d;class e extends Error{packet;constructor(a,b){super(a),this.packet=b,Object.setPrototypeOf(this,e.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}}b.ErrorWithSubackPacket=e,b.nextTick="function"==typeof process?.nextTick?process.nextTick:a=>{setTimeout(a,0)},b.MQTTJS_VERSION=c(3108).version},91645:a=>{"use strict";a.exports=require("net")},92910:(a,b,c)=>{"use strict";let d,{Duplex:e}=c(27910),{randomFillSync:f}=c(55511),g=c(20879),{EMPTY_BUFFER:h,kWebSocket:i,NOOP:j}=c(63674),{isBlob:k,isValidStatusCode:l}=c(86200),{mask:m,toBuffer:n}=c(78086),o=Symbol("kByteLength"),p=Buffer.alloc(4),q=8192;class r{constructor(a,b,c){this._extensions=b||{},c&&(this._generateMask=c,this._maskBuffer=Buffer.alloc(4)),this._socket=a,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=j,this[i]=void 0}static frame(a,b){let c,e,g=!1,h=2,i=!1;b.mask&&(c=b.maskBuffer||p,b.generateMask?b.generateMask(c):(8192===q&&(void 0===d&&(d=Buffer.alloc(8192)),f(d,0,8192),q=0),c[0]=d[q++],c[1]=d[q++],c[2]=d[q++],c[3]=d[q++]),i=(c[0]|c[1]|c[2]|c[3])==0,h=6),"string"==typeof a?e=(!b.mask||i)&&void 0!==b[o]?b[o]:(a=Buffer.from(a)).length:(e=a.length,g=b.mask&&b.readOnly&&!i);let j=e;e>=65536?(h+=8,j=127):e>125&&(h+=2,j=126);let k=Buffer.allocUnsafe(g?e+h:h);return(k[0]=b.fin?128|b.opcode:b.opcode,b.rsv1&&(k[0]|=64),k[1]=j,126===j?k.writeUInt16BE(e,2):127===j&&(k[2]=k[3]=0,k.writeUIntBE(e,4,6)),b.mask)?(k[1]|=128,k[h-4]=c[0],k[h-3]=c[1],k[h-2]=c[2],k[h-1]=c[3],i)?[k,a]:g?(m(a,c,k,h,e),[k]):(m(a,c,a,0,e),[k,a]):[k,a]}close(a,b,c,d){let e;if(void 0===a)e=h;else if("number"==typeof a&&l(a))if(void 0!==b&&b.length){let c=Buffer.byteLength(b);if(c>123)throw RangeError("The message must not be greater than 123 bytes");(e=Buffer.allocUnsafe(2+c)).writeUInt16BE(a,0),"string"==typeof b?e.write(b,2):e.set(b,2)}else(e=Buffer.allocUnsafe(2)).writeUInt16BE(a,0);else throw TypeError("First argument must be a valid error code number");let f={[o]:e.length,fin:!0,generateMask:this._generateMask,mask:c,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,e,!1,f,d]):this.sendFrame(r.frame(e,f),d)}ping(a,b,c){let d,e;if("string"==typeof a?(d=Buffer.byteLength(a),e=!1):k(a)?(d=a.size,e=!1):(d=(a=n(a)).length,e=n.readOnly),d>125)throw RangeError("The data size must not be greater than 125 bytes");let f={[o]:d,fin:!0,generateMask:this._generateMask,mask:b,maskBuffer:this._maskBuffer,opcode:9,readOnly:e,rsv1:!1};k(a)?0!==this._state?this.enqueue([this.getBlobData,a,!1,f,c]):this.getBlobData(a,!1,f,c):0!==this._state?this.enqueue([this.dispatch,a,!1,f,c]):this.sendFrame(r.frame(a,f),c)}pong(a,b,c){let d,e;if("string"==typeof a?(d=Buffer.byteLength(a),e=!1):k(a)?(d=a.size,e=!1):(d=(a=n(a)).length,e=n.readOnly),d>125)throw RangeError("The data size must not be greater than 125 bytes");let f={[o]:d,fin:!0,generateMask:this._generateMask,mask:b,maskBuffer:this._maskBuffer,opcode:10,readOnly:e,rsv1:!1};k(a)?0!==this._state?this.enqueue([this.getBlobData,a,!1,f,c]):this.getBlobData(a,!1,f,c):0!==this._state?this.enqueue([this.dispatch,a,!1,f,c]):this.sendFrame(r.frame(a,f),c)}send(a,b,c){let d,e,f=this._extensions[g.extensionName],h=b.binary?2:1,i=b.compress;"string"==typeof a?(d=Buffer.byteLength(a),e=!1):k(a)?(d=a.size,e=!1):(d=(a=n(a)).length,e=n.readOnly),this._firstFragment?(this._firstFragment=!1,i&&f&&f.params[f._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(i=d>=f._threshold),this._compress=i):(i=!1,h=0),b.fin&&(this._firstFragment=!0);let j={[o]:d,fin:b.fin,generateMask:this._generateMask,mask:b.mask,maskBuffer:this._maskBuffer,opcode:h,readOnly:e,rsv1:i};k(a)?0!==this._state?this.enqueue([this.getBlobData,a,this._compress,j,c]):this.getBlobData(a,this._compress,j,c):0!==this._state?this.enqueue([this.dispatch,a,this._compress,j,c]):this.dispatch(a,this._compress,j,c)}getBlobData(a,b,c,d){this._bufferedBytes+=c[o],this._state=2,a.arrayBuffer().then(a=>{if(this._socket.destroyed){let a=Error("The socket was closed while the blob was being read");process.nextTick(s,this,a,d);return}this._bufferedBytes-=c[o];let e=n(a);b?this.dispatch(e,b,c,d):(this._state=0,this.sendFrame(r.frame(e,c),d),this.dequeue())}).catch(a=>{process.nextTick(t,this,a,d)})}dispatch(a,b,c,d){if(!b)return void this.sendFrame(r.frame(a,c),d);let e=this._extensions[g.extensionName];this._bufferedBytes+=c[o],this._state=1,e.compress(a,c.fin,(a,b)=>{if(this._socket.destroyed)return void s(this,Error("The socket was closed while data was being compressed"),d);this._bufferedBytes-=c[o],this._state=0,c.readOnly=!1,this.sendFrame(r.frame(b,c),d),this.dequeue()})}dequeue(){for(;0===this._state&&this._queue.length;){let a=this._queue.shift();this._bufferedBytes-=a[3][o],Reflect.apply(a[0],this,a.slice(1))}}enqueue(a){this._bufferedBytes+=a[3][o],this._queue.push(a)}sendFrame(a,b){2===a.length?(this._socket.cork(),this._socket.write(a[0]),this._socket.write(a[1],b),this._socket.uncork()):this._socket.write(a[0],b)}}function s(a,b,c){"function"==typeof c&&c(b);for(let c=0;c<a._queue.length;c++){let d=a._queue[c],e=d[d.length-1];"function"==typeof e&&e(b)}}function t(a,b,c){s(a,b,c),a.onerror(b)}a.exports=r},93379:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b};Object.defineProperty(b,"__esModule",{value:!0}),b.Address4=void 0;let g=f(c(181)),h=f(c(57016)),i=c(48869);class j{constructor(a){this.groups=h.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=g.isCorrect(h.BITS),this.isInSubnet=g.isInSubnet,this.address=a;let b=h.RE_SUBNET_STRING.exec(a);if(b){if(this.parsedSubnet=b[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>h.BITS)throw new i.AddressError("Invalid subnet mask.");a=a.replace(h.RE_SUBNET_STRING,"")}this.addressMinusSuffix=a,this.parsedAddress=this.parse(a)}static isValid(a){try{return new j(a),!0}catch(a){return!1}}parse(a){let b=a.split(".");if(!a.match(h.RE_ADDRESS))throw new i.AddressError("Invalid IPv4 address.");return b}correctForm(){return this.parsedAddress.map(a=>parseInt(a,10)).join(".")}static fromHex(a){let b,c=a.replace(/:/g,"").padStart(8,"0"),d=[];for(b=0;b<8;b+=2){let a=c.slice(b,b+2);d.push(parseInt(a,16))}return new j(d.join("."))}static fromInteger(a){return j.fromHex(a.toString(16))}static fromArpa(a){return new j(a.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join("."))}toHex(){return this.parsedAddress.map(a=>g.stringToPaddedHex(a)).join(":")}toArray(){return this.parsedAddress.map(a=>parseInt(a,10))}toGroup6(){let a,b=[];for(a=0;a<h.GROUPS;a+=2)b.push(`${g.stringToPaddedHex(this.parsedAddress[a])}${g.stringToPaddedHex(this.parsedAddress[a+1])}`);return b.join(":")}bigInt(){return BigInt(`0x${this.parsedAddress.map(a=>g.stringToPaddedHex(a)).join("")}`)}_startAddress(){return BigInt(`0b${this.mask()+"0".repeat(h.BITS-this.subnetMask)}`)}startAddress(){return j.fromBigInt(this._startAddress())}startAddressExclusive(){let a=BigInt("1");return j.fromBigInt(this._startAddress()+a)}_endAddress(){return BigInt(`0b${this.mask()+"1".repeat(h.BITS-this.subnetMask)}`)}endAddress(){return j.fromBigInt(this._endAddress())}endAddressExclusive(){let a=BigInt("1");return j.fromBigInt(this._endAddress()-a)}static fromBigInt(a){return j.fromHex(a.toString(16))}mask(a){return void 0===a&&(a=this.subnetMask),this.getBitsBase2(0,a)}getBitsBase2(a,b){return this.binaryZeroPad().slice(a,b)}reverseForm(a){a||(a={});let b=this.correctForm().split(".").reverse().join(".");return a.omitSuffix?b:`${b}.in-addr.arpa.`}isMulticast(){return this.isInSubnet(new j("224.0.0.0/4"))}binaryZeroPad(){return this.bigInt().toString(2).padStart(h.BITS,"0")}groupForV6(){let a=this.parsedAddress;return this.address.replace(h.RE_ADDRESS,`<span class="hover-group group-v4 group-6">${a.slice(0,2).join(".")}</span>.<span class="hover-group group-v4 group-7">${a.slice(2,4).join(".")}</span>`)}}b.Address4=j},93672:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=(a,b,c)=>{a.log("handling pubrel packet");let d=void 0!==c?c:a.noop,{messageId:e}=b,f={cmd:"pubcomp",messageId:e};a.incomingStore.get(b,(b,c)=>{b?a._sendPacket(f,d):(a.emit("message",c.topic,c.payload,c),a.handleMessage(c,b=>{if(b)return d(b);a.incomingStore.del(c,a.noop),a._sendPacket(f,d)}))})}},93936:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(42235)),f=d(c(12804)),g=d(c(39947)),h=d(c(781)),i=d(c(93672));b.default=(a,b,c)=>{let{options:d}=a;if(5===d.protocolVersion&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<b.length)return a.emit("error",Error(`exceeding packets size ${b.cmd}`)),a.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),a;switch(a.log("_handlePacket :: emitting packetreceive"),a.emit("packetreceive",b),b.cmd){case"publish":(0,e.default)(a,b,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":a.reschedulePing(),(0,h.default)(a,b),c();break;case"pubrel":a.reschedulePing(),(0,i.default)(a,b,c);break;case"connack":(0,g.default)(a,b),c();break;case"auth":a.reschedulePing(),(0,f.default)(a,b),c();break;case"pingresp":a.log("_handlePacket :: received pingresp"),a.reschedulePing(!0),c();break;case"disconnect":a.emit("disconnect",b),c();break;default:a.log("_handlePacket :: unknown command"),c()}}},94735:a=>{"use strict";a.exports=require("events")},94883:(a,b,c)=>{"use strict";let d,e=c(21820),f=c(83997),g=c(56100),{env:h}=process;function i(a){return 0!==a&&{level:a,hasBasic:!0,has256:a>=2,has16m:a>=3}}function j(a,b){if(0===d)return 0;if(g("color=16m")||g("color=full")||g("color=truecolor"))return 3;if(g("color=256"))return 2;if(a&&!b&&void 0===d)return 0;let c=d||0;if("dumb"===h.TERM)return c;if("win32"===process.platform){let a=e.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in h)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(a=>a in h)||"codeship"===h.CI_NAME?1:c;if("TEAMCITY_VERSION"in h)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(h.TEAMCITY_VERSION);if("truecolor"===h.COLORTERM)return 3;if("TERM_PROGRAM"in h){let a=parseInt((h.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(h.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(h.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(h.TERM)||"COLORTERM"in h?1:c}g("no-color")||g("no-colors")||g("color=false")||g("color=never")?d=0:(g("color")||g("colors")||g("color=true")||g("color=always"))&&(d=1),"FORCE_COLOR"in h&&(d="true"===h.FORCE_COLOR?1:"false"===h.FORCE_COLOR?0:0===h.FORCE_COLOR.length?1:Math.min(parseInt(h.FORCE_COLOR,10),3)),a.exports={supportsColor:function(a){return i(j(a,a&&a.isTTY))},stdout:i(j(!0,f.isatty(1))),stderr:i(j(!0,f.isatty(2)))}},95782:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(91645)),f=d(c(9841)),g=d(c(56184)),h=(0,f.default)("mqttjs:tcp");b.default=(a,b)=>{if(b.port=b.port||1883,b.hostname=b.hostname||b.host||"localhost",b.socksProxy)return(0,g.default)(b.hostname,b.port,b.socksProxy,{timeout:b.socksTimeout});let{port:c,path:d}=b,f=b.hostname;return h("port %d and host %s",c,f),e.default.createConnection({port:c,host:f,path:d})}},96251:function(a,b,c){"use strict";var d=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};Object.defineProperty(b,"__esModule",{value:!0}),b.SocksClientError=b.SocksClient=void 0;let e=c(94735),f=c(91645),g=c(50179),h=c(12674),i=c(70102),j=c(14619),k=c(6023);Object.defineProperty(b,"SocksClientError",{enumerable:!0,get:function(){return k.SocksClientError}});let l=c(2320);class m extends e.EventEmitter{constructor(a){super(),this.options=Object.assign({},a),(0,i.validateSocksClientOptions)(a),this.setState(h.SocksClientState.Created)}static createConnection(a,b){return new Promise((c,d)=>{try{(0,i.validateSocksClientOptions)(a,["connect"])}catch(a){if("function"==typeof b)return b(a),c(a);return d(a)}let e=new m(a);e.connect(a.existing_socket),e.once("established",a=>{e.removeAllListeners(),"function"==typeof b&&b(null,a),c(a)}),e.once("error",a=>{e.removeAllListeners(),"function"==typeof b?(b(a),c(a)):d(a)})})}static createConnectionChain(a,b){return new Promise((c,e)=>d(this,void 0,void 0,function*(){try{(0,i.validateSocksClientChainOptions)(a)}catch(a){if("function"==typeof b)return b(a),c(a);return e(a)}a.randomizeChain&&(0,k.shuffleArray)(a.proxies);try{let d;for(let b=0;b<a.proxies.length;b++){let c=a.proxies[b],e=b===a.proxies.length-1?a.destination:{host:a.proxies[b+1].host||a.proxies[b+1].ipaddress,port:a.proxies[b+1].port},f=yield m.createConnection({command:"connect",proxy:c,destination:e,existing_socket:d});d=d||f.socket}"function"==typeof b&&b(null,{socket:d}),c({socket:d})}catch(a){"function"==typeof b?(b(a),c(a)):e(a)}}))}static createUDPFrame(a){let b=new g.SmartBuffer;return b.writeUInt16BE(0),b.writeUInt8(a.frameNumber||0),f.isIPv4(a.remoteHost.host)?(b.writeUInt8(h.Socks5HostType.IPv4),b.writeUInt32BE((0,i.ipv4ToInt32)(a.remoteHost.host))):f.isIPv6(a.remoteHost.host)?(b.writeUInt8(h.Socks5HostType.IPv6),b.writeBuffer((0,i.ipToBuffer)(a.remoteHost.host))):(b.writeUInt8(h.Socks5HostType.Hostname),b.writeUInt8(Buffer.byteLength(a.remoteHost.host)),b.writeString(a.remoteHost.host)),b.writeUInt16BE(a.remoteHost.port),b.writeBuffer(a.data),b.toBuffer()}static parseUDPFrame(a){let b=g.SmartBuffer.fromBuffer(a);b.readOffset=2;let c=b.readUInt8(),d=b.readUInt8();return{frameNumber:c,remoteHost:{host:d===h.Socks5HostType.IPv4?(0,i.int32ToIpv4)(b.readUInt32BE()):d===h.Socks5HostType.IPv6?l.Address6.fromByteArray(Array.from(b.readBuffer(16))).canonicalForm():b.readString(b.readUInt8()),port:b.readUInt16BE()},data:b.readBuffer()}}setState(a){this.state!==h.SocksClientState.Error&&(this.state=a)}connect(a){this.onDataReceived=a=>this.onDataReceivedHandler(a),this.onClose=()=>this.onCloseHandler(),this.onError=a=>this.onErrorHandler(a),this.onConnect=()=>this.onConnectHandler();let b=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||h.DEFAULT_TIMEOUT);b.unref&&"function"==typeof b.unref&&b.unref(),a?this.socket=a:this.socket=new f.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(h.SocksClientState.Connecting),this.receiveBuffer=new j.ReceiveBuffer,a?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),void 0!==this.options.set_tcp_nodelay&&null!==this.options.set_tcp_nodelay&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",a=>{setImmediate(()=>{if(this.receiveBuffer.length>0){let b=this.receiveBuffer.get(this.receiveBuffer.length);a.socket.emit("data",b)}a.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==h.SocksClientState.Established&&this.state!==h.SocksClientState.BoundWaitingForConnection&&this.closeSocket(h.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(h.SocksClientState.Connected),4===this.options.proxy.type?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(h.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(a){this.receiveBuffer.append(a),this.processData()}processData(){for(;this.state!==h.SocksClientState.Established&&this.state!==h.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===h.SocksClientState.SentInitialHandshake)4===this.options.proxy.type?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===h.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===h.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===h.SocksClientState.BoundWaitingForConnection)4===this.options.proxy.type?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(h.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(h.ERRORS.SocketClosed)}onErrorHandler(a){this.closeSocket(a.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(a){this.state!==h.SocksClientState.Error&&(this.setState(h.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new k.SocksClientError(a,this.options)))}sendSocks4InitialHandshake(){let a=this.options.proxy.userId||"",b=new g.SmartBuffer;b.writeUInt8(4),b.writeUInt8(h.SocksCommand[this.options.command]),b.writeUInt16BE(this.options.destination.port),f.isIPv4(this.options.destination.host)?(b.writeBuffer((0,i.ipToBuffer)(this.options.destination.host)),b.writeStringNT(a)):(b.writeUInt8(0),b.writeUInt8(0),b.writeUInt8(0),b.writeUInt8(1),b.writeStringNT(a),b.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=h.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(b.toBuffer())}handleSocks4FinalHandshakeResponse(){let a=this.receiveBuffer.get(8);if(a[1]!==h.Socks4Response.Granted)this.closeSocket(`${h.ERRORS.Socks4ProxyRejectedConnection} - (${h.Socks4Response[a[1]]})`);else if(h.SocksCommand[this.options.command]===h.SocksCommand.bind){let b=g.SmartBuffer.fromBuffer(a);b.readOffset=2;let c={port:b.readUInt16BE(),host:(0,i.int32ToIpv4)(b.readUInt32BE())};"0.0.0.0"===c.host&&(c.host=this.options.proxy.ipaddress),this.setState(h.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:c,socket:this.socket})}else this.setState(h.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let a=this.receiveBuffer.get(8);if(a[1]!==h.Socks4Response.Granted)this.closeSocket(`${h.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${h.Socks4Response[a[1]]})`);else{let b=g.SmartBuffer.fromBuffer(a);b.readOffset=2;let c={port:b.readUInt16BE(),host:(0,i.int32ToIpv4)(b.readUInt32BE())};this.setState(h.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:c,socket:this.socket})}}sendSocks5InitialHandshake(){let a=new g.SmartBuffer,b=[h.Socks5Auth.NoAuth];for(let c of((this.options.proxy.userId||this.options.proxy.password)&&b.push(h.Socks5Auth.UserPass),void 0!==this.options.proxy.custom_auth_method&&b.push(this.options.proxy.custom_auth_method),a.writeUInt8(5),a.writeUInt8(b.length),b))a.writeUInt8(c);this.nextRequiredPacketBufferSize=h.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(a.toBuffer()),this.setState(h.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let a=this.receiveBuffer.get(2);5!==a[0]?this.closeSocket(h.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):a[1]===h.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(h.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):a[1]===h.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=h.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):a[1]===h.Socks5Auth.UserPass?(this.socks5ChosenAuthType=h.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):a[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(h.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let a=this.options.proxy.userId||"",b=this.options.proxy.password||"",c=new g.SmartBuffer;c.writeUInt8(1),c.writeUInt8(Buffer.byteLength(a)),c.writeString(a),c.writeUInt8(Buffer.byteLength(b)),c.writeString(b),this.nextRequiredPacketBufferSize=h.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(c.toBuffer()),this.setState(h.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return d(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write((yield this.options.proxy.custom_auth_request_handler())),this.setState(h.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(a){return d(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(a)})}handleSocks5AuthenticationNoAuthHandshakeResponse(a){return d(this,void 0,void 0,function*(){return 0===a[1]})}handleSocks5AuthenticationUserPassHandshakeResponse(a){return d(this,void 0,void 0,function*(){return 0===a[1]})}handleInitialSocks5AuthenticationHandshakeResponse(){return d(this,void 0,void 0,function*(){this.setState(h.SocksClientState.ReceivedAuthenticationResponse);let a=!1;this.socks5ChosenAuthType===h.Socks5Auth.NoAuth?a=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===h.Socks5Auth.UserPass?a=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(a=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),a?this.sendSocks5CommandRequest():this.closeSocket(h.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){let a=new g.SmartBuffer;a.writeUInt8(5),a.writeUInt8(h.SocksCommand[this.options.command]),a.writeUInt8(0),f.isIPv4(this.options.destination.host)?(a.writeUInt8(h.Socks5HostType.IPv4),a.writeBuffer((0,i.ipToBuffer)(this.options.destination.host))):f.isIPv6(this.options.destination.host)?(a.writeUInt8(h.Socks5HostType.IPv6),a.writeBuffer((0,i.ipToBuffer)(this.options.destination.host))):(a.writeUInt8(h.Socks5HostType.Hostname),a.writeUInt8(this.options.destination.host.length),a.writeString(this.options.destination.host)),a.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=h.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(a.toBuffer()),this.setState(h.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let a=this.receiveBuffer.peek(5);if(5!==a[0]||a[1]!==h.Socks5Response.Granted)this.closeSocket(`${h.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${h.Socks5Response[a[1]]}`);else{let b,c,d=a[3];if(d===h.Socks5HostType.IPv4){let a=h.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<a){this.nextRequiredPacketBufferSize=a;return}c=g.SmartBuffer.fromBuffer(this.receiveBuffer.get(a).slice(4)),"0.0.0.0"===(b={host:(0,i.int32ToIpv4)(c.readUInt32BE()),port:c.readUInt16BE()}).host&&(b.host=this.options.proxy.ipaddress)}else if(d===h.Socks5HostType.Hostname){let d=a[4],e=h.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(d);if(this.receiveBuffer.length<e){this.nextRequiredPacketBufferSize=e;return}b={host:(c=g.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(5))).readString(d),port:c.readUInt16BE()}}else if(d===h.Socks5HostType.IPv6){let a=h.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<a){this.nextRequiredPacketBufferSize=a;return}c=g.SmartBuffer.fromBuffer(this.receiveBuffer.get(a).slice(4)),b={host:l.Address6.fromByteArray(Array.from(c.readBuffer(16))).canonicalForm(),port:c.readUInt16BE()}}this.setState(h.SocksClientState.ReceivedFinalResponse),h.SocksCommand[this.options.command]===h.SocksCommand.connect?(this.setState(h.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:b,socket:this.socket})):h.SocksCommand[this.options.command]===h.SocksCommand.bind?(this.setState(h.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=h.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:b,socket:this.socket})):h.SocksCommand[this.options.command]===h.SocksCommand.associate&&(this.setState(h.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:b,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let a=this.receiveBuffer.peek(5);if(5!==a[0]||a[1]!==h.Socks5Response.Granted)this.closeSocket(`${h.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${h.Socks5Response[a[1]]}`);else{let b,c,d=a[3];if(d===h.Socks5HostType.IPv4){let a=h.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<a){this.nextRequiredPacketBufferSize=a;return}c=g.SmartBuffer.fromBuffer(this.receiveBuffer.get(a).slice(4)),"0.0.0.0"===(b={host:(0,i.int32ToIpv4)(c.readUInt32BE()),port:c.readUInt16BE()}).host&&(b.host=this.options.proxy.ipaddress)}else if(d===h.Socks5HostType.Hostname){let d=a[4],e=h.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(d);if(this.receiveBuffer.length<e){this.nextRequiredPacketBufferSize=e;return}b={host:(c=g.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(5))).readString(d),port:c.readUInt16BE()}}else if(d===h.Socks5HostType.IPv6){let a=h.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<a){this.nextRequiredPacketBufferSize=a;return}c=g.SmartBuffer.fromBuffer(this.receiveBuffer.get(a).slice(4)),b={host:l.Address6.fromByteArray(Array.from(c.readBuffer(16))).canonicalForm(),port:c.readUInt16BE()}}this.setState(h.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:b,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}b.SocksClient=m},96621:(a,b,c)=>{"use strict";let d,e,f,g=c(79428),h=c(65522),i=c(18607),j=!1;b.A=(a,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw Error("Could not determine host. Specify host manually.");let c="MQIsdp"===b.protocolId&&3===b.protocolVersion?"mqttv3.1":"mqtt";!function(a){a.hostname||(a.hostname="localhost"),a.path||(a.path="/"),a.wsOptions||(a.wsOptions={})}(b);let k=function(a,b){let c="alis"===a.protocol?"wss":"ws",d=`${c}://${a.hostname}${a.path}`;return a.port&&80!==a.port&&443!==a.port&&(d=`${c}://${a.hostname}:${a.port}${a.path}`),"function"==typeof a.transformWsUrl&&(d=a.transformWsUrl(d,a,b)),d}(b,a);return(d=b.my).connectSocket({url:k,protocols:c}),e=function(){let a=new h.Transform;return a._write=(a,b,c)=>{d.sendSocketMessage({data:a.buffer,success(){c()},fail(){c(Error())}})},a._flush=a=>{d.closeSocket({success(){a()}})},a}(),f=new i.BufferedDuplex(b,e,d),j||(j=!0,d.onSocketOpen(()=>{f.socketReady()}),d.onSocketMessage(a=>{if("string"==typeof a.data){let b=g.Buffer.from(a.data,"base64");e.push(b)}else{let b=new FileReader;b.addEventListener("load",()=>{if(b.result instanceof ArrayBuffer)return void e.push(g.Buffer.from(b.result));e.push(g.Buffer.from(b.result,"utf-8"))}),b.readAsArrayBuffer(a.data)}}),d.onSocketClose(()=>{f.end(),f.destroy()}),d.onSocketError(a=>{f.destroy(a)})),f}},98007:(a,b,c)=>{"use strict";let{SymbolAsyncIterator:d,SymbolIterator:e,SymbolFor:f}=c(72602),g=f("nodejs.stream.destroyed"),h=f("nodejs.stream.errored"),i=f("nodejs.stream.readable"),j=f("nodejs.stream.writable"),k=f("nodejs.stream.disturbed"),l=f("nodejs.webstream.isClosedPromise");function m(a,b=!1){var c;return!!(a&&"function"==typeof a.pipe&&"function"==typeof a.on&&(!b||"function"==typeof a.pause&&"function"==typeof a.resume)&&(!a._writableState||(null==(c=a._readableState)?void 0:c.readable)!==!1)&&(!a._writableState||a._readableState))}function n(a){var b;return!!(a&&"function"==typeof a.write&&"function"==typeof a.on&&(!a._readableState||(null==(b=a._writableState)?void 0:b.writable)!==!1))}function o(a){return a&&(a._readableState||a._writableState||"function"==typeof a.write&&"function"==typeof a.on||"function"==typeof a.pipe&&"function"==typeof a.on)}function p(a){return!!(a&&!o(a)&&"function"==typeof a.pipeThrough&&"function"==typeof a.getReader&&"function"==typeof a.cancel)}function q(a){return!!(a&&!o(a)&&"function"==typeof a.getWriter&&"function"==typeof a.abort)}function r(a){return!!(a&&!o(a)&&"object"==typeof a.readable&&"object"==typeof a.writable)}function s(a){if(!o(a))return null;let b=a._writableState,c=a._readableState,d=b||c;return!!(a.destroyed||a[g]||null!=d&&d.destroyed)}function t(a){if(!n(a))return null;if(!0===a.writableEnded)return!0;let b=a._writableState;return(null==b||!b.errored)&&("boolean"!=typeof(null==b?void 0:b.ended)?null:b.ended)}function u(a,b){if(!m(a))return null;let c=a._readableState;return(null==c||!c.errored)&&("boolean"!=typeof(null==c?void 0:c.endEmitted)?null:!!(c.endEmitted||!1===b&&!0===c.ended&&0===c.length))}function v(a){return a&&null!=a[i]?a[i]:"boolean"!=typeof(null==a?void 0:a.readable)?null:!s(a)&&m(a)&&a.readable&&!u(a)}function w(a){return a&&null!=a[j]?a[j]:"boolean"!=typeof(null==a?void 0:a.writable)?null:!s(a)&&n(a)&&a.writable&&!t(a)}function x(a){return"boolean"==typeof a._closed&&"boolean"==typeof a._defaultKeepAlive&&"boolean"==typeof a._removedConnection&&"boolean"==typeof a._removedContLen}function y(a){return"boolean"==typeof a._sent100&&x(a)}a.exports={isDestroyed:s,kIsDestroyed:g,isDisturbed:function(a){var b;return!!(a&&(null!=(b=a[k])?b:a.readableDidRead||a.readableAborted))},kIsDisturbed:k,isErrored:function(a){var b,c,d,e,f,g,i,j,k,l;return!!(a&&(null!=(b=null!=(c=null!=(d=null!=(e=null!=(f=null!=(g=a[h])?g:a.readableErrored)?f:a.writableErrored)?e:null==(i=a._readableState)?void 0:i.errorEmitted)?d:null==(j=a._writableState)?void 0:j.errorEmitted)?c:null==(k=a._readableState)?void 0:k.errored)?b:null==(l=a._writableState)?void 0:l.errored))},kIsErrored:h,isReadable:v,kIsReadable:i,kIsClosedPromise:l,kControllerErrorFunction:f("nodejs.webstream.controllerErrorFunction"),kIsWritable:j,isClosed:function(a){if(!o(a))return null;if("boolean"==typeof a.closed)return a.closed;let b=a._writableState,c=a._readableState;return"boolean"==typeof(null==b?void 0:b.closed)||"boolean"==typeof(null==c?void 0:c.closed)?(null==b?void 0:b.closed)||(null==c?void 0:c.closed):"boolean"==typeof a._closed&&x(a)?a._closed:null},isDuplexNodeStream:function(a){return!!(a&&"function"==typeof a.pipe&&a._readableState&&"function"==typeof a.on&&"function"==typeof a.write)},isFinished:function(a,b){return o(a)?!!s(a)||!((null==b?void 0:b.readable)!==!1&&v(a)||(null==b?void 0:b.writable)!==!1&&w(a)):null},isIterable:function(a,b){return null!=a&&(!0===b?"function"==typeof a[d]:!1===b?"function"==typeof a[e]:"function"==typeof a[d]||"function"==typeof a[e])},isReadableNodeStream:m,isReadableStream:p,isReadableEnded:function(a){if(!m(a))return null;if(!0===a.readableEnded)return!0;let b=a._readableState;return!!b&&!b.errored&&("boolean"!=typeof(null==b?void 0:b.ended)?null:b.ended)},isReadableFinished:u,isReadableErrored:function(a){var b,c;return o(a)?a.readableErrored?a.readableErrored:null!=(b=null==(c=a._readableState)?void 0:c.errored)?b:null:null},isNodeStream:o,isWebStream:function(a){return p(a)||q(a)||r(a)},isWritable:w,isWritableNodeStream:n,isWritableStream:q,isWritableEnded:t,isWritableFinished:function(a,b){if(!n(a))return null;if(!0===a.writableFinished)return!0;let c=a._writableState;return(null==c||!c.errored)&&("boolean"!=typeof(null==c?void 0:c.finished)?null:!!(c.finished||!1===b&&!0===c.ended&&0===c.length))},isWritableErrored:function(a){var b,c;return o(a)?a.writableErrored?a.writableErrored:null!=(b=null==(c=a._writableState)?void 0:c.errored)?b:null:null},isServerRequest:function(a){var b;return"boolean"==typeof a._consuming&&"boolean"==typeof a._dumped&&(null==(b=a.req)?void 0:b.upgradeOrConnect)===void 0},isServerResponse:y,willEmitClose:function(a){if(!o(a))return null;let b=a._writableState,c=a._readableState,d=b||c;return!d&&y(a)||!!(d&&d.autoDestroy&&d.emitClose&&!1===d.closed)},isTransformStream:r}},99978:a=>{a.exports=global.process}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[873,428,81],()=>b(b.s=69546));module.exports=c})();